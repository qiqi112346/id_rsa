{"version":3,"sources":["webpack:///./src/views/demo/ShowGallery.vue?2b22","webpack:///./node_modules/codemirror/addon/search/search.js","webpack:///./node_modules/codemirror/addon/fold/comment-fold.js","webpack:///./node_modules/codemirror/addon/scroll/simplescrollbars.js","webpack:///./node_modules/codemirror/addon/search/match-highlighter.js","webpack:///./node_modules/codemirror/addon/dialog/dialog.js","webpack:///./node_modules/codemirror/addon/selection/active-line.js","webpack:///./node_modules/codemirror/addon/hint/javascript-hint.js","webpack:///./src/views/demo/index.vue","webpack:///./node_modules/@mapgis/splitpanes/dist/splitpanes.es.js","webpack:///./src/views/demo/ShowGallery.vue","webpack:///src/views/demo/ShowGallery.vue","webpack:///./src/views/demo/ShowGallery.vue?7ba9","webpack:///./src/views/demo/ShowGallery.vue?b25c","webpack:///src/views/demo/index.vue","webpack:///./src/views/demo/index.vue?93cc","webpack:///./src/views/demo/index.vue?f64d","webpack:///./node_modules/codemirror/addon/fold/foldcode.js","webpack:///./node_modules/codemirror/mode/clike/clike.js","webpack:///./node_modules/codemirror/lib/codemirror.js","webpack:///./node_modules/codemirror/addon/search/matchesonscrollbar.js","webpack:///./node_modules/codemirror/addon/comment/comment.js","webpack:///./node_modules/codemirror/mode/css/css.js","webpack:///./node_modules/codemirror/addon/edit/matchbrackets.js","webpack:///./node_modules/codemirror/addon/fold/indent-fold.js","webpack:///./node_modules/vue-codemirror/dist/vue-codemirror.js","webpack:///./node_modules/codemirror/addon/selection/mark-selection.js","webpack:///./node_modules/codemirror/keymap/sublime.js","webpack:///./node_modules/codemirror/addon/hint/show-hint.js","webpack:///./node_modules/codemirror/addon/scroll/annotatescrollbar.js","webpack:///./node_modules/codemirror/addon/fold/markdown-fold.js","webpack:///./node_modules/codemirror/addon/fold/xml-fold.js","webpack:///./src/views/demo/index.vue?4bca","webpack:///./node_modules/codemirror/addon/fold/brace-fold.js","webpack:///./node_modules/codemirror/addon/search/searchcursor.js","webpack:///./node_modules/codemirror/addon/fold/foldgutter.js","webpack:///./node_modules/codemirror/mode/xml/xml.js","webpack:///./node_modules/codemirror/mode/htmlmixed/htmlmixed.js","webpack:///./node_modules/codemirror/mode/javascript/javascript.js"],"names":["mod","CodeMirror","searchOverlay","query","caseInsensitive","RegExp","replace","global","source","ignoreCase","token","stream","lastIndex","pos","match","exec","string","index","length","skipToEnd","SearchState","this","posFrom","posTo","lastQuery","overlay","getSearchState","cm","state","search","queryCaseInsensitive","toLowerCase","getSearchCursor","caseFold","multiline","persistentDialog","text","deflt","onEnter","onKeyDown","openDialog","value","selectValueOnOpen","closeOnEnter","onClose","clearSearch","bottom","options","dialog","shortText","f","prompt","confirmDialog","fs","openConfirm","confirm","parseString","ch","parseQuery","isRE","indexOf","e","test","startSearch","queryText","removeOverlay","addOverlay","showMatchesOnScrollbar","annotate","clear","doSearch","rev","persistent","immediate","findNext","q","getSelection","hiding","searchNext","event","e_stop","getCursor","style","opacity","shiftKey","_","to","line","document","querySelector","display","wrapper","getBoundingClientRect","cursorCoords","top","getQueryDialog","keyName","extra","getOption","cmd","keyMap","execCommand","operation","callback","cursor","find","Pos","lastLine","firstLine","setSelection","from","scrollIntoView","el","tag","attrs","element","createElement","createDocumentFragment","key","i","arguments","child","appendChild","createTextNode","label","className","phrase","type","id","setAttribute","getReplaceQueryDialog","getReplacementQueryDialog","getDoReplaceConfirm","replaceAll","getRange","all","dialogText","fragment","advance","start","doReplace","defineOption","commands","findPersistent","findPersistentNext","findPersistentPrev","findPrev","registerGlobalHelper","mode","blockCommentStart","blockCommentEnd","getModeAt","startToken","endToken","startCh","lineText","getLine","at","pass","found","lastIndexOf","getTokenTypeAt","slice","end","endCh","depth","outer","nextOpen","nextClose","Math","min","Bar","cls","orientation","scroll","screen","total","size","node","inner","self","onWheel","moved","wheelEventPixels","oldPos","moveTo","e_preventDefault","on","which","axis","startpos","move","done","off","where","innerBox","clientX","left","right","clientY","prototype","setPos","force","minButtonSize","SimpleScrollbars","place","addClass","horiz","vert","width","update","scrollSize","clientSize","barSize","sizeChanged","buttonSize","measure","window","getComputedStyle","currentStyle","parseInt","height","needsH","scrollWidth","clientWidth","needsV","scrollHeight","clientHeight","viewHeight","viewWidth","barLeft","setScrollTop","setScrollLeft","parent","parentNode","removeChild","scrollbarModel","simple","defaults","minChars","delay","wordsOnly","annotateScrollbar","showToken","trim","State","name","hasOwnProperty","timeout","matchesonscroll","active","cursorActivity","matchHighlighter","hasFocus","scheduleHighlight","onFocus","clearTimeout","setTimeout","highlightMatches","hasBoundary","makeOverlay","searchFor","charAt","somethingSelected","isWord","selection","re","cur","str","chr","boundariesAround","next","skipTo","val","old","Init","dialogDiv","template","wrap","getWrapperElement","innerHTML","closeNotification","newVal","currentNotificationClose","defineExtension","closed","me","close","inp","rmClass","focus","button","getElementsByTagName","select","onInput","onKeyUp","keyCode","blur","closeOnBlur","evt","relatedTarget","callbacks","buttons","blurring","b","doneTimer","duration","WRAP_CLASS","BACK_CLASS","GUTT_CLASS","clearActiveLines","activeLines","removeLineClass","sameArray","a","updateActiveLines","ranges","range","option","nonEmpty","anchor","head","empty","getLineHandleVisualStart","push","addLineClass","selectionChange","sel","prev","listSelections","forEach","arr","arrayContains","item","Array","scriptHint","editor","keywords","getToken","innerMode","getMode","helperType","tprop","context","list","getCompletions","javascriptHint","javascriptKeywords","getTokenAt","getCoffeeScriptToken","coffeescriptHint","coffeescriptKeywords","registerHelper","stringProps","split","arrayProps","funcProps","forAllProps","obj","Object","getOwnPropertyNames","getPrototypeOf","o","globalScope","maybeAdd","gatherCompletions","Function","base","pop","additionalContext","useGlobalScope","jQuery","v","localVars","c","vars","globalVars","render","_vm","_c","_self","class","mobile","splitPane","currentKind","fullscreen","_e","staticClass","directives","rawName","expression","full","reset","run","loading","model","$$v","slot","ref","code","cmOptions","onCmCodeChange","onCmReady","noCaseArr","includes","getMapMode","markdown","markdownRendered","iframemobile","staticStyle","codeWrapperStretchStatus","codeWrapperStretch","staticRenderFns","__defProp","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","enumerable","configurable","writable","__spreadValues","prop","call","__spreadProps","__objRest","exclude","target","normalizeComponent","scriptExports","render2","staticRenderFns2","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","exports","__vue2_script$1","props","horizontal","Boolean","pushOtherPanes","default","dblClickSplitter","rtl","firstSplitter","requestUpdate","onPaneAdd","onPaneRemove","onPaneClick","data","container","ready","panes","touch","mouseDown","dragging","activeSplitter","splitterTaps","splitter","timeoutId","computed","reduce","pane2","methods","indexedPanes","showcase","getElementById","pointerEvents","addEventListener","onMouseMove","passive","onMouseUp","removeEventListener","splitterIndex","bindEvents","preventDefault","calculatePanesSize","getCurrentMouseDrag","$emit","map","max","unbindEvents","onSplitterDblClick","totalMinSizes","paneId","rect","touches","x","y","drag","containerSize","sums","prevPanesSize","sumPrevPanesSize","nextPanesSize","sumNextPanesSize","prevReachedMinPanes","nextReachedMinPanes","minDrag","maxDrag","dragPercentage","getCurrentDragPercentage","panesToResize","paneBefore","paneAfter","paneBeforeMaxReached","paneAfterMaxReached","doPushOtherPanes","findPrevExpandedPane","findNextExpandedPane","panesCount","reverse","p","children","isPane","classList","contains","isSplitter","console","warn","paneIndex","nextPaneNode","isVeryFirst","elm","onmousedown","onMouseDown","ontouchstart","onclick","onSplitterClick","ondblclick","insertBefore","removeSplitter","addSplitter","_a","_b","args","_uid","entries","$el","some","parseFloat","minSize","maxSize","splice","isNaN","givenSize","$nextTick","redoSplitters","resetPaneSizes","addedPane","pane3","findIndex","removed","removedPane","changedPanes","equalizeAfterAddOrRemove","equalize","initialPanesSizing","equalSpace","leftToAllocate","ungrowable","unshrinkable","readjustSizes","definedSizes","leftToAllocate2","abs","equalSpaceToAllocate","newPaneSize","allocated","watch","deep","updatePaneComponents","enable","splitters","querySelectorAll","$refs","checkSplitpanesNodes","$slots","__vue2_render","__vue2_staticRenderFns","__cssModules$1","__component__$1","__vue2_injectStyles$1","splitpanes","_h","$createElement","$event","_t","__vue2_script","inject","Number","String","__cssModules","__component__","__vue2_injectStyles","pane","_l","_v","_s","isCurrent","file","changeUrl","getImageUrl","icon","nullImg","components","isMobile","current","getCurrentKind","required","anchors","location","href","imageUrl","hrefs","baseUrl","kind","getLinkUrl","log","url","$router","component","IconFont","codemirror","VueMarkdown","Splitpanes","Pane","ShowGallery","config","newCode","instanseObject","undefined","help","tabSize","styleActiveLine","lineNumbers","styleSelectedText","foldGutter","gutters","highlightSelectionMatches","scrollbarStyle","hintOptions","completeSingle","matchBrackets","showCursorWhenSelecting","theme","extraKeys","Ctrl","mapCode","getGalleryKind","mounted","_vm$markdownScrollbal","vm","markdownScrollbal","markdownScrollBox","onresize","resetSize","routers","childs","first","folder","length2","j","second","resetHtml","getHtmlUrl","image","getApiUrl","apiUrl","getHelpUrl","helpUrl","mapMode","path","$route","mapmodes","oldCode","resetCase","codeContent","getElementsByClassName","demoContent","markdownContent","paddingMainContent","paddingTop","innerHeight","_this","params","Promise","resolve","reject","axios","get","then","response","catch","error","readyStateInterval","_this2","iframe","unloadAction","contentWindow","setInterval","iframeDoc","readyState","clearInterval","showcaseFrame","doc","body","background","innerText","open","write","getValue","attachEvent","scrollTo","scrollTop","onload","reload","onCmFocus","Prism","highlightAll","doFold","finder","allowFolded","marks","findMarksAt","__isFold","cleared","myWidget","makeWidget","myRange","markText","replacedWith","clearOnEnter","signal","widget","cloneNode","newFoldFunction","rangeFinder","toggleFold","foldCode","fold","unfold","scanUp","foldAll","unfoldAll","funcs","helpers","getHelpers","defaultOptions","auto","minFoldSize","editorOptions","foldOptions","Context","indented","column","info","align","pushContext","col","indent","popContext","t","typeBefore","prevToken","typeAtEndOfLine","indentation","isTopScope","words","word","defineMode","parserConfig","curPunc","isDefKeyword","indentUnit","statementIndentUnit","dontAlignCalls","types","builtin","blockKeywords","defKeywords","atoms","hooks","multiLineStrings","indentStatements","indentSwitch","namespaceSeparator","isPunctuationChar","numberStart","number","isOperatorChar","isIdentifierChar","isReservedIdentifier","tokenBase","result","tokenize","tokenString","backUp","eat","tokenComment","eatWhile","quote","escaped","maybeEnd","maybeEOL","typeFirstDefinitions","eol","startState","basecolumn","startOfLine","ctx","sol","eatSpace","styleDefs","textAfter","Pass","firstChar","closing","dontIndentStatements","switchBlock","allmanIndentation","electricInput","blockCommentContinue","lineComment","cKeywords","cppKeywords","objCKeywords","objCBuiltins","basicCTypes","basicObjCTypes","cTypes","identifier","objCTypes","cBlockKeywords","cDefKeywords","cppHook","peek","pointerHook","_stream","cIsReservedIdentifier","cpp14Literal","cpp11StringHook","cpp11RawStringDelim","tokenRawString","cppLooksLikeConstructor","lastTwo","tokenAtString","delim","def","mimes","defineMIME","tokenTripleString","tokenNestedComment","tokenKotlinString","tripleString","modeProps","cx","closeBrackets","pairs","triples","intendSwitch","stringTokenizer","tokenCeylonString","toUpperCase","factory","module","userAgent","navigator","platform","gecko","ie_upto10","ie_11up","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","chrome_version","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mac","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","after","removeChildren","count","childNodes","firstChild","removeChildrenAndAdd","elt","content","cssText","eltP","nodeType","host","activeElt","rootNode","activeElement","ownerDocument","joinClasses","as","createRange","endNode","r","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","root","getRootNode","win","defaultView","bind","apply","copyObj","overwrite","countColumn","startIndex","startValue","n","nextTab","selectionStart","selectionEnd","Delayed","time","handler","onTimeout","array","Date","set","ms","scrollerGap","toString","sel_dontScroll","sel_mouse","origin","sel_move","findColumn","goal","skipped","spaceStrs","spaceStr","lst","out","insertSorted","score","priority","nothing","createObj","inst","create","nonASCIISingleCaseWordChar","isWordCharBasic","isWordChar","helper","isEmpty","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","dir","findFirst","pred","midF","mid","ceil","floor","iterateBidiSections","order","part","level","bidiOther","getBidiPartAt","sticky","bidiOrdering","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","len","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","m","i$7","isRTL","j$2","nstart","unshift","getOrder","noHandlers","emitter","_handlers","getHandlers","detachEvent","handlers","signalDOMEvent","override","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_target","srcElement","e_button","ctrlKey","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","offsetHeight","offsetWidth","hasBadBidiRects","txt","r0","r1","splitLinesAuto","l","nl","rt","hasSelection","te","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","modes","mimeModes","dependencies","mime","spec","resolveMode","mfactory","modeObj","modeExtensions","exts","prop$1","extendMode","properties","copyState","nstate","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","Error","chunk","lines","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","diff","lineNo","no","lineAtHeight","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","cmp","equalCursorPos","copyPos","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","ok","pattern","consume","cased","substr","hideFirstChars","lookAhead","oracle","baseToken","SavedContext","maxLookAhead","baseTokens","baseTokenPos","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","loop","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","callBlankLine","readToken","blankLine","copy","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","op","inThisOp","WeakSet","markedSpans","has","attachLine","markedSpansBefore","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","stretchSpansOverChange","change","oldFirst","oldLast","sameLine","offset","span$1","found$1","clearEmptySpans","newMarkers","gapMarkers","gap","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","externalMeasured","insertLineContent","maps","caches","lastChild","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","attributes","displayText","special","specialChars","mustWrap","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","input","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","wrap$1","gutterWrap","lineNumber","gutterLeft","k","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","eventInWidget","getAttribute","sizer","mover","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","paddingRight","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","barHeight","ensureLineHeights","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","measureText","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","preparedMeasure","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","closestDist","endX","dist","textHeight","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","e$1","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","customCursor","$customCursor","primIndex","drawSelectionCursor","drawSelectionRange","cursorHeight","charPos","defaultCharWidth","otherCursor","cmpCoords","padding","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","blinker","cursorDiv","visibility","cursorBlinkRate","onBlur","ensureFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","viewTop","oldHeight","mustScroll","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","scrollNode","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","startWorker","forceScroll","scrollbars","isScroller","alignHorizontally","measureForScrollbars","gutterW","docH","docHeight","NativeScrollbars","tabIndex","checkedZeroWidth","minHeight","minWidth","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","bar","maybeDisable","elementFromPoint","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","initScrollbars","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","markArrays","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","nodeName","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","innerW","lineGutter","lineNumInnerWidth","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","clipPath","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","delta","onScrollWheel","chromeScrollHack","pixelsPerUnit","deltaMode","deltaX","deltaY","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","shiftDoc","distance","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","remaining","leaf","maybeSpill","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","this$1","oldH","nextMarkerId","TextMarker","markTextShared","addToHistory","curLine","clearHistory","withOp","visual","dHeight","SharedTextMarker","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","join","lineSeparator","setValue","getLineHandle","getLineNumber","lineCount","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","removeLineWidget","setBookmark","realOpts","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","link","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","readTextFromFile","allowDropFileTypes","reader","onerror","readAsText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","145","173","186","187","188","189","190","191","192","219","220","221","222","224","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","fromCharCode","normalizeKeyName","alt","ctrl","normalizeKeyMap","keymap","keyname","keys","lookupKey","getKeyMap","fallthrough","isModifierKey","addModifierNames","noShift","altKey","metaKey","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","res","nextCh","basic","pcDefault","emacsy","macDefault","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","getField","handled","showCrossHair","up","onKeyPress","charCode","lastClick","lastDoubleClick","DOUBLECLICK_DELAY","PastClick","clickRepeat","now","compare","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","unit","addNew","moveOnDrag","contained","behavior","dragDrop","leftButtonStartDrag","leftButtonSelect","dragEnd","mouseMove","dragStart","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","lineBox","g","contextMenuInGutter","themeChanged","optionHandlers","defineOptions","notOnInit","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","wasOn","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","radiusX","radiusY","farAway","pageX","pageY","how","aggressive","curSpace","curSpaceString","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","setOption","getDoc","addKeyMap","removeKeyMap","modeSpec","newRanges","getLineTokens","getHelper","_global","getStateAfter","defaultTextHeight","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","getScrollInfo","interpret","swapDoc","phraseText","phrases","getScrollerElement","getGutterElement","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","extraLinebreak","recognizeMarker","addText","walk","cmText","markerID","isBlock","textContent","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","contentEditable","updateFromDOM","readFromDOMSoon","forceCompositionEnd","removeAttribute","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","fromIndex","fromNode","toNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","TextareaInput","prevInput","pollingFast","resetting","fromTextArea","textarea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","createField","prepareCopyCut","fastPoll","dispatchEvent","Event","_display","opts","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","disabled","dontDelegate","method","func","defineDocExtension","version","SearchAnnotation","annotateOptions","listenForChanges","annotation","matches","findMatches","_cm","onChange","MAX_MATCHES","offsetLine","changeStart","sizeChange","maxMatches","startLine","endLine","newFrom","newTo","updateAfterChange","noOptions","nonWS","probablyInsideString","useInnerComments","toggleComment","minLine","uncomment","commentString","pad","blankLines","commentBlankLines","baseString","whitespace","fullLines","blockComment","startString","endString","lastLineHasText","lead","blockCommentLead","atCursor","didSomething","lineString","endPos","insideStart","insideEnd","lastStart","firstEnd","almostLastStart","foundEnd","keySet","inline","propertyKeywords","tokenHooks","documentTypes","mediaTypes","mediaFeatures","mediaValueKeywords","nonStandardPropertyKeywords","fontProperties","counterDescriptors","colorKeywords","valueKeywords","allowNested","supportsAtComponent","highlightNonStandardPropertyKeywords","ret","tp","tokenParenthesized","states","popAndPass","wordAsValue","stateArg","atBlock","documentTypes_","mediaTypes_","mediaFeatures_","mediaValueKeywords_","propertyKeywords_","nonStandardPropertyKeywords_","fontProperties_","counterDescriptors_","colorKeywords_","valueKeywords_","allWords","tokenCComment","ie_lt8","matching","bracketRegex","findMatchingBracket","afterCursor","strict","scanForBracket","forward","maxScanLen","maxScanLineLength","maxScanLines","stack","autoclear","maxHighlightLen","maxHighlightLineLength","highlightNonMatching","doMatchBrackets","currentlyHighlighted","clearHighlighted","oldConfig","lineIndent","spaceTo","myIndent","lastLineInFold","__esModule","s","TypeError","cminstance","unseenLines","merge","globalOptions","globalEvents","switchMerge","handerCodeChange","initialize","MergeView","mergeview","edit","unseenLineMarkers","destroy","beforeDestroy","install","u","esModule","onCursorActivity","markedSelection","markedSelectionStyle","CHUNK_SIZE","coverRange","addAt","atEnd","cmds","findPosSubword","startPos","cat","moveSubword","insertLine","newSelection","wordAt","addCursorToSelection","newRange","isSelectedRange","goSubwordLeft","goSubwordRight","scrollLineUp","visibleBottomLine","scrollLineDown","visibleTopLine","splitSelectionByLine","lineRanges","singleSelectionTop","selectLine","extended","insertLineAfter","insertLineBefore","selectNextOccurrence","fullWord","sublimeFindFullWord","skipAndSelectNextOccurrence","prevAnchor","prevHead","addCursorToPrevLine","addCursorToNextLine","mirror","selectBetweenBrackets","opening","puncType","sortLines","caseSensitive","toSort","au","bu","modifyWordOrSelection","indices","replacements","getTarget","findAndGoTo","findPrevious","selectScope","goToBracket","swapLineUp","linesToMove","newSels","swapLineDown","toggleCommentIndented","joinLines","joined","actual","duplicateLine","reverseSortLines","sortLinesInsensitive","reverseSortLinesInsensitive","nextBookmark","sublimeBookmarks","prevBookmark","toggleBookmark","sublimeBookmark","clearBookmarks","selectBookmarks","smartBackspace","toStartOfLine","deletePos","prevIndent","delLineRight","upcaseAtCursor","downcaseAtCursor","setSublimeMark","sublimeMark","selectToSublimeMark","deleteToSublimeMark","tmp","sublimeKilled","swapWithSublimeMark","sublimeYank","showInCenter","findUnder","findUnderPrevious","findAllUnder","primaryIndex","macSublime","pcSublime","sublime","HINT_ELEMENT_CLASS","ACTIVE_HINT_ELEMENT_CLASS","Completion","debounce","tick","startLen","updateOnCursorActivity","activityFunc","showHint","getHints","async","newOpts","parseOptions","selections","supportsSelection","completionActive","completion","requestAnimationFrame","fn","cancelAnimationFrame","getText","buildKeyMap","baseMap","Up","moveFocus","Down","PageUp","menuSize","PageDown","Home","setFocus","End","Enter","pick","Tab","Esc","custom","customKeys","ourMap","addBinding","getHintElement","hintsElement","Widget","random","picked","parentWindow","hints","selectedHint","completions","hintId","alignWithWord","below","isContainerPositioned","offsetParentPosition","bodyPosition","winW","innerWidth","winH","startScroll","moveOnOverlap","DOMRect","scrolls","paddingForScrollbar","overlapY","spaceAbove","closingOnBlur","overlapX","avoidWrap","changeActive","screenAmount","closeOnUnfocus","onScroll","curScroll","point","completeOnSingleClick","selectedHintRange","getSelectedHintRange","scrollToActive","applicableHelpers","fetchHints","resolveAutoHints","resolved","app","fromList","anyword","closeOnPick","identStart","closeCharacters","disable","myTick","finishUpdate","node1","node2","firstNode","scrollMargin","term","autocomplete","Annotation","scheduleRedraw","doRedraw","redraw","buttonHeight","scrollButtonHeight","annotations","doUpdate","computeScale","resizeHandler","hScale","anns","singleLineH","curLineObj","getY","topY","nextTop","ann","maxDepth","isHeader","tokentype","headerLevel","lastLineNo","nextNextLine","nameStartChar","nameChar","xmlTagStart","Iter","tagAt","prevLine","toTagEnd","gt","lastSlash","selfClose","toTagStart","lt","toNextTag","toPrevTag","findMatchingClose","findMatchingOpen","openTag","findMatchingTag","findEnclosingTag","scanForClosingTag","bracketFolding","findOpening","pair","tokenType","findRange","hasImport","semi","hasInclude","noFold","regexpFlags","regexp","flags","ensureFlags","maybeMultiline","searchRegexpForward","searchRegexpForwardMultiline","inside","lastMatchIn","endMargin","newMatch","searchRegexpBackward","searchRegexpBackwardMultiline","adjustPos","orig","folded","foldFunc","searchStringForward","cutFrom","searchStringBackward","topString","SearchCursor","atOccurrence","afterEmptyMatch","normalize","onGutterClick","onViewportChange","onFold","optionChange","updateInViewport","indicatorOpen","indicatorFolded","isFolded","updateFoldInfo","foldOption","clsFolded","clsOpen","vp","changeUpdate","foldOnChangeTimeSpan","updateViewportTimeSpan","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","xmlConfig","allowMissingTagName","editorConf","config_","setStyle","htmlMode","inText","chain","parser","inBlock","doctype","inTag","baseState","tagName","tagStart","inAttribute","stringStartCol","closure","isInAttribute","terminator","lower","noIndent","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","attrEqState","attrValueState","attrContinuedState","isInText","baseIndent","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","configuration","skipAttribute","xmlCurrentTag","xmlCurrentContext","defaultTags","script","maybeBackup","pat","attrRegexpCache","getAttrRegexp","getAttrValue","getTagRegexp","anchored","addTags","findMatchingMode","tagInfo","tagText","tags","configTags","configScript","scriptTypes","html","htmlState","endTagA","endTag","localState","localMode","local","statementIndent","jsonldMode","jsonld","jsonMode","json","trackScope","isTS","typescript","wordRE","wordCharacters","kw","A","B","C","D","operator","atom","isJsonldKeyword","readRegexp","inSet","cont","expressionAllowed","tokenQuasi","lexical","lastType","brackets","findFatArrow","fatArrowAt","arrow","sawSomething","bracket","atomicTypes","JSLexical","inScope","varname","parseJS","cc","marked","combinator","statement","lex","inList","register","block","newContext","registerVarScoped","Var","isModifier","defaultVars","pushcontext","pushblockcontext","popcontext","pushlex","poplex","expect","wanted","exp","vardef","parenExpr","maybeexpression","maybeelse","functiondef","forspec","enumdef","typename","typeexpr","maybelabel","maybeCatchBinding","afterExport","afterImport","funarg","expressionInner","expressionNoComma","noComma","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","classExpression","arrayLiteral","contCommasep","objprop","quasi","maybeTarget","expr","property","continueQuasi","targetNoComma","maybeTypeArgs","getterSetter","afterprop","maybetype","what","sep","proceed","maybetypeOrIn","mayberettype","isKW","afterType","typeprops","typearg","maybeReturnType","quasiType","typeprop","functiondecl","continueQuasiType","typeparam","maybeTypeDefault","maybeAssign","vardefCont","eltpattern","proppattern","_type","forspec1","forspec2","classNameAfter","classBody","classfield","isInterface","maybeFrom","exportField","importSpec","maybeMoreImports","maybeAs","enummember","isContinuedStatement","doubleIndentSwitch","skipExpression"],"mappings":"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","file":"js/chunk-280b8852.48c569fe.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowGallery.vue?vue&type=style&index=0&id=080b7915&prod&lang=less&scoped=true\"","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// Define search commands. Depends on dialog.js or another\n// implementation of the openDialog method.\n\n// Replace works a little oddly -- it will do the replace on the next\n// Ctrl-G (or whatever is bound to findNext) press. You prevent a\n// replace by making sure the match is no longer selected when hitting\n// Ctrl-G.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../dialog/dialog\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./searchcursor\", \"../dialog/dialog\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  // default search panel location\n  CodeMirror.defineOption(\"search\", {bottom: false});\n\n  function searchOverlay(query, caseInsensitive) {\n    if (typeof query == \"string\")\n      query = new RegExp(query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), caseInsensitive ? \"gi\" : \"g\");\n    else if (!query.global)\n      query = new RegExp(query.source, query.ignoreCase ? \"gi\" : \"g\");\n\n    return {token: function(stream) {\n      query.lastIndex = stream.pos;\n      var match = query.exec(stream.string);\n      if (match && match.index == stream.pos) {\n        stream.pos += match[0].length || 1;\n        return \"searching\";\n      } else if (match) {\n        stream.pos = match.index;\n      } else {\n        stream.skipToEnd();\n      }\n    }};\n  }\n\n  function SearchState() {\n    this.posFrom = this.posTo = this.lastQuery = this.query = null;\n    this.overlay = null;\n  }\n\n  function getSearchState(cm) {\n    return cm.state.search || (cm.state.search = new SearchState());\n  }\n\n  function queryCaseInsensitive(query) {\n    return typeof query == \"string\" && query == query.toLowerCase();\n  }\n\n  function getSearchCursor(cm, query, pos) {\n    // Heuristic: if the query string is all lowercase, do a case insensitive search.\n    return cm.getSearchCursor(query, pos, {caseFold: queryCaseInsensitive(query), multiline: true});\n  }\n\n  function persistentDialog(cm, text, deflt, onEnter, onKeyDown) {\n    cm.openDialog(text, onEnter, {\n      value: deflt,\n      selectValueOnOpen: true,\n      closeOnEnter: false,\n      onClose: function() { clearSearch(cm); },\n      onKeyDown: onKeyDown,\n      bottom: cm.options.search.bottom\n    });\n  }\n\n  function dialog(cm, text, shortText, deflt, f) {\n    if (cm.openDialog) cm.openDialog(text, f, {value: deflt, selectValueOnOpen: true, bottom: cm.options.search.bottom});\n    else f(prompt(shortText, deflt));\n  }\n\n  function confirmDialog(cm, text, shortText, fs) {\n    if (cm.openConfirm) cm.openConfirm(text, fs);\n    else if (confirm(shortText)) fs[0]();\n  }\n\n  function parseString(string) {\n    return string.replace(/\\\\([nrt\\\\])/g, function(match, ch) {\n      if (ch == \"n\") return \"\\n\"\n      if (ch == \"r\") return \"\\r\"\n      if (ch == \"t\") return \"\\t\"\n      if (ch == \"\\\\\") return \"\\\\\"\n      return match\n    })\n  }\n\n  function parseQuery(query) {\n    var isRE = query.match(/^\\/(.*)\\/([a-z]*)$/);\n    if (isRE) {\n      try { query = new RegExp(isRE[1], isRE[2].indexOf(\"i\") == -1 ? \"\" : \"i\"); }\n      catch(e) {} // Not a regular expression after all, do a string search\n    } else {\n      query = parseString(query)\n    }\n    if (typeof query == \"string\" ? query == \"\" : query.test(\"\"))\n      query = /x^/;\n    return query;\n  }\n\n  function startSearch(cm, state, query) {\n    state.queryText = query;\n    state.query = parseQuery(query);\n    cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));\n    state.overlay = searchOverlay(state.query, queryCaseInsensitive(state.query));\n    cm.addOverlay(state.overlay);\n    if (cm.showMatchesOnScrollbar) {\n      if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n      state.annotate = cm.showMatchesOnScrollbar(state.query, queryCaseInsensitive(state.query));\n    }\n  }\n\n  function doSearch(cm, rev, persistent, immediate) {\n    var state = getSearchState(cm);\n    if (state.query) return findNext(cm, rev);\n    var q = cm.getSelection() || state.lastQuery;\n    if (q instanceof RegExp && q.source == \"x^\") q = null\n    if (persistent && cm.openDialog) {\n      var hiding = null\n      var searchNext = function(query, event) {\n        CodeMirror.e_stop(event);\n        if (!query) return;\n        if (query != state.queryText) {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n        }\n        if (hiding) hiding.style.opacity = 1\n        findNext(cm, event.shiftKey, function(_, to) {\n          var dialog\n          if (to.line < 3 && document.querySelector &&\n              (dialog = cm.display.wrapper.querySelector(\".CodeMirror-dialog\")) &&\n              dialog.getBoundingClientRect().bottom - 4 > cm.cursorCoords(to, \"window\").top)\n            (hiding = dialog).style.opacity = .4\n        })\n      };\n      persistentDialog(cm, getQueryDialog(cm), q, searchNext, function(event, query) {\n        var keyName = CodeMirror.keyName(event)\n        var extra = cm.getOption('extraKeys'), cmd = (extra && extra[keyName]) || CodeMirror.keyMap[cm.getOption(\"keyMap\")][keyName]\n        if (cmd == \"findNext\" || cmd == \"findPrev\" ||\n          cmd == \"findPersistentNext\" || cmd == \"findPersistentPrev\") {\n          CodeMirror.e_stop(event);\n          startSearch(cm, getSearchState(cm), query);\n          cm.execCommand(cmd);\n        } else if (cmd == \"find\" || cmd == \"findPersistent\") {\n          CodeMirror.e_stop(event);\n          searchNext(query, event);\n        }\n      });\n      if (immediate && q) {\n        startSearch(cm, state, q);\n        findNext(cm, rev);\n      }\n    } else {\n      dialog(cm, getQueryDialog(cm), \"Search for:\", q, function(query) {\n        if (query && !state.query) cm.operation(function() {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n          findNext(cm, rev);\n        });\n      });\n    }\n  }\n\n  function findNext(cm, rev, callback) {cm.operation(function() {\n    var state = getSearchState(cm);\n    var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);\n    if (!cursor.find(rev)) {\n      cursor = getSearchCursor(cm, state.query, rev ? CodeMirror.Pos(cm.lastLine()) : CodeMirror.Pos(cm.firstLine(), 0));\n      if (!cursor.find(rev)) return;\n    }\n    cm.setSelection(cursor.from(), cursor.to());\n    cm.scrollIntoView({from: cursor.from(), to: cursor.to()}, 20);\n    state.posFrom = cursor.from(); state.posTo = cursor.to();\n    if (callback) callback(cursor.from(), cursor.to())\n  });}\n\n  function clearSearch(cm) {cm.operation(function() {\n    var state = getSearchState(cm);\n    state.lastQuery = state.query;\n    if (!state.query) return;\n    state.query = state.queryText = null;\n    cm.removeOverlay(state.overlay);\n    if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n  });}\n\n  function el(tag, attrs) {\n    var element = tag ? document.createElement(tag) : document.createDocumentFragment();\n    for (var key in attrs) {\n      element[key] = attrs[key];\n    }\n    for (var i = 2; i < arguments.length; i++) {\n      var child = arguments[i]\n      element.appendChild(typeof child == \"string\" ? document.createTextNode(child) : child);\n    }\n    return element;\n  }\n\n  function getQueryDialog(cm)  {\n    var label = el(\"label\", {className: \"CodeMirror-search-label\"},\n                   cm.phrase(\"Search:\"),\n                   el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\",\n                                id: \"CodeMirror-search-field\"}));\n    label.setAttribute(\"for\",\"CodeMirror-search-field\");\n    return el(\"\", null, label, \" \",\n              el(\"span\", {style: \"color: #666\", className: \"CodeMirror-search-hint\"},\n                 cm.phrase(\"(Use /re/ syntax for regexp search)\")));\n  }\n  function getReplaceQueryDialog(cm) {\n    return el(\"\", null, \" \",\n              el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\"}), \" \",\n              el(\"span\", {style: \"color: #666\", className: \"CodeMirror-search-hint\"},\n                 cm.phrase(\"(Use /re/ syntax for regexp search)\")));\n  }\n  function getReplacementQueryDialog(cm) {\n    return el(\"\", null,\n              el(\"span\", {className: \"CodeMirror-search-label\"}, cm.phrase(\"With:\")), \" \",\n              el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\"}));\n  }\n  function getDoReplaceConfirm(cm) {\n    return el(\"\", null,\n              el(\"span\", {className: \"CodeMirror-search-label\"}, cm.phrase(\"Replace?\")), \" \",\n              el(\"button\", {}, cm.phrase(\"Yes\")), \" \",\n              el(\"button\", {}, cm.phrase(\"No\")), \" \",\n              el(\"button\", {}, cm.phrase(\"All\")), \" \",\n              el(\"button\", {}, cm.phrase(\"Stop\")));\n  }\n\n  function replaceAll(cm, query, text) {\n    cm.operation(function() {\n      for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {\n        if (typeof query != \"string\") {\n          var match = cm.getRange(cursor.from(), cursor.to()).match(query);\n          cursor.replace(text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n        } else cursor.replace(text);\n      }\n    });\n  }\n\n  function replace(cm, all) {\n    if (cm.getOption(\"readOnly\")) return;\n    var query = cm.getSelection() || getSearchState(cm).lastQuery;\n    var dialogText = all ? cm.phrase(\"Replace all:\") : cm.phrase(\"Replace:\")\n    var fragment = el(\"\", null,\n                      el(\"span\", {className: \"CodeMirror-search-label\"}, dialogText),\n                      getReplaceQueryDialog(cm))\n    dialog(cm, fragment, dialogText, query, function(query) {\n      if (!query) return;\n      query = parseQuery(query);\n      dialog(cm, getReplacementQueryDialog(cm), cm.phrase(\"Replace with:\"), \"\", function(text) {\n        text = parseString(text)\n        if (all) {\n          replaceAll(cm, query, text)\n        } else {\n          clearSearch(cm);\n          var cursor = getSearchCursor(cm, query, cm.getCursor(\"from\"));\n          var advance = function() {\n            var start = cursor.from(), match;\n            if (!(match = cursor.findNext())) {\n              cursor = getSearchCursor(cm, query);\n              if (!(match = cursor.findNext()) ||\n                  (start && cursor.from().line == start.line && cursor.from().ch == start.ch)) return;\n            }\n            cm.setSelection(cursor.from(), cursor.to());\n            cm.scrollIntoView({from: cursor.from(), to: cursor.to()});\n            confirmDialog(cm, getDoReplaceConfirm(cm), cm.phrase(\"Replace?\"),\n                          [function() {doReplace(match);}, advance,\n                           function() {replaceAll(cm, query, text)}]);\n          };\n          var doReplace = function(match) {\n            cursor.replace(typeof query == \"string\" ? text :\n                           text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n            advance();\n          };\n          advance();\n        }\n      });\n    });\n  }\n\n  CodeMirror.commands.find = function(cm) {clearSearch(cm); doSearch(cm);};\n  CodeMirror.commands.findPersistent = function(cm) {clearSearch(cm); doSearch(cm, false, true);};\n  CodeMirror.commands.findPersistentNext = function(cm) {doSearch(cm, false, true, true);};\n  CodeMirror.commands.findPersistentPrev = function(cm) {doSearch(cm, true, true, true);};\n  CodeMirror.commands.findNext = doSearch;\n  CodeMirror.commands.findPrev = function(cm) {doSearch(cm, true);};\n  CodeMirror.commands.clearSearch = clearSearch;\n  CodeMirror.commands.replace = replace;\n  CodeMirror.commands.replaceAll = function(cm) {replace(cm, true);};\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerGlobalHelper(\"fold\", \"comment\", function(mode) {\n  return mode.blockCommentStart && mode.blockCommentEnd;\n}, function(cm, start) {\n  var mode = cm.getModeAt(start), startToken = mode.blockCommentStart, endToken = mode.blockCommentEnd;\n  if (!startToken || !endToken) return;\n  var line = start.line, lineText = cm.getLine(line);\n\n  var startCh;\n  for (var at = start.ch, pass = 0;;) {\n    var found = at <= 0 ? -1 : lineText.lastIndexOf(startToken, at - 1);\n    if (found == -1) {\n      if (pass == 1) return;\n      pass = 1;\n      at = lineText.length;\n      continue;\n    }\n    if (pass == 1 && found < start.ch) return;\n    if (/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line, found + 1))) &&\n        (found == 0 || lineText.slice(found - endToken.length, found) == endToken ||\n         !/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line, found))))) {\n      startCh = found + startToken.length;\n      break;\n    }\n    at = found - 1;\n  }\n\n  var depth = 1, lastLine = cm.lastLine(), end, endCh;\n  outer: for (var i = line; i <= lastLine; ++i) {\n    var text = cm.getLine(i), pos = i == line ? startCh : 0;\n    for (;;) {\n      var nextOpen = text.indexOf(startToken, pos), nextClose = text.indexOf(endToken, pos);\n      if (nextOpen < 0) nextOpen = text.length;\n      if (nextClose < 0) nextClose = text.length;\n      pos = Math.min(nextOpen, nextClose);\n      if (pos == text.length) break;\n      if (pos == nextOpen) ++depth;\n      else if (!--depth) { end = i; endCh = pos; break outer; }\n      ++pos;\n    }\n  }\n  if (end == null || line == end && endCh == startCh) return;\n  return {from: CodeMirror.Pos(line, startCh),\n          to: CodeMirror.Pos(end, endCh)};\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function Bar(cls, orientation, scroll) {\n    this.orientation = orientation;\n    this.scroll = scroll;\n    this.screen = this.total = this.size = 1;\n    this.pos = 0;\n\n    this.node = document.createElement(\"div\");\n    this.node.className = cls + \"-\" + orientation;\n    this.inner = this.node.appendChild(document.createElement(\"div\"));\n\n    var self = this;\n    CodeMirror.on(this.inner, \"mousedown\", function(e) {\n      if (e.which != 1) return;\n      CodeMirror.e_preventDefault(e);\n      var axis = self.orientation == \"horizontal\" ? \"pageX\" : \"pageY\";\n      var start = e[axis], startpos = self.pos;\n      function done() {\n        CodeMirror.off(document, \"mousemove\", move);\n        CodeMirror.off(document, \"mouseup\", done);\n      }\n      function move(e) {\n        if (e.which != 1) return done();\n        self.moveTo(startpos + (e[axis] - start) * (self.total / self.size));\n      }\n      CodeMirror.on(document, \"mousemove\", move);\n      CodeMirror.on(document, \"mouseup\", done);\n    });\n\n    CodeMirror.on(this.node, \"click\", function(e) {\n      CodeMirror.e_preventDefault(e);\n      var innerBox = self.inner.getBoundingClientRect(), where;\n      if (self.orientation == \"horizontal\")\n        where = e.clientX < innerBox.left ? -1 : e.clientX > innerBox.right ? 1 : 0;\n      else\n        where = e.clientY < innerBox.top ? -1 : e.clientY > innerBox.bottom ? 1 : 0;\n      self.moveTo(self.pos + where * self.screen);\n    });\n\n    function onWheel(e) {\n      var moved = CodeMirror.wheelEventPixels(e)[self.orientation == \"horizontal\" ? \"x\" : \"y\"];\n      var oldPos = self.pos;\n      self.moveTo(self.pos + moved);\n      if (self.pos != oldPos) CodeMirror.e_preventDefault(e);\n    }\n    CodeMirror.on(this.node, \"mousewheel\", onWheel);\n    CodeMirror.on(this.node, \"DOMMouseScroll\", onWheel);\n  }\n\n  Bar.prototype.setPos = function(pos, force) {\n    if (pos < 0) pos = 0;\n    if (pos > this.total - this.screen) pos = this.total - this.screen;\n    if (!force && pos == this.pos) return false;\n    this.pos = pos;\n    this.inner.style[this.orientation == \"horizontal\" ? \"left\" : \"top\"] =\n      (pos * (this.size / this.total)) + \"px\";\n    return true\n  };\n\n  Bar.prototype.moveTo = function(pos) {\n    if (this.setPos(pos)) this.scroll(pos, this.orientation);\n  }\n\n  var minButtonSize = 10;\n\n  Bar.prototype.update = function(scrollSize, clientSize, barSize) {\n    var sizeChanged = this.screen != clientSize || this.total != scrollSize || this.size != barSize\n    if (sizeChanged) {\n      this.screen = clientSize;\n      this.total = scrollSize;\n      this.size = barSize;\n    }\n\n    var buttonSize = this.screen * (this.size / this.total);\n    if (buttonSize < minButtonSize) {\n      this.size -= minButtonSize - buttonSize;\n      buttonSize = minButtonSize;\n    }\n    this.inner.style[this.orientation == \"horizontal\" ? \"width\" : \"height\"] =\n      buttonSize + \"px\";\n    this.setPos(this.pos, sizeChanged);\n  };\n\n  function SimpleScrollbars(cls, place, scroll) {\n    this.addClass = cls;\n    this.horiz = new Bar(cls, \"horizontal\", scroll);\n    place(this.horiz.node);\n    this.vert = new Bar(cls, \"vertical\", scroll);\n    place(this.vert.node);\n    this.width = null;\n  }\n\n  SimpleScrollbars.prototype.update = function(measure) {\n    if (this.width == null) {\n      var style = window.getComputedStyle ? window.getComputedStyle(this.horiz.node) : this.horiz.node.currentStyle;\n      if (style) this.width = parseInt(style.height);\n    }\n    var width = this.width || 0;\n\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    this.vert.node.style.display = needsV ? \"block\" : \"none\";\n    this.horiz.node.style.display = needsH ? \"block\" : \"none\";\n\n    if (needsV) {\n      this.vert.update(measure.scrollHeight, measure.clientHeight,\n                       measure.viewHeight - (needsH ? width : 0));\n      this.vert.node.style.bottom = needsH ? width + \"px\" : \"0\";\n    }\n    if (needsH) {\n      this.horiz.update(measure.scrollWidth, measure.clientWidth,\n                        measure.viewWidth - (needsV ? width : 0) - measure.barLeft);\n      this.horiz.node.style.right = needsV ? width + \"px\" : \"0\";\n      this.horiz.node.style.left = measure.barLeft + \"px\";\n    }\n\n    return {right: needsV ? width : 0, bottom: needsH ? width : 0};\n  };\n\n  SimpleScrollbars.prototype.setScrollTop = function(pos) {\n    this.vert.setPos(pos);\n  };\n\n  SimpleScrollbars.prototype.setScrollLeft = function(pos) {\n    this.horiz.setPos(pos);\n  };\n\n  SimpleScrollbars.prototype.clear = function() {\n    var parent = this.horiz.node.parentNode;\n    parent.removeChild(this.horiz.node);\n    parent.removeChild(this.vert.node);\n  };\n\n  CodeMirror.scrollbarModel.simple = function(place, scroll) {\n    return new SimpleScrollbars(\"CodeMirror-simplescroll\", place, scroll);\n  };\n  CodeMirror.scrollbarModel.overlay = function(place, scroll) {\n    return new SimpleScrollbars(\"CodeMirror-overlayscroll\", place, scroll);\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// Highlighting text that matches the selection\n//\n// Defines an option highlightSelectionMatches, which, when enabled,\n// will style strings that match the selection throughout the\n// document.\n//\n// The option can be set to true to simply enable it, or to a\n// {minChars, style, wordsOnly, showToken, delay} object to explicitly\n// configure it. minChars is the minimum amount of characters that should be\n// selected for the behavior to occur, and style is the token style to\n// apply to the matches. This will be prefixed by \"cm-\" to create an\n// actual CSS class name. If wordsOnly is enabled, the matches will be\n// highlighted only if the selected text is a word. showToken, when enabled,\n// will cause the current token to be highlighted when nothing is selected.\n// delay is used to specify how much time to wait, in milliseconds, before\n// highlighting the matches. If annotateScrollbar is enabled, the occurrences\n// will be highlighted on the scrollbar via the matchesonscrollbar addon.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./matchesonscrollbar\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./matchesonscrollbar\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var defaults = {\n    style: \"matchhighlight\",\n    minChars: 2,\n    delay: 100,\n    wordsOnly: false,\n    annotateScrollbar: false,\n    showToken: false,\n    trim: true\n  }\n\n  function State(options) {\n    this.options = {}\n    for (var name in defaults)\n      this.options[name] = (options && options.hasOwnProperty(name) ? options : defaults)[name]\n    this.overlay = this.timeout = null;\n    this.matchesonscroll = null;\n    this.active = false;\n  }\n\n  CodeMirror.defineOption(\"highlightSelectionMatches\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      removeOverlay(cm);\n      clearTimeout(cm.state.matchHighlighter.timeout);\n      cm.state.matchHighlighter = null;\n      cm.off(\"cursorActivity\", cursorActivity);\n      cm.off(\"focus\", onFocus)\n    }\n    if (val) {\n      var state = cm.state.matchHighlighter = new State(val);\n      if (cm.hasFocus()) {\n        state.active = true\n        highlightMatches(cm)\n      } else {\n        cm.on(\"focus\", onFocus)\n      }\n      cm.on(\"cursorActivity\", cursorActivity);\n    }\n  });\n\n  function cursorActivity(cm) {\n    var state = cm.state.matchHighlighter;\n    if (state.active || cm.hasFocus()) scheduleHighlight(cm, state)\n  }\n\n  function onFocus(cm) {\n    var state = cm.state.matchHighlighter\n    if (!state.active) {\n      state.active = true\n      scheduleHighlight(cm, state)\n    }\n  }\n\n  function scheduleHighlight(cm, state) {\n    clearTimeout(state.timeout);\n    state.timeout = setTimeout(function() {highlightMatches(cm);}, state.options.delay);\n  }\n\n  function addOverlay(cm, query, hasBoundary, style) {\n    var state = cm.state.matchHighlighter;\n    cm.addOverlay(state.overlay = makeOverlay(query, hasBoundary, style));\n    if (state.options.annotateScrollbar && cm.showMatchesOnScrollbar) {\n      var searchFor = hasBoundary ? new RegExp((/\\w/.test(query.charAt(0)) ? \"\\\\b\" : \"\") +\n                                               query.replace(/[\\\\\\[.+*?(){|^$]/g, \"\\\\$&\") +\n                                               (/\\w/.test(query.charAt(query.length - 1)) ? \"\\\\b\" : \"\")) : query;\n      state.matchesonscroll = cm.showMatchesOnScrollbar(searchFor, false,\n        {className: \"CodeMirror-selection-highlight-scrollbar\"});\n    }\n  }\n\n  function removeOverlay(cm) {\n    var state = cm.state.matchHighlighter;\n    if (state.overlay) {\n      cm.removeOverlay(state.overlay);\n      state.overlay = null;\n      if (state.matchesonscroll) {\n        state.matchesonscroll.clear();\n        state.matchesonscroll = null;\n      }\n    }\n  }\n\n  function highlightMatches(cm) {\n    cm.operation(function() {\n      var state = cm.state.matchHighlighter;\n      removeOverlay(cm);\n      if (!cm.somethingSelected() && state.options.showToken) {\n        var re = state.options.showToken === true ? /[\\w$]/ : state.options.showToken;\n        var cur = cm.getCursor(), line = cm.getLine(cur.line), start = cur.ch, end = start;\n        while (start && re.test(line.charAt(start - 1))) --start;\n        while (end < line.length && re.test(line.charAt(end))) ++end;\n        if (start < end)\n          addOverlay(cm, line.slice(start, end), re, state.options.style);\n        return;\n      }\n      var from = cm.getCursor(\"from\"), to = cm.getCursor(\"to\");\n      if (from.line != to.line) return;\n      if (state.options.wordsOnly && !isWord(cm, from, to)) return;\n      var selection = cm.getRange(from, to)\n      if (state.options.trim) selection = selection.replace(/^\\s+|\\s+$/g, \"\")\n      if (selection.length >= state.options.minChars)\n        addOverlay(cm, selection, false, state.options.style);\n    });\n  }\n\n  function isWord(cm, from, to) {\n    var str = cm.getRange(from, to);\n    if (str.match(/^\\w+$/) !== null) {\n        if (from.ch > 0) {\n            var pos = {line: from.line, ch: from.ch - 1};\n            var chr = cm.getRange(pos, from);\n            if (chr.match(/\\W/) === null) return false;\n        }\n        if (to.ch < cm.getLine(from.line).length) {\n            var pos = {line: to.line, ch: to.ch + 1};\n            var chr = cm.getRange(to, pos);\n            if (chr.match(/\\W/) === null) return false;\n        }\n        return true;\n    } else return false;\n  }\n\n  function boundariesAround(stream, re) {\n    return (!stream.start || !re.test(stream.string.charAt(stream.start - 1))) &&\n      (stream.pos == stream.string.length || !re.test(stream.string.charAt(stream.pos)));\n  }\n\n  function makeOverlay(query, hasBoundary, style) {\n    return {token: function(stream) {\n      if (stream.match(query) &&\n          (!hasBoundary || boundariesAround(stream, hasBoundary)))\n        return style;\n      stream.next();\n      stream.skipTo(query.charAt(0)) || stream.skipToEnd();\n    }};\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// Open simple dialogs on top of an editor. Relies on dialog.css.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  function dialogDiv(cm, template, bottom) {\n    var wrap = cm.getWrapperElement();\n    var dialog;\n    dialog = wrap.appendChild(document.createElement(\"div\"));\n    if (bottom)\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-bottom\";\n    else\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-top\";\n\n    if (typeof template == \"string\") {\n      dialog.innerHTML = template;\n    } else { // Assuming it's a detached DOM element.\n      dialog.appendChild(template);\n    }\n    CodeMirror.addClass(wrap, 'dialog-opened');\n    return dialog;\n  }\n\n  function closeNotification(cm, newVal) {\n    if (cm.state.currentNotificationClose)\n      cm.state.currentNotificationClose();\n    cm.state.currentNotificationClose = newVal;\n  }\n\n  CodeMirror.defineExtension(\"openDialog\", function(template, callback, options) {\n    if (!options) options = {};\n\n    closeNotification(this, null);\n\n    var dialog = dialogDiv(this, template, options.bottom);\n    var closed = false, me = this;\n    function close(newVal) {\n      if (typeof newVal == 'string') {\n        inp.value = newVal;\n      } else {\n        if (closed) return;\n        closed = true;\n        CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n        dialog.parentNode.removeChild(dialog);\n        me.focus();\n\n        if (options.onClose) options.onClose(dialog);\n      }\n    }\n\n    var inp = dialog.getElementsByTagName(\"input\")[0], button;\n    if (inp) {\n      inp.focus();\n\n      if (options.value) {\n        inp.value = options.value;\n        if (options.selectValueOnOpen !== false) {\n          inp.select();\n        }\n      }\n\n      if (options.onInput)\n        CodeMirror.on(inp, \"input\", function(e) { options.onInput(e, inp.value, close);});\n      if (options.onKeyUp)\n        CodeMirror.on(inp, \"keyup\", function(e) {options.onKeyUp(e, inp.value, close);});\n\n      CodeMirror.on(inp, \"keydown\", function(e) {\n        if (options && options.onKeyDown && options.onKeyDown(e, inp.value, close)) { return; }\n        if (e.keyCode == 27 || (options.closeOnEnter !== false && e.keyCode == 13)) {\n          inp.blur();\n          CodeMirror.e_stop(e);\n          close();\n        }\n        if (e.keyCode == 13) callback(inp.value, e);\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(dialog, \"focusout\", function (evt) {\n        if (evt.relatedTarget !== null) close();\n      });\n    } else if (button = dialog.getElementsByTagName(\"button\")[0]) {\n      CodeMirror.on(button, \"click\", function() {\n        close();\n        me.focus();\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(button, \"blur\", close);\n\n      button.focus();\n    }\n    return close;\n  });\n\n  CodeMirror.defineExtension(\"openConfirm\", function(template, callbacks, options) {\n    closeNotification(this, null);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var buttons = dialog.getElementsByTagName(\"button\");\n    var closed = false, me = this, blurring = 1;\n    function close() {\n      if (closed) return;\n      closed = true;\n      CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n      dialog.parentNode.removeChild(dialog);\n      me.focus();\n    }\n    buttons[0].focus();\n    for (var i = 0; i < buttons.length; ++i) {\n      var b = buttons[i];\n      (function(callback) {\n        CodeMirror.on(b, \"click\", function(e) {\n          CodeMirror.e_preventDefault(e);\n          close();\n          if (callback) callback(me);\n        });\n      })(callbacks[i]);\n      CodeMirror.on(b, \"blur\", function() {\n        --blurring;\n        setTimeout(function() { if (blurring <= 0) close(); }, 200);\n      });\n      CodeMirror.on(b, \"focus\", function() { ++blurring; });\n    }\n  });\n\n  /*\n   * openNotification\n   * Opens a notification, that can be closed with an optional timer\n   * (default 5000ms timer) and always closes on click.\n   *\n   * If a notification is opened while another is opened, it will close the\n   * currently opened one and open the new one immediately.\n   */\n  CodeMirror.defineExtension(\"openNotification\", function(template, options) {\n    closeNotification(this, close);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var closed = false, doneTimer;\n    var duration = options && typeof options.duration !== \"undefined\" ? options.duration : 5000;\n\n    function close() {\n      if (closed) return;\n      closed = true;\n      clearTimeout(doneTimer);\n      CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n      dialog.parentNode.removeChild(dialog);\n    }\n\n    CodeMirror.on(dialog, 'click', function(e) {\n      CodeMirror.e_preventDefault(e);\n      close();\n    });\n\n    if (duration)\n      doneTimer = setTimeout(close, duration);\n\n    return close;\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  var WRAP_CLASS = \"CodeMirror-activeline\";\n  var BACK_CLASS = \"CodeMirror-activeline-background\";\n  var GUTT_CLASS = \"CodeMirror-activeline-gutter\";\n\n  CodeMirror.defineOption(\"styleActiveLine\", false, function(cm, val, old) {\n    var prev = old == CodeMirror.Init ? false : old;\n    if (val == prev) return\n    if (prev) {\n      cm.off(\"beforeSelectionChange\", selectionChange);\n      clearActiveLines(cm);\n      delete cm.state.activeLines;\n    }\n    if (val) {\n      cm.state.activeLines = [];\n      updateActiveLines(cm, cm.listSelections());\n      cm.on(\"beforeSelectionChange\", selectionChange);\n    }\n  });\n\n  function clearActiveLines(cm) {\n    for (var i = 0; i < cm.state.activeLines.length; i++) {\n      cm.removeLineClass(cm.state.activeLines[i], \"wrap\", WRAP_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"background\", BACK_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"gutter\", GUTT_CLASS);\n    }\n  }\n\n  function sameArray(a, b) {\n    if (a.length != b.length) return false;\n    for (var i = 0; i < a.length; i++)\n      if (a[i] != b[i]) return false;\n    return true;\n  }\n\n  function updateActiveLines(cm, ranges) {\n    var active = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      var option = cm.getOption(\"styleActiveLine\");\n      if (typeof option == \"object\" && option.nonEmpty ? range.anchor.line != range.head.line : !range.empty())\n        continue\n      var line = cm.getLineHandleVisualStart(range.head.line);\n      if (active[active.length - 1] != line) active.push(line);\n    }\n    if (sameArray(cm.state.activeLines, active)) return;\n    cm.operation(function() {\n      clearActiveLines(cm);\n      for (var i = 0; i < active.length; i++) {\n        cm.addLineClass(active[i], \"wrap\", WRAP_CLASS);\n        cm.addLineClass(active[i], \"background\", BACK_CLASS);\n        cm.addLineClass(active[i], \"gutter\", GUTT_CLASS);\n      }\n      cm.state.activeLines = active;\n    });\n  }\n\n  function selectionChange(cm, sel) {\n    updateActiveLines(cm, sel.ranges);\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var Pos = CodeMirror.Pos;\n\n  function forEach(arr, f) {\n    for (var i = 0, e = arr.length; i < e; ++i) f(arr[i]);\n  }\n\n  function arrayContains(arr, item) {\n    if (!Array.prototype.indexOf) {\n      var i = arr.length;\n      while (i--) {\n        if (arr[i] === item) {\n          return true;\n        }\n      }\n      return false;\n    }\n    return arr.indexOf(item) != -1;\n  }\n\n  function scriptHint(editor, keywords, getToken, options) {\n    // Find the token at the cursor\n    var cur = editor.getCursor(), token = getToken(editor, cur);\n    if (/\\b(?:string|comment)\\b/.test(token.type)) return;\n    var innerMode = CodeMirror.innerMode(editor.getMode(), token.state);\n    if (innerMode.mode.helperType === \"json\") return;\n    token.state = innerMode.state;\n\n    // If it's not a 'word-style' token, ignore the token.\n    if (!/^[\\w$_]*$/.test(token.string)) {\n      token = {start: cur.ch, end: cur.ch, string: \"\", state: token.state,\n               type: token.string == \".\" ? \"property\" : null};\n    } else if (token.end > cur.ch) {\n      token.end = cur.ch;\n      token.string = token.string.slice(0, cur.ch - token.start);\n    }\n\n    var tprop = token;\n    // If it is a property, find out what it is a property of.\n    while (tprop.type == \"property\") {\n      tprop = getToken(editor, Pos(cur.line, tprop.start));\n      if (tprop.string != \".\") return;\n      tprop = getToken(editor, Pos(cur.line, tprop.start));\n      if (!context) var context = [];\n      context.push(tprop);\n    }\n    return {list: getCompletions(token, context, keywords, options),\n            from: Pos(cur.line, token.start),\n            to: Pos(cur.line, token.end)};\n  }\n\n  function javascriptHint(editor, options) {\n    return scriptHint(editor, javascriptKeywords,\n                      function (e, cur) {return e.getTokenAt(cur);},\n                      options);\n  };\n  CodeMirror.registerHelper(\"hint\", \"javascript\", javascriptHint);\n\n  function getCoffeeScriptToken(editor, cur) {\n  // This getToken, it is for coffeescript, imitates the behavior of\n  // getTokenAt method in javascript.js, that is, returning \"property\"\n  // type and treat \".\" as independent token.\n    var token = editor.getTokenAt(cur);\n    if (cur.ch == token.start + 1 && token.string.charAt(0) == '.') {\n      token.end = token.start;\n      token.string = '.';\n      token.type = \"property\";\n    }\n    else if (/^\\.[\\w$_]*$/.test(token.string)) {\n      token.type = \"property\";\n      token.start++;\n      token.string = token.string.replace(/\\./, '');\n    }\n    return token;\n  }\n\n  function coffeescriptHint(editor, options) {\n    return scriptHint(editor, coffeescriptKeywords, getCoffeeScriptToken, options);\n  }\n  CodeMirror.registerHelper(\"hint\", \"coffeescript\", coffeescriptHint);\n\n  var stringProps = (\"charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight \" +\n                     \"toUpperCase toLowerCase split concat match replace search\").split(\" \");\n  var arrayProps = (\"length concat join splice push pop shift unshift slice reverse sort indexOf \" +\n                    \"lastIndexOf every some filter forEach map reduce reduceRight \").split(\" \");\n  var funcProps = \"prototype apply call bind\".split(\" \");\n  var javascriptKeywords = (\"break case catch class const continue debugger default delete do else export extends false finally for function \" +\n                  \"if in import instanceof new null return super switch this throw true try typeof var void while with yield\").split(\" \");\n  var coffeescriptKeywords = (\"and break catch class continue delete do else extends false finally for \" +\n                  \"if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes\").split(\" \");\n\n  function forAllProps(obj, callback) {\n    if (!Object.getOwnPropertyNames || !Object.getPrototypeOf) {\n      for (var name in obj) callback(name)\n    } else {\n      for (var o = obj; o; o = Object.getPrototypeOf(o))\n        Object.getOwnPropertyNames(o).forEach(callback)\n    }\n  }\n\n  function getCompletions(token, context, keywords, options) {\n    var found = [], start = token.string, global = options && options.globalScope || window;\n    function maybeAdd(str) {\n      if (str.lastIndexOf(start, 0) == 0 && !arrayContains(found, str)) found.push(str);\n    }\n    function gatherCompletions(obj) {\n      if (typeof obj == \"string\") forEach(stringProps, maybeAdd);\n      else if (obj instanceof Array) forEach(arrayProps, maybeAdd);\n      else if (obj instanceof Function) forEach(funcProps, maybeAdd);\n      forAllProps(obj, maybeAdd)\n    }\n\n    if (context && context.length) {\n      // If this is a property, see if it belongs to some object we can\n      // find in the current environment.\n      var obj = context.pop(), base;\n      if (obj.type && obj.type.indexOf(\"variable\") === 0) {\n        if (options && options.additionalContext)\n          base = options.additionalContext[obj.string];\n        if (!options || options.useGlobalScope !== false)\n          base = base || global[obj.string];\n      } else if (obj.type == \"string\") {\n        base = \"\";\n      } else if (obj.type == \"atom\") {\n        base = 1;\n      } else if (obj.type == \"function\") {\n        if (global.jQuery != null && (obj.string == '$' || obj.string == 'jQuery') &&\n            (typeof global.jQuery == 'function'))\n          base = global.jQuery();\n        else if (global._ != null && (obj.string == '_') && (typeof global._ == 'function'))\n          base = global._();\n      }\n      while (base != null && context.length)\n        base = base[context.pop().string];\n      if (base != null) gatherCompletions(base);\n    } else {\n      // If not, just look in the global object, any local scope, and optional additional-context\n      // (reading into JS mode internals to get at the local and global variables)\n      for (var v = token.state.localVars; v; v = v.next) maybeAdd(v.name);\n      for (var c = token.state.context; c; c = c.prev)\n        for (var v = c.vars; v; v = v.next) maybeAdd(v.name)\n      for (var v = token.state.globalVars; v; v = v.next) maybeAdd(v.name);\n      if (options && options.additionalContext != null)\n        for (var key in options.additionalContext)\n          maybeAdd(key);\n      if (!options || options.useGlobalScope !== false)\n        gatherCompletions(global);\n      forEach(keywords, maybeAdd);\n    }\n    return found;\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('splitpanes',{class:{ 'default-theme': true, 'webclient-showcase': true, 'webclient-showcase-mobile': _vm.mobile },attrs:{\"horizontal\":_vm.mobile}},[_c('pane',{attrs:{\"min-size\":\"0\",\"size\":_vm.mobile ? _vm.splitPane : _vm.splitPane}},[(_vm.currentKind.length > 0 && !_vm.fullscreen && _vm.mobile)?_c('ShowGallery',{attrs:{\"list\":_vm.currentKind}}):_vm._e(),_c('div',{staticClass:\"code-wrapper\"},[_c('el-button-group',{staticClass:\"toolbar-showcase-group\"},[_c('el-tooltip',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mobile),expression:\"!mobile\"}],staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":_vm.fullscreen ? '' : '',\"placement\":\"top\"}},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.full}},[(_vm.fullscreen)?_c('IconFont',{attrs:{\"type\":\"iconfullscreen-exit\"}}):_c('IconFont',{attrs:{\"type\":\"iconfull\"}})],1)],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.reset}},[_c('IconFont',{attrs:{\"type\":\"iconreload\"}})],1)],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"id\":\"frame-run-button\",\"size\":\"mini\"},on:{\"click\":_vm.run}},[_c('IconFont',{attrs:{\"type\":\"iconruno24\"}})],1)],1)],1),_c('el-tabs',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"editer-tabs-wrapper\",attrs:{\"type\":\"border-card\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('el-tab-pane',{attrs:{\"name\":\"code\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('IconFont',{attrs:{\"type\":\"iconCode\",\"name\":\"\"}})],1),_c('el-row',[_c('div',{staticClass:\"codemirror\"},[_c('codemirror',{ref:\"mapCode\",attrs:{\"value\":_vm.code,\"options\":_vm.cmOptions},on:{\"input\":_vm.onCmCodeChange,\"ready\":_vm.onCmReady}})],1)])],1),(!_vm.noCaseArr.includes(_vm.getMapMode()))?_c('el-tab-pane',{staticClass:\"markdown-body\",attrs:{\"name\":\"interface\",\"id\":\"api-scroll\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('IconFont',{attrs:{\"type\":\"iconmarkdown-line\",\"name\":\"\"}})],1),_c('el-scrollbar',{ref:\"markdownScrollbal\",staticClass:\"element-scroll-content-markdown\",attrs:{\"wrapStyle\":\"overflow-x: hidden;\",\"viewStyle\":\"overflow-y: hidden;\"}},[_c('vue-markdown',{attrs:{\"watches\":['show', 'html', 'breaks', 'linkify', 'emoji', 'typographer', 'toc'],\"toc-id\":\"toc\",\"source\":_vm.markdown,\"html\":true,\"toc\":false,\"linkify\":true},on:{\"rendered\":_vm.markdownRendered}})],1)],1):_vm._e()],1)],1)],1),_c('pane',{attrs:{\"size\":_vm.mobile ? 100-_vm.splitPane : 100-_vm.splitPane}},[_c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],class:{ 'webclient-showcase-content': true }},[_c('div',{staticClass:\"editor-codemirror-wraper\",class:{ iframemobile: _vm.mobile }},[_c('iframe',{staticStyle:{\"border-width\":\"0px\",\"margin\":\"0px\",\"padding\":\"0px\"},attrs:{\"id\":\"showcase\",\"scrolling\":\"no\"}})]),_c('div',{staticClass:\"code-wrapper-stretch-btn\",class:{'open':_vm.codeWrapperStretchStatus==='open','close':_vm.codeWrapperStretchStatus==='close'},on:{\"click\":_vm.codeWrapperStretch}},[_c('svg',{staticClass:\"icon\",attrs:{\"t\":\"1670379934546\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"2919\",\"width\":\"12\",\"height\":\"12\"}},[_c('path',{attrs:{\"d\":\"M605.824 513.536l335.68 338.304c24.704 24.96 24.704 65.28 0 90.176-24.704 24.896-64.768 24.896-89.472 0L471.616 558.656l0 0c0 0 0 0 0 0-18.496-18.688-23.168-46.08-13.888-69.056 3.072-7.68 7.744-14.912 13.952-21.12l380.352-383.424c24.704-24.96 64.768-24.96 89.472 0 24.704 24.96 24.704 65.28 0 90.24L605.824 513.536zM219.072 511.296l340.736 338.944c25.088 24.96 25.088 65.408 0 90.368-12.544 12.48-28.992 18.752-45.44 18.752-16.448 0-32.896-6.208-45.44-18.752L82.88 556.48l0 0c0 0 0 0 0 0C64 537.728 59.264 510.336 68.736 487.232c3.136-7.68 7.872-14.912 14.144-21.12l386.112-384.128c12.544-12.48 28.992-18.752 45.44-18.752 16.448 0 32.896 6.208 45.376 18.688 25.088 25.024 25.088 65.408 0 90.368L219.072 511.296z\",\"p-id\":\"2920\",\"fill\":\"#666666\"}})])]),(_vm.currentKind.length > 0 && !_vm.fullscreen && !_vm.mobile)?_c('ShowGallery',{attrs:{\"list\":_vm.currentKind}}):_vm._e()],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar splitpanes_vue_vue_type_style_index_0_lang = \"\";\nfunction normalizeComponent(scriptExports, render2, staticRenderFns2, functionalTemplate, injectStyles, scopeId, moduleIdentifier, shadowMode) {\n  var options = typeof scriptExports === \"function\" ? scriptExports.options : scriptExports;\n  if (render2) {\n    options.render = render2;\n    options.staticRenderFns = staticRenderFns2;\n    options._compiled = true;\n  }\n  if (functionalTemplate) {\n    options.functional = true;\n  }\n  if (scopeId) {\n    options._scopeId = \"data-v-\" + scopeId;\n  }\n  var hook;\n  if (moduleIdentifier) {\n    hook = function(context) {\n      context = context || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext;\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== \"undefined\") {\n        context = __VUE_SSR_CONTEXT__;\n      }\n      if (injectStyles) {\n        injectStyles.call(this, context);\n      }\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    };\n    options._ssrRegister = hook;\n  } else if (injectStyles) {\n    hook = shadowMode ? function() {\n      injectStyles.call(this, (options.functional ? this.parent : this).$root.$options.shadowRoot);\n    } : injectStyles;\n  }\n  if (hook) {\n    if (options.functional) {\n      options._injectStyles = hook;\n      var originalRender = options.render;\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n  return {\n    exports: scriptExports,\n    options\n  };\n}\nconst __vue2_script$1 = {\n  name: \"splitpanes\",\n  props: {\n    horizontal: { type: Boolean },\n    pushOtherPanes: { type: Boolean, default: true },\n    dblClickSplitter: { type: Boolean, default: true },\n    rtl: { type: Boolean, default: false },\n    firstSplitter: { type: Boolean }\n  },\n  provide() {\n    return {\n      requestUpdate: this.requestUpdate,\n      onPaneAdd: this.onPaneAdd,\n      onPaneRemove: this.onPaneRemove,\n      onPaneClick: this.onPaneClick\n    };\n  },\n  data: () => ({\n    container: null,\n    ready: false,\n    panes: [],\n    touch: {\n      mouseDown: false,\n      dragging: false,\n      activeSplitter: null\n    },\n    splitterTaps: {\n      splitter: null,\n      timeoutId: null\n    }\n  }),\n  computed: {\n    panesCount() {\n      return this.panes.length;\n    },\n    indexedPanes() {\n      return this.panes.reduce((obj, pane2) => (obj[pane2.id] = pane2) && obj, {});\n    }\n  },\n  methods: {\n    updatePaneComponents() {\n      this.panes.forEach((pane2) => {\n        pane2.update && pane2.update({\n          [this.horizontal ? \"height\" : \"width\"]: `${this.indexedPanes[pane2.id].size}%`\n        });\n      });\n    },\n    bindEvents() {\n      const showcase = document.getElementById('showcase')\n      showcase.style.pointerEvents = 'none'\n      document.addEventListener(\"mousemove\", this.onMouseMove, { passive: false });\n      document.addEventListener(\"mouseup\", this.onMouseUp);\n      if (\"ontouchstart\" in window) {\n        document.addEventListener(\"touchmove\", this.onMouseMove, { passive: false });\n        document.addEventListener(\"touchend\", this.onMouseUp);\n      }\n    },\n    unbindEvents() {\n      const showcase = document.getElementById('showcase')\n      showcase.style.pointerEvents = 'auto'\n      document.removeEventListener(\"mousemove\", this.onMouseMove, { passive: false });\n      document.removeEventListener(\"mouseup\", this.onMouseUp);\n      if (\"ontouchstart\" in window) {\n        document.removeEventListener(\"touchmove\", this.onMouseMove, { passive: false });\n        document.removeEventListener(\"touchend\", this.onMouseUp);\n      }\n    },\n    onMouseDown(event, splitterIndex) {\n      this.bindEvents();\n      this.touch.mouseDown = true;\n      this.touch.activeSplitter = splitterIndex;\n    },\n    onMouseMove(event) {\n      if (this.touch.mouseDown) {\n        event.preventDefault();\n        this.touch.dragging = true;\n        this.calculatePanesSize(this.getCurrentMouseDrag(event));\n        this.$emit(\"resize\", this.panes.map((pane2) => ({ min: pane2.min, max: pane2.max, size: pane2.size })));\n      }\n    },\n    onMouseUp() {\n      if (this.touch.dragging) {\n        this.$emit(\"resized\", this.panes.map((pane2) => ({ min: pane2.min, max: pane2.max, size: pane2.size })));\n      }\n      this.touch.mouseDown = false;\n      setTimeout(() => {\n        this.touch.dragging = false;\n        this.unbindEvents();\n      }, 100);\n    },\n    onSplitterClick(event, splitterIndex) {\n      if (\"ontouchstart\" in window) {\n        event.preventDefault();\n        if (this.dblClickSplitter) {\n          if (this.splitterTaps.splitter === splitterIndex) {\n            clearTimeout(this.splitterTaps.timeoutId);\n            this.splitterTaps.timeoutId = null;\n            this.onSplitterDblClick(event, splitterIndex);\n            this.splitterTaps.splitter = null;\n          } else {\n            this.splitterTaps.splitter = splitterIndex;\n            this.splitterTaps.timeoutId = setTimeout(() => {\n              this.splitterTaps.splitter = null;\n            }, 500);\n          }\n        }\n      }\n      if (!this.touch.dragging)\n        this.$emit(\"splitter-click\", this.panes[splitterIndex]);\n    },\n    onSplitterDblClick(event, splitterIndex) {\n      let totalMinSizes = 0;\n      this.panes = this.panes.map((pane2, i) => {\n        pane2.size = i === splitterIndex ? pane2.max : pane2.min;\n        if (i !== splitterIndex)\n          totalMinSizes += pane2.min;\n        return pane2;\n      });\n      this.panes[splitterIndex].size -= totalMinSizes;\n      this.$emit(\"pane-maximize\", this.panes[splitterIndex]);\n    },\n    onPaneClick(event, paneId) {\n      this.$emit(\"pane-click\", this.indexedPanes[paneId]);\n    },\n    getCurrentMouseDrag(event) {\n      const rect = this.container.getBoundingClientRect();\n      const { clientX, clientY } = \"ontouchstart\" in window && event.touches ? event.touches[0] : event;\n      return {\n        x: clientX - rect.left + 10,\n        x: clientX - rect.left + 10,\n        y: clientY - rect.top\n      };\n    },\n    getCurrentDragPercentage(drag) {\n      drag = drag[this.horizontal ? \"y\" : \"x\"];\n      const containerSize = this.container[this.horizontal ? \"clientHeight\" : \"clientWidth\"];\n      if (this.rtl && !this.horizontal)\n        drag = containerSize - drag;\n      return drag * 100 / containerSize;\n    },\n    calculatePanesSize(drag) {\n      const splitterIndex = this.touch.activeSplitter;\n      let sums = {\n        prevPanesSize: this.sumPrevPanesSize(splitterIndex),\n        nextPanesSize: this.sumNextPanesSize(splitterIndex),\n        prevReachedMinPanes: 0,\n        nextReachedMinPanes: 0\n      };\n      const minDrag = 0 + (this.pushOtherPanes ? 0 : sums.prevPanesSize);\n      const maxDrag = 100 - (this.pushOtherPanes ? 0 : sums.nextPanesSize);\n      const dragPercentage = Math.max(Math.min(this.getCurrentDragPercentage(drag), maxDrag), minDrag);\n      let panesToResize = [splitterIndex, splitterIndex + 1];\n      let paneBefore = this.panes[panesToResize[0]] || null;\n      let paneAfter = this.panes[panesToResize[1]] || null;\n      const paneBeforeMaxReached = paneBefore.max < 100 && dragPercentage >= paneBefore.max + sums.prevPanesSize;\n      const paneAfterMaxReached = paneAfter.max < 100 && dragPercentage <= 100 - (paneAfter.max + this.sumNextPanesSize(splitterIndex + 1));\n      if (paneBeforeMaxReached || paneAfterMaxReached) {\n        if (paneBeforeMaxReached) {\n          paneBefore.size = paneBefore.max;\n          paneAfter.size = Math.max(100 - paneBefore.max - sums.prevPanesSize - sums.nextPanesSize, 0);\n        } else {\n          paneBefore.size = Math.max(100 - paneAfter.max - sums.prevPanesSize - this.sumNextPanesSize(splitterIndex + 1), 0);\n          paneAfter.size = paneAfter.max;\n        }\n        return;\n      }\n      if (this.pushOtherPanes) {\n        const vars = this.doPushOtherPanes(sums, dragPercentage);\n        if (!vars)\n          return;\n        ({ sums, panesToResize } = vars);\n        paneBefore = this.panes[panesToResize[0]] || null;\n        paneAfter = this.panes[panesToResize[1]] || null;\n      }\n      if (paneBefore !== null) {\n        paneBefore.size = Math.min(Math.max(dragPercentage - sums.prevPanesSize - sums.prevReachedMinPanes, paneBefore.min), paneBefore.max);\n      }\n      if (paneAfter !== null) {\n        paneAfter.size = Math.min(Math.max(100 - dragPercentage - sums.nextPanesSize - sums.nextReachedMinPanes, paneAfter.min), paneAfter.max);\n      }\n    },\n    doPushOtherPanes(sums, dragPercentage) {\n      const splitterIndex = this.touch.activeSplitter;\n      const panesToResize = [splitterIndex, splitterIndex + 1];\n      if (dragPercentage < sums.prevPanesSize + this.panes[panesToResize[0]].min) {\n        panesToResize[0] = this.findPrevExpandedPane(splitterIndex).index;\n        sums.prevReachedMinPanes = 0;\n        if (panesToResize[0] < splitterIndex) {\n          this.panes.forEach((pane2, i) => {\n            if (i > panesToResize[0] && i <= splitterIndex) {\n              pane2.size = pane2.min;\n              sums.prevReachedMinPanes += pane2.min;\n            }\n          });\n        }\n        sums.prevPanesSize = this.sumPrevPanesSize(panesToResize[0]);\n        if (panesToResize[0] === void 0) {\n          sums.prevReachedMinPanes = 0;\n          this.panes[0].size = this.panes[0].min;\n          this.panes.forEach((pane2, i) => {\n            if (i > 0 && i <= splitterIndex) {\n              pane2.size = pane2.min;\n              sums.prevReachedMinPanes += pane2.min;\n            }\n          });\n          this.panes[panesToResize[1]].size = 100 - sums.prevReachedMinPanes - this.panes[0].min - sums.prevPanesSize - sums.nextPanesSize;\n          return null;\n        }\n      }\n      if (dragPercentage > 100 - sums.nextPanesSize - this.panes[panesToResize[1]].min) {\n        panesToResize[1] = this.findNextExpandedPane(splitterIndex).index;\n        sums.nextReachedMinPanes = 0;\n        if (panesToResize[1] > splitterIndex + 1) {\n          this.panes.forEach((pane2, i) => {\n            if (i > splitterIndex && i < panesToResize[1]) {\n              pane2.size = pane2.min;\n              sums.nextReachedMinPanes += pane2.min;\n            }\n          });\n        }\n        sums.nextPanesSize = this.sumNextPanesSize(panesToResize[1] - 1);\n        if (panesToResize[1] === void 0) {\n          sums.nextReachedMinPanes = 0;\n          this.panes[this.panesCount - 1].size = this.panes[this.panesCount - 1].min;\n          this.panes.forEach((pane2, i) => {\n            if (i < this.panesCount - 1 && i >= splitterIndex + 1) {\n              pane2.size = pane2.min;\n              sums.nextReachedMinPanes += pane2.min;\n            }\n          });\n          this.panes[panesToResize[0]].size = 100 - sums.prevPanesSize - sums.nextReachedMinPanes - this.panes[this.panesCount - 1].min - sums.nextPanesSize;\n          return null;\n        }\n      }\n      return { sums, panesToResize };\n    },\n    sumPrevPanesSize(splitterIndex) {\n      return this.panes.reduce((total, pane2, i) => total + (i < splitterIndex ? pane2.size : 0), 0);\n    },\n    sumNextPanesSize(splitterIndex) {\n      return this.panes.reduce((total, pane2, i) => total + (i > splitterIndex + 1 ? pane2.size : 0), 0);\n    },\n    findPrevExpandedPane(splitterIndex) {\n      const pane2 = [...this.panes].reverse().find((p) => p.index < splitterIndex && p.size > p.min);\n      return pane2 || {};\n    },\n    findNextExpandedPane(splitterIndex) {\n      const pane2 = this.panes.find((p) => p.index > splitterIndex + 1 && p.size > p.min);\n      return pane2 || {};\n    },\n    checkSplitpanesNodes() {\n      const children = Array.from(this.container.children);\n      children.forEach((child) => {\n        const isPane = child.classList.contains(\"splitpanes__pane\");\n        const isSplitter = child.classList.contains(\"splitpanes__splitter\");\n        if (!isPane && !isSplitter) {\n          child.parentNode.removeChild(child);\n          console.warn(\"Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed.\");\n          return;\n        }\n      });\n    },\n    addSplitter(paneIndex, nextPaneNode, isVeryFirst = false) {\n      const splitterIndex = paneIndex - 1;\n      const elm = document.createElement(\"div\");\n      elm.classList.add(\"splitpanes__splitter\");\n      if (!isVeryFirst) {\n        elm.onmousedown = (event) => this.onMouseDown(event, splitterIndex);\n        if (typeof window !== \"undefined\" && \"ontouchstart\" in window) {\n          elm.ontouchstart = (event) => this.onMouseDown(event, splitterIndex);\n        }\n        elm.onclick = (event) => this.onSplitterClick(event, splitterIndex + 1);\n      }\n      if (this.dblClickSplitter) {\n        elm.ondblclick = (event) => this.onSplitterDblClick(event, splitterIndex + 1);\n      }\n      nextPaneNode.parentNode.insertBefore(elm, nextPaneNode);\n    },\n    removeSplitter(node) {\n      node.onmousedown = void 0;\n      node.onclick = void 0;\n      node.ondblclick = void 0;\n      node.parentNode.removeChild(node);\n    },\n    redoSplitters() {\n      const children = Array.from(this.container.children);\n      children.forEach((el) => {\n        if (el.className.includes(\"splitpanes__splitter\"))\n          this.removeSplitter(el);\n      });\n      let paneIndex = 0;\n      children.forEach((el) => {\n        if (el.className.includes(\"splitpanes__pane\")) {\n          if (!paneIndex && this.firstSplitter)\n            this.addSplitter(paneIndex, el, true);\n          else if (paneIndex)\n            this.addSplitter(paneIndex, el);\n          paneIndex++;\n        }\n      });\n    },\n    requestUpdate(_a) {\n      var _b = _a, { target } = _b, args = __objRest(_b, [\"target\"]);\n      const pane2 = this.indexedPanes[target._uid];\n      Object.entries(args).forEach(([key, value]) => pane2[key] = value);\n    },\n    onPaneAdd(pane2) {\n      let index = -1;\n      Array.from(pane2.$el.parentNode.children).some((el) => {\n        if (el.className.includes(\"splitpanes__pane\"))\n          index++;\n        return el === pane2.$el;\n      });\n      const min = parseFloat(pane2.minSize);\n      const max = parseFloat(pane2.maxSize);\n      this.panes.splice(index, 0, {\n        id: pane2._uid,\n        index,\n        min: isNaN(min) ? 0 : min,\n        max: isNaN(max) ? 100 : max,\n        size: pane2.size === null ? null : parseFloat(pane2.size),\n        givenSize: pane2.size,\n        update: pane2.update\n      });\n      this.panes.forEach((p, i) => p.index = i);\n      if (this.ready) {\n        this.$nextTick(() => {\n          this.redoSplitters();\n          this.resetPaneSizes({ addedPane: this.panes[index] });\n          this.$emit(\"pane-add\", { index, panes: this.panes.map((pane3) => ({ min: pane3.min, max: pane3.max, size: pane3.size })) });\n        });\n      }\n    },\n    onPaneRemove(pane2) {\n      const index = this.panes.findIndex((p) => p.id === pane2._uid);\n      const removed = this.panes.splice(index, 1)[0];\n      this.panes.forEach((p, i) => p.index = i);\n      this.$nextTick(() => {\n        this.redoSplitters();\n        this.resetPaneSizes({ removedPane: __spreadProps(__spreadValues({}, removed), { index }) });\n        this.$emit(\"pane-remove\", { removed, panes: this.panes.map((pane3) => ({ min: pane3.min, max: pane3.max, size: pane3.size })) });\n      });\n    },\n    resetPaneSizes(changedPanes = {}) {\n      if (!changedPanes.addedPane && !changedPanes.removedPane)\n        this.initialPanesSizing();\n      else if (this.panes.some((pane2) => pane2.givenSize !== null || pane2.min || pane2.max < 100))\n        this.equalizeAfterAddOrRemove(changedPanes);\n      else\n        this.equalize();\n      if (this.ready)\n        this.$emit(\"resized\", this.panes.map((pane2) => ({ min: pane2.min, max: pane2.max, size: pane2.size })));\n    },\n    equalize() {\n      const equalSpace = 100 / this.panesCount;\n      let leftToAllocate = 0;\n      let ungrowable = [];\n      let unshrinkable = [];\n      this.panes.forEach((pane2) => {\n        pane2.size = Math.max(Math.min(equalSpace, pane2.max), pane2.min);\n        leftToAllocate -= pane2.size;\n        if (pane2.size >= pane2.max)\n          ungrowable.push(pane2.id);\n        if (pane2.size <= pane2.min)\n          unshrinkable.push(pane2.id);\n      });\n      if (leftToAllocate > 0.1)\n        this.readjustSizes(leftToAllocate, ungrowable, unshrinkable);\n    },\n    initialPanesSizing() {\n      100 / this.panesCount;\n      let leftToAllocate = 100;\n      let ungrowable = [];\n      let unshrinkable = [];\n      let definedSizes = 0;\n      this.panes.forEach((pane2) => {\n        leftToAllocate -= pane2.size;\n        if (pane2.size !== null)\n          definedSizes++;\n        if (pane2.size >= pane2.max)\n          ungrowable.push(pane2.id);\n        if (pane2.size <= pane2.min)\n          unshrinkable.push(pane2.id);\n      });\n      let leftToAllocate2 = 100;\n      if (leftToAllocate > 0.1) {\n        this.panes.forEach((pane2) => {\n          if (pane2.size === null) {\n            pane2.size = Math.max(Math.min(leftToAllocate / (this.panesCount - definedSizes), pane2.max), pane2.min);\n          }\n          leftToAllocate2 -= pane2.size;\n        });\n        if (leftToAllocate2 > 0.1)\n          this.readjustSizes(leftToAllocate, ungrowable, unshrinkable);\n      }\n    },\n    equalizeAfterAddOrRemove({ addedPane, removedPane } = {}) {\n      let equalSpace = 100 / this.panesCount;\n      let leftToAllocate = 0;\n      let ungrowable = [];\n      let unshrinkable = [];\n      if (addedPane && addedPane.givenSize !== null) {\n        equalSpace = (100 - addedPane.givenSize) / (this.panesCount - 1);\n      }\n      this.panes.forEach((pane2) => {\n        leftToAllocate -= pane2.size;\n        if (pane2.size >= pane2.max)\n          ungrowable.push(pane2.id);\n        if (pane2.size <= pane2.min)\n          unshrinkable.push(pane2.id);\n      });\n      if (Math.abs(leftToAllocate) < 0.1)\n        return;\n      this.panes.forEach((pane2) => {\n        if (addedPane && addedPane.givenSize !== null && addedPane.id === pane2.id)\n          ;\n        else\n          pane2.size = Math.max(Math.min(equalSpace, pane2.max), pane2.min);\n        leftToAllocate -= pane2.size;\n        if (pane2.size >= pane2.max)\n          ungrowable.push(pane2.id);\n        if (pane2.size <= pane2.min)\n          unshrinkable.push(pane2.id);\n      });\n      if (leftToAllocate > 0.1)\n        this.readjustSizes(leftToAllocate, ungrowable, unshrinkable);\n    },\n    readjustSizes(leftToAllocate, ungrowable, unshrinkable) {\n      let equalSpaceToAllocate;\n      if (leftToAllocate > 0)\n        equalSpaceToAllocate = leftToAllocate / (this.panesCount - ungrowable.length);\n      else\n        equalSpaceToAllocate = leftToAllocate / (this.panesCount - unshrinkable.length);\n      this.panes.forEach((pane2, i) => {\n        if (leftToAllocate > 0 && !ungrowable.includes(pane2.id)) {\n          const newPaneSize = Math.max(Math.min(pane2.size + equalSpaceToAllocate, pane2.max), pane2.min);\n          const allocated = newPaneSize - pane2.size;\n          leftToAllocate -= allocated;\n          pane2.size = newPaneSize;\n        } else if (!unshrinkable.includes(pane2.id)) {\n          const newPaneSize = Math.max(Math.min(pane2.size + equalSpaceToAllocate, pane2.max), pane2.min);\n          const allocated = newPaneSize - pane2.size;\n          leftToAllocate -= allocated;\n          pane2.size = newPaneSize;\n        }\n        pane2.update({\n          [this.horizontal ? \"height\" : \"width\"]: `${this.indexedPanes[pane2.id].size}%`\n        });\n      });\n      if (Math.abs(leftToAllocate) > 0.1) {\n        this.$nextTick(() => {\n          if (this.ready) {\n            console.warn(\"Splitpanes: Could not resize panes correctly due to their constraints.\");\n          }\n        });\n      }\n    }\n  },\n  watch: {\n    panes: {\n      deep: true,\n      immediate: false,\n      handler() {\n        this.updatePaneComponents();\n      }\n    },\n    horizontal() {\n      this.updatePaneComponents();\n    },\n    firstSplitter() {\n      this.redoSplitters();\n    },\n    dblClickSplitter(enable) {\n      const splitters = [...this.container.querySelectorAll(\".splitpanes__splitter\")];\n      splitters.forEach((splitter, i) => {\n        splitter.ondblclick = enable ? (event) => this.onSplitterDblClick(event, i) : void 0;\n      });\n    }\n  },\n  beforeDestroy() {\n    this.ready = false;\n  },\n  mounted() {\n    this.container = this.$refs.container;\n    this.checkSplitpanesNodes();\n    this.redoSplitters();\n    this.resetPaneSizes();\n    this.$emit(\"ready\");\n    this.ready = true;\n  },\n  render(h) {\n    return h(\"div\", {\n      ref: \"container\",\n      class: [\n        \"splitpanes\",\n        `splitpanes--${this.horizontal ? \"horizontal\" : \"vertical\"}`,\n        {\n          \"splitpanes--dragging\": this.touch.dragging\n        }\n      ]\n    }, this.$slots.default);\n  }\n};\nlet __vue2_render, __vue2_staticRenderFns;\nconst __cssModules$1 = {};\nvar __component__$1 = /* @__PURE__ */ normalizeComponent(__vue2_script$1, __vue2_render, __vue2_staticRenderFns, false, __vue2_injectStyles$1, null, null, null);\nfunction __vue2_injectStyles$1(context) {\n  for (let o in __cssModules$1) {\n    this[o] = __cssModules$1[o];\n  }\n}\nvar splitpanes = /* @__PURE__ */ function() {\n  return __component__$1.exports;\n}();\nvar render = function() {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c(\"div\", { staticClass: \"splitpanes__pane\", style: _vm.style, on: { \"click\": function($event) {\n    return _vm.onPaneClick($event, _vm._uid);\n  } } }, [_vm._t(\"default\")], 2);\n};\nvar staticRenderFns = [];\nconst __vue2_script = {\n  name: \"pane\",\n  inject: [\"requestUpdate\", \"onPaneAdd\", \"onPaneRemove\", \"onPaneClick\"],\n  props: {\n    size: { type: [Number, String], default: null },\n    minSize: { type: [Number, String], default: 0 },\n    maxSize: { type: [Number, String], default: 100 }\n  },\n  data: () => ({\n    style: {}\n  }),\n  mounted() {\n    this.onPaneAdd(this);\n  },\n  beforeDestroy() {\n    this.onPaneRemove(this);\n  },\n  methods: {\n    update(style) {\n      this.style = style;\n    }\n  },\n  computed: {\n    sizeNumber() {\n      return this.size || this.size === 0 ? parseFloat(this.size) : null;\n    },\n    minSizeNumber() {\n      return parseFloat(this.minSize);\n    },\n    maxSizeNumber() {\n      return parseFloat(this.maxSize);\n    }\n  },\n  watch: {\n    sizeNumber(size) {\n      this.requestUpdate({ target: this, size });\n    },\n    minSizeNumber(min) {\n      this.requestUpdate({ target: this, min });\n    },\n    maxSizeNumber(max) {\n      this.requestUpdate({ target: this, max });\n    }\n  }\n};\nconst __cssModules = {};\nvar __component__ = /* @__PURE__ */ normalizeComponent(__vue2_script, render, staticRenderFns, false, __vue2_injectStyles, null, null, null);\nfunction __vue2_injectStyles(context) {\n  for (let o in __cssModules) {\n    this[o] = __cssModules[o];\n  }\n}\nvar pane = /* @__PURE__ */ function() {\n  return __component__.exports;\n}();\nexport { pane as Pane, splitpanes as Splitpanes };\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:{ 'gallery-image-col': true, 'gallery-image-col-mobile': _vm.mobile }},_vm._l((_vm.list),function(item,i){return _c('div',{key:i,staticClass:\"gallyer-image-wrapper\"},[_c('el-tooltip',{attrs:{\"effect\":\"light\",\"placement\":\"top\"}},[_c('template',{slot:\"content\"},[_c('span',[_vm._v(_vm._s(item.name))])]),(_vm.isCurrent(item.file))?_c('div',{staticClass:\"gallyer-image-select\",on:{\"click\":function($event){return _vm.changeUrl(item.file)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.getImageUrl(item.icon)),expression:\"getImageUrl(item.icon)\"}],staticClass:\"image\",attrs:{\"src\":_vm.nullImg}})]):_c('div',{staticClass:\"gallyer-image-unselect\",on:{\"click\":function($event){return _vm.changeUrl(item.file)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.getImageUrl(item.icon)),expression:\"getImageUrl(item.icon)\"}],staticClass:\"image\",attrs:{\"src\":_vm.nullImg}})])],2)],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div :class=\"{ 'gallery-image-col': true, 'gallery-image-col-mobile': mobile }\">\n        <div v-for=\"(item, i) in list\" :key=\"i\" class=\"gallyer-image-wrapper\">\n             <el-tooltip  effect=\"light\" placement=\"top\">\n                <template slot=\"content\">\n                    <span>{{ item.name }}</span>\n                </template>\n                <div class=\"gallyer-image-select\" v-if=\"isCurrent(item.file)\" v-on:click=\"changeUrl(item.file)\">\n                    <img :src=\"nullImg\" v-lazy=\"getImageUrl(item.icon)\" class=\"image\" />\n                </div>\n                <div class=\"gallyer-image-unselect\" v-else v-on:click=\"changeUrl(item.file)\">\n                    <img :src=\"nullImg\" v-lazy=\"getImageUrl(item.icon)\" class=\"image\" />\n                </div>\n            </el-tooltip>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { isMobile } from '@/utils/mobile';\n\nexport default {\n    name: 'layout',\n    components: {},\n    data() {\n        return {\n            mobile: isMobile(),\n            nullImg: './static/assets/components/CardGroup/null-img.png',\n            current: this.getCurrentKind()\n        };\n    },\n    props: {\n        list: {\n            type: Array,\n            required: true\n        }\n    },\n    watch: {\n        '$route.path'() {\n            this.getCurrentKind();\n        }\n    },\n    methods: {\n        getImageUrl(icon) {\n            let anchors = location.href.split('#');\n            if (!anchors || anchors.length < 2) return;\n\n            let hrefs = anchors[1].split('/').slice(2);\n            var baseUrl = './static/modules/';\n            var imageUrl;\n            if (hrefs.length <= 3) {\n                imageUrl = baseUrl + hrefs[0] + '/example-gallery/' + hrefs[1] + '/' + icon;\n            } else {\n                imageUrl = baseUrl + hrefs[0] + '/example-gallery/' + hrefs[1] + '/' + hrefs[2] + '/' + icon;\n            }\n            return imageUrl;\n        },\n        getCurrentKind() {\n            let anchors = location.href.split('#');\n            if (!anchors || anchors.length < 2) return;\n\n            let hrefs = anchors[1].split('/').slice(2);\n            let kind = hrefs[hrefs.length - 1];\n            this.current = kind;\n            return kind;\n        },\n        isCurrent(file) {\n            if (file == this.current) return true;\n            return false;\n        },\n        getLinkUrl(file) {\n            let anchors = location.href.split('#');\n            if (!anchors || anchors.length < 2) return;\n\n            let hrefs = anchors[1].split('/').slice(2);\n            var baseUrl = '/modules/' + hrefs[0] + '/' + hrefs[1];\n            if (hrefs.length > 3) {\n                baseUrl = baseUrl + '/' + hrefs[2] + '/' + file;\n            } else {\n                baseUrl = baseUrl + '/' + file;\n            }\n            window.console.log('link', hrefs, baseUrl);\n            return baseUrl;\n        },\n        changeUrl(file) {\n            let url = this.getLinkUrl(file);\n            this.$router.push(url);\n        }\n    }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.gallery-image-col-mobile {\n    margin: 6px 0px !important;\n    .image {\n        height: 64px !important;\n        width: 64px !important;\n    }\n}\n.gallery-image-col {\n    display: -webkit-box;\n    margin-top: 5px;\n    overflow-x: overlay;\n    padding-bottom: 10px;\n    box-sizing: border-box;\n    //overflow-y: hidden;\n\n    .gallyer-image-wrapper {\n      margin: 5px 10px 5px 2px;\n      cursor: pointer;\n    }\n\n    .gallyer-image-select {\n      height: 64px;\n      width: 106px;\n      box-sizing: border-box;\n      outline: 2px solid #3a85c6;\n      transition: .2s all;\n    }\n\n    .gallyer-image-unselect {\n      box-sizing: border-box;\n      height: 64px;\n      width: 106px;\n      outline: 1px solid #E0E4EA;\n      transition: .2s ease-in-out;\n        //border: 3px solid transparent;\n    }\n  .gallyer-image-unselect:hover{\n    box-shadow: 0px 4px 8px 0px rgba(58, 133, 198, 0.2);\n  }\n\n    .image {\n      width:100%;\n      height: 100%;\n        object-fit: cover;\n    }\n}\n\n.gallery-image-col::-webkit-scrollbar {\n    width: 4px;\n    height: 6px;\n    background-color: #f5f5f5;\n}\n\n/* +*/\n.gallery-image-col::-webkit-scrollbar-track {\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    border-radius: 2px;\n    background-color: #f5f5f5;\n}\n\n/* +*/\n.gallery-image-col::-webkit-scrollbar-thumb {\n    border-radius: 2px;\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    background-color: #555;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowGallery.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowGallery.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ShowGallery.vue?vue&type=template&id=080b7915&scoped=true\"\nimport script from \"./ShowGallery.vue?vue&type=script&lang=js\"\nexport * from \"./ShowGallery.vue?vue&type=script&lang=js\"\nimport style0 from \"./ShowGallery.vue?vue&type=style&index=0&id=080b7915&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"080b7915\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <splitpanes :horizontal=\"mobile\" :class=\"{ 'default-theme': true, 'webclient-showcase': true, 'webclient-showcase-mobile': mobile }\">\n    <pane min-size=\"0\" :size=\"mobile ? splitPane : splitPane\">\n      <ShowGallery v-if=\"currentKind.length > 0 && !fullscreen && mobile\" :list=\"currentKind\" />\n      <div class=\"code-wrapper\">\n        <el-button-group class=\"toolbar-showcase-group\">\n          <el-tooltip class=\"item\" effect=\"dark\" v-show=\"!mobile\" :content=\"fullscreen ? '' : ''\" placement=\"top\">\n            <el-button size=\"mini\" @click=\"full\">\n              <IconFont v-if=\"fullscreen\" type=\"iconfullscreen-exit\" />\n              <IconFont v-else type=\"iconfull\" />\n            </el-button>\n          </el-tooltip>\n          <el-tooltip class=\"item\" effect=\"dark\" content=\"\" placement=\"top\">\n            <el-button size=\"mini\" @click=\"reset\">\n              <IconFont type=\"iconreload\" />\n            </el-button>\n          </el-tooltip>\n          <el-tooltip class=\"item\" effect=\"dark\" content=\"\" placement=\"top\">\n            <el-button id='frame-run-button' size=\"mini\" @click=\"run\">\n              <IconFont type=\"iconruno24\" />\n            </el-button>\n          </el-tooltip>\n        </el-button-group>\n        <el-tabs type=\"border-card\" v-loading=\"loading\" v-model=\"active\" class=\"editer-tabs-wrapper\">\n          <el-tab-pane name=\"code\">\n            <!---->\n            <span slot=\"label\">\n                            <IconFont type=\"iconCode\" name=\"\" />\n                        </span>\n\n            <el-row>\n              <div class=\"codemirror\">\n                <codemirror ref=\"mapCode\" :value=\"code\" :options=\"cmOptions\" @input=\"onCmCodeChange\" @ready=\"onCmReady\"></codemirror>\n              </div>\n            </el-row>\n          </el-tab-pane>\n          <el-tab-pane v-if=\"!noCaseArr.includes(getMapMode())\" name=\"interface\" id=\"api-scroll\" class=\"markdown-body\">\n                        <span slot=\"label\">\n                            <IconFont type=\"iconmarkdown-line\" name=\"\" />\n                        </span>\n            <el-scrollbar\n              ref=\"markdownScrollbal\"\n              class=\"element-scroll-content-markdown\"\n              wrapStyle=\"overflow-x: hidden;\"\n              viewStyle=\"overflow-y: hidden;\"\n            >\n              <vue-markdown\n                :watches=\"['show', 'html', 'breaks', 'linkify', 'emoji', 'typographer', 'toc']\"\n                toc-id=\"toc\"\n                :source=\"markdown\"\n                :html=\"true\"\n                :toc=\"false\"\n                :linkify=\"true\"\n                @rendered=\"markdownRendered\"\n              ></vue-markdown>\n            </el-scrollbar>\n          </el-tab-pane>\n        </el-tabs>\n\n      </div>\n    </pane>\n    <pane :size=\"mobile ? 100-splitPane : 100-splitPane\">\n      <el-row v-loading=\"loading\" :class=\"{ 'webclient-showcase-content': true }\">\n        <div v-bind:class=\"{ iframemobile: mobile }\" class=\"editor-codemirror-wraper\">\n          <iframe style=\"border-width: 0px; margin: 0px; padding: 0px\" id=\"showcase\" scrolling=\"no\"></iframe>\n        </div>\n        <div class=\"code-wrapper-stretch-btn\" @click=\"codeWrapperStretch\" :class=\"{'open':codeWrapperStretchStatus==='open','close':codeWrapperStretchStatus==='close'}\">\n          <svg t=\"1670379934546\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2919\" width=\"12\" height=\"12\"><path d=\"M605.824 513.536l335.68 338.304c24.704 24.96 24.704 65.28 0 90.176-24.704 24.896-64.768 24.896-89.472 0L471.616 558.656l0 0c0 0 0 0 0 0-18.496-18.688-23.168-46.08-13.888-69.056 3.072-7.68 7.744-14.912 13.952-21.12l380.352-383.424c24.704-24.96 64.768-24.96 89.472 0 24.704 24.96 24.704 65.28 0 90.24L605.824 513.536zM219.072 511.296l340.736 338.944c25.088 24.96 25.088 65.408 0 90.368-12.544 12.48-28.992 18.752-45.44 18.752-16.448 0-32.896-6.208-45.44-18.752L82.88 556.48l0 0c0 0 0 0 0 0C64 537.728 59.264 510.336 68.736 487.232c3.136-7.68 7.872-14.912 14.144-21.12l386.112-384.128c12.544-12.48 28.992-18.752 45.44-18.752 16.448 0 32.896 6.208 45.376 18.688 25.088 25.024 25.088 65.408 0 90.368L219.072 511.296z\" p-id=\"2920\" fill=\"#666666\"></path></svg>\n        </div>\n        <ShowGallery v-if=\"currentKind.length > 0 && !fullscreen && !mobile\" :list=\"currentKind\" />\n      </el-row>\n    </pane>\n  </splitpanes>\n</template>\n\n<script>\n    import { isMobile } from '@/utils/mobile';\n\n    import { Splitpanes, Pane } from '@mapgis/splitpanes';\n    import '@mapgis/splitpanes/dist/splitpanes.css';\n\n    import { codemirror } from 'vue-codemirror';\n\n    import VueMarkdown from 'vue-markdown';\n    import Prism from 'prismjs';\n    import 'prismjs/themes/prism-coy.css'; // theme\n    import 'prismjs/components/prism-javascript'; // language\n\n    import 'codemirror/lib/codemirror.css';\n\n    // language\n    import 'codemirror/mode/javascript/javascript.js';\n    import 'codemirror/mode/htmlmixed/htmlmixed.js';\n    //scroll\n    import 'codemirror/addon/scroll/simplescrollbars.css'\n    import 'codemirror/addon/scroll/simplescrollbars.js'\n    // theme css\n    import 'codemirror/theme/moxer.css';\n    // require active-line.js\n    import 'codemirror/addon/selection/active-line.js';\n    // styleSelectedText\n    import 'codemirror/addon/selection/mark-selection.js';\n    import 'codemirror/addon/search/searchcursor.js';\n    // hint\n    import 'codemirror/addon/hint/show-hint.js';\n    import 'codemirror/addon/hint/show-hint.css';\n    import 'codemirror/addon/hint/javascript-hint.js';\n    import 'codemirror/addon/selection/active-line.js';\n    // highlightSelectionMatches\n    import 'codemirror/addon/scroll/annotatescrollbar.js';\n    import 'codemirror/addon/search/matchesonscrollbar.js';\n    import 'codemirror/addon/search/searchcursor.js';\n    import 'codemirror/addon/search/match-highlighter.js';\n    // keyMap\n    import 'codemirror/mode/clike/clike.js';\n    import 'codemirror/addon/edit/matchbrackets.js';\n    import 'codemirror/addon/comment/comment.js';\n    import 'codemirror/addon/dialog/dialog.js';\n    import 'codemirror/addon/dialog/dialog.css';\n    import 'codemirror/addon/search/searchcursor.js';\n    import 'codemirror/addon/search/search.js';\n    import 'codemirror/keymap/sublime.js';\n    // foldGutter\n    import 'codemirror/addon/fold/foldgutter.css';\n    import 'codemirror/addon/fold/brace-fold.js';\n    import 'codemirror/addon/fold/comment-fold.js';\n    import 'codemirror/addon/fold/foldcode.js';\n    import 'codemirror/addon/fold/foldgutter.js';\n    import 'codemirror/addon/fold/indent-fold.js';\n    import 'codemirror/addon/fold/markdown-fold.js';\n    import 'codemirror/addon/fold/xml-fold.js';\n\n    // theme css\n    import 'codemirror/theme/eclipse.css';\n    // import \"@/styles/markdown.css\";\n    //import \"@/styles/prism.css\";\n    // import \"@/styles/codemirror.css\";\n\n    // import { getHtml, getMarkdown } from \"@/api/demo\";\n    import axios from 'axios';\n    import IconFont from '@/config/components/IconFont/iconfront';\n    import ShowGallery from './ShowGallery';\n\n    export default {\n        name: 'demo',\n        components: {\n            IconFont,\n            codemirror,\n            VueMarkdown,\n            Splitpanes,\n            Pane,\n            ShowGallery\n        },\n        props: {\n            fullscreen: Boolean,\n            config: Object\n        },\n        data() {\n            return {\n                split: isMobile() ? 'vertical' : 'horizontal',\n                splitPane: 40,\n                mobile: isMobile(),\n                loading: true,\n                active: 'code',\n                code: 'const a = 10',\n                newCode: 'const b = 10',\n                instanseObject: undefined,\n                help: '<h3>,markdown<h3>',\n                markdown: '> markdown, ``, html',\n                cmOptions: {\n                    tabSize: 4,\n                    styleActiveLine: false,\n                    lineNumbers: true,\n                    styleSelectedText: false,\n                    line: true,\n                    foldGutter: true,\n                    gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter'],\n                    highlightSelectionMatches: { showToken: /\\w/, annotateScrollbar: true },\n                    mode: 'htmlmixed',\n                    scrollbarStyle: 'overlay',\n                    // hint.js options\n                    hintOptions: {\n                        // \n                        completeSingle: false\n                    },\n                    //  sublimeemacsvim\n                    keyMap: 'sublime',\n                    matchBrackets: true,\n                    showCursorWhenSelecting: true,\n                    theme: 'eclipse',\n                    extraKeys: { Ctrl: 'autocomplete' }\n                },\n                currentKind: [],\n                codeWrapperStretchStatus: 'open',\n                noCaseArr: ['cesium', 'common']\n            };\n        },\n        computed: {\n            codemirror() {\n                return this.$refs.mapCode.codemirror;\n            }\n        },\n        watch: {\n            '$route.path'() {\n                this.getGalleryKind();\n                this.getCurrentKind();\n            },\n            config(next) {\n                this.getGalleryKind(next);\n            }\n        },\n        mounted() {\n            let vm = this;\n            vm.markdownScrollbal = vm.$refs.markdownScrollbal;\n            vm.markdownScrollBox = vm.markdownScrollbal?.$el.querySelector('.el-scrollbar__wrap');\n            window.onresize = function temp() {\n                vm.resetSize(vm.fullscreen);\n            };\n        },\n        methods: {\n            codeWrapperStretch() {\n                if(this.codeWrapperStretchStatus==='open') {\n                    this.splitPane = 1;\n                    this.codeWrapperStretchStatus = 'close';\n                } else {\n                    this.splitPane = 40;\n                    this.codeWrapperStretchStatus = 'open';\n                }\n            },\n            getGalleryKind(config) {\n                config = config || this.config;\n                let anchors = location.href.split('#');\n                if (!anchors || anchors.length < 2) return;\n\n                let hrefs = anchors[1].split('/');\n                if (hrefs.length < 4) return;\n\n                let routers = hrefs.slice(3);\n                if (!routers) return;\n\n                let index = routers.length > 2 ? 1 : 0;\n                let kind = routers[index];\n\n                /* this.defaultOpeneds = [routers[0]];\n                this.defaultActive = routers[1]; */\n\n                if (!config || !config.childs) return [];\n\n                let length = config.childs.length;\n                for (let i = 0; i < length; i++) {\n                    let first = config.childs[i];\n                    if (first.folder === kind) {\n                        this.currentKind = first.childs;\n                        return first.childs;\n                    }\n                    if (!first.folder) continue;\n                    let length2 = first.childs.length;\n                    for (let j = 0; j < length2; j++) {\n                        let second = first.childs[j];\n                        if (second.folder === kind) {\n                            this.currentKind = second.childs;\n                            return second.childs;\n                        }\n                    }\n                }\n                this.currentKind = [];\n                return [];\n            },\n            getCurrentKind() {\n                let anchors = location.href.split('#');\n                if (!anchors || anchors.length < 2) return;\n\n                let hrefs = anchors[1].split('/').slice(2);\n                let file = hrefs[hrefs.length - 1];\n                let type = hrefs[0];\n                let first, second;\n                if (hrefs.length <= 3) {\n                    first = hrefs[hrefs.length - 2];\n                    second = undefined;\n                } else {\n                    first = hrefs[hrefs.length - 3];\n                    second = hrefs[hrefs.length - 2];\n                }\n\n                this.resetHtml(type, file, first, second);\n            },\n            getHtmlUrl(type, image, first, second) {\n                var baseUrl = './static/modules/';\n                var imageUrl = baseUrl + type + '/example/' + first + '/';\n                if (second !== undefined) {\n                    imageUrl = imageUrl + second + '/' + image + '.htm';\n                } else {\n                    imageUrl = imageUrl + image + '.htm';\n                }\n                return imageUrl;\n            },\n            getApiUrl(type, image, first, second) {\n                var baseUrl = './static/modules/';\n                var apiUrl = baseUrl + type + '/example-introduce/' + first + '/';\n                if (second !== undefined) {\n                    apiUrl = apiUrl + second + '/' + image + '.md';\n                } else {\n                    apiUrl = apiUrl + image + '.md';\n                }\n                return apiUrl;\n            },\n            getHelpUrl(type, image, first, second) {\n                var baseUrl = './static/modules/';\n                var helpUrl = baseUrl + type + '/html/' + first + '/';\n                if (second !== undefined) {\n                    helpUrl = helpUrl + second + '/' + image + '.htm';\n                } else {\n                    helpUrl = helpUrl + image + '.htm';\n                }\n                return helpUrl;\n            },\n            getMapMode() {\n                var mapMode = 'leaflet';\n                let path = this.$route.path;\n                let find = path.split('/modules/');\n                let mapmodes = find && find.length > 1 ? find[1].split('/') : '';\n                if (mapmodes && mapmodes.length > 0) {\n                    mapMode = mapmodes[0];\n                } else {\n                    if (this.$route.path.indexOf('leaflet') > 0) {\n                        mapMode = 'leaflet';\n                    } else if (this.$route.path.indexOf('openlayer') > 0) {\n                        mapMode = 'openlayers';\n                    } else if (this.$route.path.indexOf('cesium') > 0) {\n                        mapMode = 'cesium';\n                    } else if (this.$route.path.indexOf('mapboxgl') > 0) {\n                        mapMode = 'mapboxgl';\n                    } else if (this.$route.path.indexOf('common') > 0) {\n                        mapMode = 'common';\n                    }\n                }\n                return mapMode;\n            },\n            full() {\n                const full = !this.fullscreen;\n                this.$emit('handleFullscreen', full);\n                this.resetSize(full);\n            },\n            run() {\n                this.oldCode = this.code;\n                this.code = this.newCode;\n                this.loading = true;\n                this.resetCase(this.code);\n            },\n            reset() {\n                this.loading = true;\n                this.resetSize(this.fullscreen);\n                this.resetHtml();\n            },\n            resetSize(fullscreen) {\n                var codeContent = document.getElementsByClassName('CodeMirror');\n                var demoContent = document.getElementsByClassName('editor-codemirror-wraper');\n                var markdownContent = document.getElementsByClassName('element-scroll-content-markdown');\n                var paddingMainContent = document.getElementById('padding-main-content');\n                if (fullscreen) {\n                    paddingMainContent.style.paddingTop = 0 + 'px';\n                    codeContent[0].style.height = window.innerHeight - 42 + 'px';\n                    demoContent[0].style.height = window.innerHeight - 42 + 'px';\n                    if(this.markdownScrollBox){\n                        markdownContent[markdownContent.length - 1].style.height = window.innerHeight - 42 + 'px';\n                    }\n                } else {\n                    if (this.mobile) {\n                        codeContent[0].style.height = window.innerHeight * 0.6 - 162 + 'px';\n                        // demoContent[0].style.height = window.innerHeight - 102 + \"px\";\n                        // markdownContent[markdownContent.length - 1].style.height = window.innerHeight - 242 + \"px\";\n                    } else {\n                        paddingMainContent.style.paddingTop = 56 + 'px';\n                        codeContent[0].style.height = window.innerHeight - 100 + 'px';\n                        demoContent[0].style.height = window.innerHeight - 150 + 'px';\n                        if(this.markdownScrollBox){\n                            markdownContent[markdownContent.length - 1].style.height = window.innerHeight - 100 + 'px';\n                        }\n                    }\n                }\n            },\n            resetHtml(mode, file, first, second, code) {\n                this.loading = true;\n                var self = this;\n\n                mode = mode || this.getMapMode();\n                file = file || this.$route.params.file;\n                first = first || this.$route.params.first;\n                second = second || this.$route.params.second;\n\n                var url = this.getHtmlUrl(mode, file, first, second);\n                // var helpUrl = this.getHelpUrl(mode, file, first, second);\n\n                new Promise((resolve, reject) => {\n                    axios\n                        .get(url)\n                        .then((response) => {\n                            let data = response.data;\n                            if (typeof data === 'string') {\n                                if (data.indexOf('http://192.168.10.245:89/cookie/flashcookie.swf') >= 0) {\n                                    self.resetHtml(mode, file, first, second, code);\n                                } else {\n                                    self.instanseObject = self.code = response.data;\n                                    self.resetCase(code || self.code);\n                                    resolve(response.data);\n                                }\n                            }\n                        })\n                        .catch((error) => {\n                            reject(error);\n                            self.instanseObject = self.code = '';\n                        });\n                    if(!this.noCaseArr.includes(mode)){\n                        var apiUrl = this.getApiUrl(mode, file, first, second);\n                        axios\n                            .get(apiUrl)\n                            .then((response) => {\n                                self.markdown = response.data;\n                            })\n                            .catch(() => {\n                                window.console.warn('markdown......');\n                            });\n                    }\n                });\n            },\n            resetCase(code) {\n                let vm = this;\n                let iframe = document.getElementById('showcase');\n                let readyStateInterval\n                // iframe reloaddocument\n\n                /**\n                 * --- iframe reload --- \n                 * loadingdocument\n                 * loaded\n                 * interactivedocument\n                 * completeresource\n                 */\n                let unloadAction = ()=>{\n                  iframe.contentWindow.removeEventListener('unload', unloadAction)\n                  readyStateInterval = setInterval(() => {\n                      if(iframe.contentWindow && iframe.contentWindow.document){\n                        let iframeDoc = iframe.contentWindow.document\n                        if(iframeDoc.readyState === 'complete'){\n                          // \n                          window.clearInterval(readyStateInterval)\n                          // \n                          var showcaseFrame = iframe.contentWindow;\n                          if (!showcaseFrame) {\n                              return;\n                          }\n\n                          let doc = showcaseFrame.document;\n                          if (!doc) {\n                              return;\n                          }\n\n                          let body = doc.body;\n                          if (!body) {\n                              return;\n                          }\n\n                          body.style.background = 'transparent';\n                          body.innerText = '';\n                          body.innerHTML = '';\n\n                          doc.open();\n                          doc.write(code || this.codemirror.getValue());\n                          doc.close();\n\n                          if (iframe.attachEvent) {\n                              iframe.attachEvent('onload', function () {\n                                  // IE\n                                  vm.loading = false;\n                                  vm.codemirror.scrollTo(0, 0);\n                                  if(vm.markdownScrollBox){\n                                      vm.markdownScrollBox.scrollTop = 0;\n                                  }\n                              });\n                          } else {\n                              iframe.onload = function () {\n                                  // IE\n                                  vm.loading = false;\n                                  vm.codemirror.scrollTo(0, 0);\n                                  if(vm.markdownScrollBox){\n                                      vm.markdownScrollBox.scrollTop = 0;\n                                  }\n                              };\n                          }\n                        }\n                      }\n                  }, 10);\n                }\n                iframe.contentWindow.addEventListener('unload', unloadAction)\n                iframe.contentWindow.location.reload();\n            },\n            onCmReady() {\n                this.reset();\n            },\n            onCmFocus() {},\n            onCmCodeChange(newCode) {\n                this.newCode = newCode;\n            },\n            markdownRendered() {\n                this.$nextTick(() => {\n                    Prism.highlightAll();\n                });\n            }\n        }\n    };\n</script>\n\n<style lang=\"less\" scope>\n  @import '../../styles/markdown.css';\n  @import '../../styles/prism.css';\n  .markdown-body {\n    box-sizing: border-box;\n    min-width: 200px;\n    max-width: 980px;\n    padding: 0 1px 0 20px;\n  }\n\n  @media (max-width: 767px) {\n    .markdown-body {\n      padding: 15px;\n    }\n  }\n  .splitpanes__pane {\n    width: 100%;\n    height: 100%;\n    background-color: #ffffff !important;\n  }\n  .webclient-showcase-mobile {\n    .element-scroll-content {\n      height: calc(100vh - 40vh) !important;\n      overflow-x: hidden;\n    }\n    .editor-codemirror-wraper {\n      // height: calc(60vh - 120px) !important;\n    }\n  }\n\n  .webclient-showcase {\n    .showcase-exit-fullscreen {\n      position: absolute;\n      right: 10px;\n      top: 10px;\n      z-index: 9999;\n    }\n    .webclient-showcase-content {\n      height: 100%;\n      position: relative;\n      .code-wrapper-stretch-btn{\n        position: absolute;\n        top: calc(50%);\n        z-index: 2002;\n        height: 32px;\n        width: 16px;\n        border-top-right-radius: 16px;\n        border-bottom-right-radius: 16px;\n        margin-top: -16px;\n        left:0;\n        background-color: rgba(153,153,153,0.4);\n        padding-top: 8px;\n        box-sizing: border-box;\n        cursor: pointer;\n      }\n    }\n    .code-wrapper-stretch-btn.close svg{\n      transform: rotate(180deg);\n    }\n    .code-wrapper {\n      position: relative;\n      height: 100%;\n      .toolbar-showcase-group {\n        position: absolute;\n        margin-top: 5px;\n        margin-right: 6px;\n        z-index: 100;\n        right: 10px;\n      }\n    }\n\n    .CodeMirror-focused .cm-matchhighlight {\n      background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAFklEQVQI12NgYGBgkKzc8x9CMDAwAAAmhwSbidEoSQAAAABJRU5ErkJggg==);\n      background-position: bottom;\n      background-repeat: repeat-x;\n    }\n    .cm-matchhighlight {\n      background-color: lightgreen;\n    }\n    .CodeMirror-selection-highlight-scrollbar {\n      background-color: green;\n    }\n\n    .editor-codemirror-wraper {\n      height: calc(100vh - 190px);\n    }\n\n    .iframemobile {\n      height: 100%;\n    }\n\n    .editer-codemirror-content {\n      height: 100%;\n    }\n\n    .select-group {\n      margin: 5px;\n    }\n\n    /* #api-scroll {\n  height: 700px;\n  overflow: auto;\n  font-size: 14px;\n}*/\n\n    #showcase {\n      width: 100%;\n      height: 100%;\n      margin: 0;\n      padding: 0;\n      background: transparent;\n    }\n\n    .splitpanes__pane {\n      justify-content: center;\n      align-items: center;\n    }\n\n    /* .splitpanes__pane span {\n  font-family: Helvetica, Arial, sans-serif;\n  color: #fff;\n  font-size: 5em;\n  opacity: 0.6;\n} */\n\n    .element-scroll-content {\n      height: calc(100vh - 300px);\n      overflow-x: hidden;\n    }\n    .editer-tabs-wrapper {\n      height: 100%;\n      .el-tabs__content{\n        padding: 0px;\n      }\n      .CodeMirror pre.CodeMirror-line, .CodeMirror pre.CodeMirror-line-like{\n        padding: 3px 4px;\n      }\n      .CodeMirror-gutters{\n        background-color: #fff;\n      }\n      /* .el-tabs__item {\n    padding: 0 20px;\n    height: 30px;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    line-height: 30px;\n    display: inline-block;\n    list-style: none;\n    font-size: 11px;\n    font-weight: 500;\n    color: #303133;\n    position: relative;\n  } */\n    }\n    .splitpanes__pane {\n      height: 100%;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9d36a568\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=9d36a568&prod&lang=less&scope=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function doFold(cm, pos, options, force) {\n    if (options && options.call) {\n      var finder = options;\n      options = null;\n    } else {\n      var finder = getOption(cm, options, \"rangeFinder\");\n    }\n    if (typeof pos == \"number\") pos = CodeMirror.Pos(pos, 0);\n    var minSize = getOption(cm, options, \"minFoldSize\");\n\n    function getRange(allowFolded) {\n      var range = finder(cm, pos);\n      if (!range || range.to.line - range.from.line < minSize) return null;\n      if (force === \"fold\") return range;\n\n      var marks = cm.findMarksAt(range.from);\n      for (var i = 0; i < marks.length; ++i) {\n        if (marks[i].__isFold) {\n          if (!allowFolded) return null;\n          range.cleared = true;\n          marks[i].clear();\n        }\n      }\n      return range;\n    }\n\n    var range = getRange(true);\n    if (getOption(cm, options, \"scanUp\")) while (!range && pos.line > cm.firstLine()) {\n      pos = CodeMirror.Pos(pos.line - 1, 0);\n      range = getRange(false);\n    }\n    if (!range || range.cleared || force === \"unfold\") return;\n\n    var myWidget = makeWidget(cm, options, range);\n    CodeMirror.on(myWidget, \"mousedown\", function(e) {\n      myRange.clear();\n      CodeMirror.e_preventDefault(e);\n    });\n    var myRange = cm.markText(range.from, range.to, {\n      replacedWith: myWidget,\n      clearOnEnter: getOption(cm, options, \"clearOnEnter\"),\n      __isFold: true\n    });\n    myRange.on(\"clear\", function(from, to) {\n      CodeMirror.signal(cm, \"unfold\", cm, from, to);\n    });\n    CodeMirror.signal(cm, \"fold\", cm, range.from, range.to);\n  }\n\n  function makeWidget(cm, options, range) {\n    var widget = getOption(cm, options, \"widget\");\n\n    if (typeof widget == \"function\") {\n      widget = widget(range.from, range.to);\n    }\n\n    if (typeof widget == \"string\") {\n      var text = document.createTextNode(widget);\n      widget = document.createElement(\"span\");\n      widget.appendChild(text);\n      widget.className = \"CodeMirror-foldmarker\";\n    } else if (widget) {\n      widget = widget.cloneNode(true)\n    }\n    return widget;\n  }\n\n  // Clumsy backwards-compatible interface\n  CodeMirror.newFoldFunction = function(rangeFinder, widget) {\n    return function(cm, pos) { doFold(cm, pos, {rangeFinder: rangeFinder, widget: widget}); };\n  };\n\n  // New-style interface\n  CodeMirror.defineExtension(\"foldCode\", function(pos, options, force) {\n    doFold(this, pos, options, force);\n  });\n\n  CodeMirror.defineExtension(\"isFolded\", function(pos) {\n    var marks = this.findMarksAt(pos);\n    for (var i = 0; i < marks.length; ++i)\n      if (marks[i].__isFold) return true;\n  });\n\n  CodeMirror.commands.toggleFold = function(cm) {\n    cm.foldCode(cm.getCursor());\n  };\n  CodeMirror.commands.fold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"fold\");\n  };\n  CodeMirror.commands.unfold = function(cm) {\n    cm.foldCode(cm.getCursor(), { scanUp: false }, \"unfold\");\n  };\n  CodeMirror.commands.foldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), { scanUp: false }, \"fold\");\n    });\n  };\n  CodeMirror.commands.unfoldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), { scanUp: false }, \"unfold\");\n    });\n  };\n\n  CodeMirror.registerHelper(\"fold\", \"combine\", function() {\n    var funcs = Array.prototype.slice.call(arguments, 0);\n    return function(cm, start) {\n      for (var i = 0; i < funcs.length; ++i) {\n        var found = funcs[i](cm, start);\n        if (found) return found;\n      }\n    };\n  });\n\n  CodeMirror.registerHelper(\"fold\", \"auto\", function(cm, start) {\n    var helpers = cm.getHelpers(start, \"fold\");\n    for (var i = 0; i < helpers.length; i++) {\n      var cur = helpers[i](cm, start);\n      if (cur) return cur;\n    }\n  });\n\n  var defaultOptions = {\n    rangeFinder: CodeMirror.fold.auto,\n    widget: \"\\u2194\",\n    minFoldSize: 0,\n    scanUp: false,\n    clearOnEnter: true\n  };\n\n  CodeMirror.defineOption(\"foldOptions\", null);\n\n  function getOption(cm, options, name) {\n    if (options && options[name] !== undefined)\n      return options[name];\n    var editorOptions = cm.options.foldOptions;\n    if (editorOptions && editorOptions[name] !== undefined)\n      return editorOptions[name];\n    return defaultOptions[name];\n  }\n\n  CodeMirror.defineExtension(\"foldOption\", function(options, name) {\n    return getOption(this, options, name);\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction Context(indented, column, type, info, align, prev) {\n  this.indented = indented;\n  this.column = column;\n  this.type = type;\n  this.info = info;\n  this.align = align;\n  this.prev = prev;\n}\nfunction pushContext(state, col, type, info) {\n  var indent = state.indented;\n  if (state.context && state.context.type == \"statement\" && type != \"statement\")\n    indent = state.context.indented;\n  return state.context = new Context(indent, col, type, info, null, state.context);\n}\nfunction popContext(state) {\n  var t = state.context.type;\n  if (t == \")\" || t == \"]\" || t == \"}\")\n    state.indented = state.context.indented;\n  return state.context = state.context.prev;\n}\n\nfunction typeBefore(stream, state, pos) {\n  if (state.prevToken == \"variable\" || state.prevToken == \"type\") return true;\n  if (/\\S(?:[^- ]>|[*\\]])\\s*$|\\*$/.test(stream.string.slice(0, pos))) return true;\n  if (state.typeAtEndOfLine && stream.column() == stream.indentation()) return true;\n}\n\nfunction isTopScope(context) {\n  for (;;) {\n    if (!context || context.type == \"top\") return true;\n    if (context.type == \"}\" && context.prev.info != \"namespace\") return false;\n    context = context.prev;\n  }\n}\n\nCodeMirror.defineMode(\"clike\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit,\n      statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n      dontAlignCalls = parserConfig.dontAlignCalls,\n      keywords = parserConfig.keywords || {},\n      types = parserConfig.types || {},\n      builtin = parserConfig.builtin || {},\n      blockKeywords = parserConfig.blockKeywords || {},\n      defKeywords = parserConfig.defKeywords || {},\n      atoms = parserConfig.atoms || {},\n      hooks = parserConfig.hooks || {},\n      multiLineStrings = parserConfig.multiLineStrings,\n      indentStatements = parserConfig.indentStatements !== false,\n      indentSwitch = parserConfig.indentSwitch !== false,\n      namespaceSeparator = parserConfig.namespaceSeparator,\n      isPunctuationChar = parserConfig.isPunctuationChar || /[\\[\\]{}\\(\\),;\\:\\.]/,\n      numberStart = parserConfig.numberStart || /[\\d\\.]/,\n      number = parserConfig.number || /^(?:0x[a-f\\d]+|0b[01]+|(?:\\d+\\.?\\d*|\\.\\d+)(?:e[-+]?\\d+)?)(u|ll?|l|f)?/i,\n      isOperatorChar = parserConfig.isOperatorChar || /[+\\-*&%=<>!?|\\/]/,\n      isIdentifierChar = parserConfig.isIdentifierChar || /[\\w\\$_\\xa1-\\uffff]/,\n      // An optional function that takes a {string} token and returns true if it\n      // should be treated as a builtin.\n      isReservedIdentifier = parserConfig.isReservedIdentifier || false;\n\n  var curPunc, isDefKeyword;\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (hooks[ch]) {\n      var result = hooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    }\n    if (numberStart.test(ch)) {\n      stream.backUp(1)\n      if (stream.match(number)) return \"number\"\n      stream.next()\n    }\n    if (isPunctuationChar.test(ch)) {\n      curPunc = ch;\n      return null;\n    }\n    if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      }\n      if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n    }\n    if (isOperatorChar.test(ch)) {\n      while (!stream.match(/^\\/[\\/*]/, false) && stream.eat(isOperatorChar)) {}\n      return \"operator\";\n    }\n    stream.eatWhile(isIdentifierChar);\n    if (namespaceSeparator) while (stream.match(namespaceSeparator))\n      stream.eatWhile(isIdentifierChar);\n\n    var cur = stream.current();\n    if (contains(keywords, cur)) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      if (contains(defKeywords, cur)) isDefKeyword = true;\n      return \"keyword\";\n    }\n    if (contains(types, cur)) return \"type\";\n    if (contains(builtin, cur)\n        || (isReservedIdentifier && isReservedIdentifier(cur))) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      return \"builtin\";\n    }\n    if (contains(atoms, cur)) return \"atom\";\n    return \"variable\";\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) {end = true; break;}\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (end || !(escaped || multiLineStrings))\n        state.tokenize = null;\n      return \"string\";\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return \"comment\";\n  }\n\n  function maybeEOL(stream, state) {\n    if (parserConfig.typeFirstDefinitions && stream.eol() && isTopScope(state.context))\n      state.typeAtEndOfLine = typeBefore(stream, state, stream.pos)\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      return {\n        tokenize: null,\n        context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", null, false),\n        indented: 0,\n        startOfLine: true,\n        prevToken: null\n      };\n    },\n\n    token: function(stream, state) {\n      var ctx = state.context;\n      if (stream.sol()) {\n        if (ctx.align == null) ctx.align = false;\n        state.indented = stream.indentation();\n        state.startOfLine = true;\n      }\n      if (stream.eatSpace()) { maybeEOL(stream, state); return null; }\n      curPunc = isDefKeyword = null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style == \"comment\" || style == \"meta\") return style;\n      if (ctx.align == null) ctx.align = true;\n\n      if (curPunc == \";\" || curPunc == \":\" || (curPunc == \",\" && stream.match(/^\\s*(?:\\/\\/.*)?$/, false)))\n        while (state.context.type == \"statement\") popContext(state);\n      else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n      else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n      else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n      else if (curPunc == \"}\") {\n        while (ctx.type == \"statement\") ctx = popContext(state);\n        if (ctx.type == \"}\") ctx = popContext(state);\n        while (ctx.type == \"statement\") ctx = popContext(state);\n      }\n      else if (curPunc == ctx.type) popContext(state);\n      else if (indentStatements &&\n               (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != \";\") ||\n                (ctx.type == \"statement\" && curPunc == \"newstatement\"))) {\n        pushContext(state, stream.column(), \"statement\", stream.current());\n      }\n\n      if (style == \"variable\" &&\n          ((state.prevToken == \"def\" ||\n            (parserConfig.typeFirstDefinitions && typeBefore(stream, state, stream.start) &&\n             isTopScope(state.context) && stream.match(/^\\s*\\(/, false)))))\n        style = \"def\";\n\n      if (hooks.token) {\n        var result = hooks.token(stream, state, style);\n        if (result !== undefined) style = result;\n      }\n\n      if (style == \"def\" && parserConfig.styleDefs === false) style = \"variable\";\n\n      state.startOfLine = false;\n      state.prevToken = isDefKeyword ? \"def\" : style || curPunc;\n      maybeEOL(stream, state);\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize != tokenBase && state.tokenize != null || state.typeAtEndOfLine && isTopScope(state.context))\n        return CodeMirror.Pass;\n      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n      var closing = firstChar == ctx.type;\n      if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n      if (parserConfig.dontIndentStatements)\n        while (ctx.type == \"statement\" && parserConfig.dontIndentStatements.test(ctx.info))\n          ctx = ctx.prev\n      if (hooks.indent) {\n        var hook = hooks.indent(state, ctx, textAfter, indentUnit);\n        if (typeof hook == \"number\") return hook\n      }\n      var switchBlock = ctx.prev && ctx.prev.info == \"switch\";\n      if (parserConfig.allmanIndentation && /[{(]/.test(firstChar)) {\n        while (ctx.type != \"top\" && ctx.type != \"}\") ctx = ctx.prev\n        return ctx.indented\n      }\n      if (ctx.type == \"statement\")\n        return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n      if (ctx.align && (!dontAlignCalls || ctx.type != \")\"))\n        return ctx.column + (closing ? 0 : 1);\n      if (ctx.type == \")\" && !closing)\n        return ctx.indented + statementIndentUnit;\n\n      return ctx.indented + (closing ? 0 : indentUnit) +\n        (!closing && switchBlock && !/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 0);\n    },\n\n    electricInput: indentSwitch ? /^\\s*(?:case .*?:|default:|\\{\\}?|\\})$/ : /^\\s*[{}]$/,\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: \"//\",\n    fold: \"brace\"\n  };\n});\n\n  function words(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n  function contains(words, word) {\n    if (typeof words === \"function\") {\n      return words(word);\n    } else {\n      return words.propertyIsEnumerable(word);\n    }\n  }\n  var cKeywords = \"auto if break case register continue return default do sizeof \" +\n    \"static else struct switch extern typedef union for goto while enum const \" +\n    \"volatile inline restrict asm fortran\";\n\n  // Keywords from https://en.cppreference.com/w/cpp/keyword includes C++20.\n  var cppKeywords = \"alignas alignof and and_eq audit axiom bitand bitor catch \" +\n  \"class compl concept constexpr const_cast decltype delete dynamic_cast \" +\n  \"explicit export final friend import module mutable namespace new noexcept \" +\n  \"not not_eq operator or or_eq override private protected public \" +\n  \"reinterpret_cast requires static_assert static_cast template this \" +\n  \"thread_local throw try typeid typename using virtual xor xor_eq\";\n\n  var objCKeywords = \"bycopy byref in inout oneway out self super atomic nonatomic retain copy \" +\n  \"readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd \" +\n  \"@interface @implementation @end @protocol @encode @property @synthesize @dynamic @class \" +\n  \"@public @package @private @protected @required @optional @try @catch @finally @import \" +\n  \"@selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available\";\n\n  var objCBuiltins = \"FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION \" +\n  \" NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER \" +\n  \"NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION \" +\n  \"NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT\"\n\n  // Do not use this. Use the cTypes function below. This is global just to avoid\n  // excessive calls when cTypes is being called multiple times during a parse.\n  var basicCTypes = words(\"int long char short double float unsigned signed \" +\n    \"void bool\");\n\n  // Do not use this. Use the objCTypes function below. This is global just to avoid\n  // excessive calls when objCTypes is being called multiple times during a parse.\n  var basicObjCTypes = words(\"SEL instancetype id Class Protocol BOOL\");\n\n  // Returns true if identifier is a \"C\" type.\n  // C type is defined as those that are reserved by the compiler (basicTypes),\n  // and those that end in _t (Reserved by POSIX for types)\n  // http://www.gnu.org/software/libc/manual/html_node/Reserved-Names.html\n  function cTypes(identifier) {\n    return contains(basicCTypes, identifier) || /.+_t$/.test(identifier);\n  }\n\n  // Returns true if identifier is a \"Objective C\" type.\n  function objCTypes(identifier) {\n    return cTypes(identifier) || contains(basicObjCTypes, identifier);\n  }\n\n  var cBlockKeywords = \"case do else for if switch while struct enum union\";\n  var cDefKeywords = \"struct enum union\";\n\n  function cppHook(stream, state) {\n    if (!state.startOfLine) return false\n    for (var ch, next = null; ch = stream.peek();) {\n      if (ch == \"\\\\\" && stream.match(/^.$/)) {\n        next = cppHook\n        break\n      } else if (ch == \"/\" && stream.match(/^\\/[\\/\\*]/, false)) {\n        break\n      }\n      stream.next()\n    }\n    state.tokenize = next\n    return \"meta\"\n  }\n\n  function pointerHook(_stream, state) {\n    if (state.prevToken == \"type\") return \"type\";\n    return false;\n  }\n\n  // For C and C++ (and ObjC): identifiers starting with __\n  // or _ followed by a capital letter are reserved for the compiler.\n  function cIsReservedIdentifier(token) {\n    if (!token || token.length < 2) return false;\n    if (token[0] != '_') return false;\n    return (token[1] == '_') || (token[1] !== token[1].toLowerCase());\n  }\n\n  function cpp14Literal(stream) {\n    stream.eatWhile(/[\\w\\.']/);\n    return \"number\";\n  }\n\n  function cpp11StringHook(stream, state) {\n    stream.backUp(1);\n    // Raw strings.\n    if (stream.match(/^(?:R|u8R|uR|UR|LR)/)) {\n      var match = stream.match(/^\"([^\\s\\\\()]{0,16})\\(/);\n      if (!match) {\n        return false;\n      }\n      state.cpp11RawStringDelim = match[1];\n      state.tokenize = tokenRawString;\n      return tokenRawString(stream, state);\n    }\n    // Unicode strings/chars.\n    if (stream.match(/^(?:u8|u|U|L)/)) {\n      if (stream.match(/^[\"']/, /* eat */ false)) {\n        return \"string\";\n      }\n      return false;\n    }\n    // Ignore this hook.\n    stream.next();\n    return false;\n  }\n\n  function cppLooksLikeConstructor(word) {\n    var lastTwo = /(\\w+)::~?(\\w+)$/.exec(word);\n    return lastTwo && lastTwo[1] == lastTwo[2];\n  }\n\n  // C#-style strings where \"\" escapes a quote.\n  function tokenAtString(stream, state) {\n    var next;\n    while ((next = stream.next()) != null) {\n      if (next == '\"' && !stream.eat('\"')) {\n        state.tokenize = null;\n        break;\n      }\n    }\n    return \"string\";\n  }\n\n  // C++11 raw string literal is <prefix>\"<delim>( anything )<delim>\", where\n  // <delim> can be a string up to 16 characters long.\n  function tokenRawString(stream, state) {\n    // Escape characters that have special regex meanings.\n    var delim = state.cpp11RawStringDelim.replace(/[^\\w\\s]/g, '\\\\$&');\n    var match = stream.match(new RegExp(\".*?\\\\)\" + delim + '\"'));\n    if (match)\n      state.tokenize = null;\n    else\n      stream.skipToEnd();\n    return \"string\";\n  }\n\n  function def(mimes, mode) {\n    if (typeof mimes == \"string\") mimes = [mimes];\n    var words = [];\n    function add(obj) {\n      if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))\n        words.push(prop);\n    }\n    add(mode.keywords);\n    add(mode.types);\n    add(mode.builtin);\n    add(mode.atoms);\n    if (words.length) {\n      mode.helperType = mimes[0];\n      CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n    }\n\n    for (var i = 0; i < mimes.length; ++i)\n      CodeMirror.defineMIME(mimes[i], mode);\n  }\n\n  def([\"text/x-csrc\", \"text/x-c\", \"text/x-chdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords),\n    defKeywords: words(cDefKeywords),\n    typeFirstDefinitions: true,\n    atoms: words(\"NULL true false\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n    },\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def([\"text/x-c++src\", \"text/x-c++hdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + cppKeywords),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords + \" class try catch\"),\n    defKeywords: words(cDefKeywords + \" class namespace\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false NULL nullptr\"),\n    dontIndentStatements: /^template$/,\n    isIdentifierChar: /[\\w\\$_~\\xa1-\\uffff]/,\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-java\", {\n    name: \"clike\",\n    keywords: words(\"abstract assert break case catch class const continue default \" +\n                    \"do else enum extends final finally for goto if implements import \" +\n                    \"instanceof interface native new package private protected public \" +\n                    \"return static strictfp super switch synchronized this throw throws transient \" +\n                    \"try volatile while @interface\"),\n    types: words(\"var byte short int long float double boolean char void Boolean Byte Character Double Float \" +\n                 \"Integer Long Number Object Short String StringBuffer StringBuilder Void\"),\n    blockKeywords: words(\"catch class do else finally for if switch try while\"),\n    defKeywords: words(\"class interface enum @interface\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    number: /^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+\\.?\\d*|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,\n    hooks: {\n      \"@\": function(stream) {\n        // Don't match the @interface keyword.\n        if (stream.match('interface', false)) return false;\n\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n        if (!stream.match(/\"\"$/)) return false;\n        state.tokenize = tokenTripleString;\n        return state.tokenize(stream, state);\n      }\n    },\n    modeProps: {fold: [\"brace\", \"import\"]}\n  });\n\n  def(\"text/x-csharp\", {\n    name: \"clike\",\n    keywords: words(\"abstract as async await base break case catch checked class const continue\" +\n                    \" default delegate do else enum event explicit extern finally fixed for\" +\n                    \" foreach goto if implicit in init interface internal is lock namespace new\" +\n                    \" operator out override params private protected public readonly record ref required return sealed\" +\n                    \" sizeof stackalloc static struct switch this throw try typeof unchecked\" +\n                    \" unsafe using virtual void volatile while add alias ascending descending dynamic from get\" +\n                    \" global group into join let orderby partial remove select set value var yield\"),\n    types: words(\"Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func\" +\n                 \" Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32\" +\n                 \" UInt64 bool byte char decimal double short int long object\"  +\n                 \" sbyte float string ushort uint ulong\"),\n    blockKeywords: words(\"catch class do else finally for foreach if struct switch try while\"),\n    defKeywords: words(\"class interface namespace record struct var\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\n      \"@\": function(stream, state) {\n        if (stream.eat('\"')) {\n          state.tokenize = tokenAtString;\n          return tokenAtString(stream, state);\n        }\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      }\n    }\n  });\n\n  function tokenTripleString(stream, state) {\n    var escaped = false;\n    while (!stream.eol()) {\n      if (!escaped && stream.match('\"\"\"')) {\n        state.tokenize = null;\n        break;\n      }\n      escaped = stream.next() == \"\\\\\" && !escaped;\n    }\n    return \"string\";\n  }\n\n  function tokenNestedComment(depth) {\n    return function (stream, state) {\n      var ch\n      while (ch = stream.next()) {\n        if (ch == \"*\" && stream.eat(\"/\")) {\n          if (depth == 1) {\n            state.tokenize = null\n            break\n          } else {\n            state.tokenize = tokenNestedComment(depth - 1)\n            return state.tokenize(stream, state)\n          }\n        } else if (ch == \"/\" && stream.eat(\"*\")) {\n          state.tokenize = tokenNestedComment(depth + 1)\n          return state.tokenize(stream, state)\n        }\n      }\n      return \"comment\"\n    }\n  }\n\n  def(\"text/x-scala\", {\n    name: \"clike\",\n    keywords: words(\n      /* scala */\n      \"abstract case catch class def do else extends final finally for forSome if \" +\n      \"implicit import lazy match new null object override package private protected return \" +\n      \"sealed super this throw trait try type val var while with yield _ \" +\n\n      /* package scala */\n      \"assert assume require print println printf readLine readBoolean readByte readShort \" +\n      \"readChar readInt readLong readFloat readDouble\"\n    ),\n    types: words(\n      \"AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either \" +\n      \"Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable \" +\n      \"Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering \" +\n      \"Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder \" +\n      \"StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector \" +\n\n      /* package java.lang */\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void\"\n    ),\n    multiLineStrings: true,\n    blockKeywords: words(\"catch class enum do else finally for forSome if match switch try while\"),\n    defKeywords: words(\"class enum def object package trait type val var\"),\n    atoms: words(\"true false null\"),\n    indentStatements: false,\n    indentSwitch: false,\n    isOperatorChar: /[+\\-*&%=<>!?|\\/#:@]/,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n        if (!stream.match('\"\"')) return false;\n        state.tokenize = tokenTripleString;\n        return state.tokenize(stream, state);\n      },\n      \"'\": function(stream) {\n        if (stream.match(/^(\\\\[^'\\s]+|[^\\\\'])'/)) return \"string-2\"\n        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n        return \"atom\";\n      },\n      \"=\": function(stream, state) {\n        var cx = state.context\n        if (cx.type == \"}\" && cx.align && stream.eat(\">\")) {\n          state.context = new Context(cx.indented, cx.column, cx.type, cx.info, null, cx.prev)\n          return \"operator\"\n        } else {\n          return false\n        }\n      },\n\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false\n        state.tokenize = tokenNestedComment(1)\n        return state.tokenize(stream, state)\n      }\n    },\n    modeProps: {closeBrackets: {pairs: '()[]{}\"\"', triples: '\"'}}\n  });\n\n  function tokenKotlinString(tripleString){\n    return function (stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!tripleString && !escaped && stream.match('\"') ) {end = true; break;}\n        if (tripleString && stream.match('\"\"\"')) {end = true; break;}\n        next = stream.next();\n        if(!escaped && next == \"$\" && stream.match('{'))\n          stream.skipTo(\"}\");\n        escaped = !escaped && next == \"\\\\\" && !tripleString;\n      }\n      if (end || !tripleString)\n        state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text/x-kotlin\", {\n    name: \"clike\",\n    keywords: words(\n      /*keywords*/\n      \"package as typealias class interface this super val operator \" +\n      \"var fun for is in This throw return annotation \" +\n      \"break continue object if else while do try when !in !is as? \" +\n\n      /*soft keywords*/\n      \"file import where by get set abstract enum open inner override private public internal \" +\n      \"protected catch finally out final vararg reified dynamic companion constructor init \" +\n      \"sealed field property receiver param sparam lateinit data inline noinline tailrec \" +\n      \"external annotation crossinline const operator infix suspend actual expect setparam value\"\n    ),\n    types: words(\n      /* package java.lang */\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray \" +\n      \"ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy \" +\n      \"LazyThreadSafetyMode LongArray Nothing ShortArray Unit\"\n    ),\n    intendSwitch: false,\n    indentStatements: false,\n    multiLineStrings: true,\n    number: /^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+(\\.\\d+)?|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,\n    blockKeywords: words(\"catch class do else finally for if where try while enum\"),\n    defKeywords: words(\"class val var object interface fun\"),\n    atoms: words(\"true false null this\"),\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '*': function(_stream, state) {\n        return state.prevToken == '.' ? 'variable' : 'operator';\n      },\n      '\"': function(stream, state) {\n        state.tokenize = tokenKotlinString(stream.match('\"\"'));\n        return state.tokenize(stream, state);\n      },\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenNestedComment(1);\n        return state.tokenize(stream, state)\n      },\n      indent: function(state, ctx, textAfter, indentUnit) {\n        var firstChar = textAfter && textAfter.charAt(0);\n        if ((state.prevToken == \"}\" || state.prevToken == \")\") && textAfter == \"\")\n          return state.indented;\n        if ((state.prevToken == \"operator\" && textAfter != \"}\" && state.context.type != \"}\") ||\n          state.prevToken == \"variable\" && firstChar == \".\" ||\n          (state.prevToken == \"}\" || state.prevToken == \")\") && firstChar == \".\")\n          return indentUnit * 2 + ctx.indented;\n        if (ctx.align && ctx.type == \"}\")\n          return ctx.indented + (state.context.type == (textAfter || \"\").charAt(0) ? 0 : indentUnit);\n      }\n    },\n    modeProps: {closeBrackets: {triples: '\"'}}\n  });\n\n  def([\"x-shader/x-vertex\", \"x-shader/x-fragment\"], {\n    name: \"clike\",\n    keywords: words(\"sampler1D sampler2D sampler3D samplerCube \" +\n                    \"sampler1DShadow sampler2DShadow \" +\n                    \"const attribute uniform varying \" +\n                    \"break continue discard return \" +\n                    \"for while do if else struct \" +\n                    \"in out inout\"),\n    types: words(\"float int bool void \" +\n                 \"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 \" +\n                 \"mat2 mat3 mat4\"),\n    blockKeywords: words(\"for while do if else struct\"),\n    builtin: words(\"radians degrees sin cos tan asin acos atan \" +\n                    \"pow exp log exp2 sqrt inversesqrt \" +\n                    \"abs sign floor ceil fract mod min max clamp mix step smoothstep \" +\n                    \"length distance dot cross normalize ftransform faceforward \" +\n                    \"reflect refract matrixCompMult \" +\n                    \"lessThan lessThanEqual greaterThan greaterThanEqual \" +\n                    \"equal notEqual any all not \" +\n                    \"texture1D texture1DProj texture1DLod texture1DProjLod \" +\n                    \"texture2D texture2DProj texture2DLod texture2DProjLod \" +\n                    \"texture3D texture3DProj texture3DLod texture3DProjLod \" +\n                    \"textureCube textureCubeLod \" +\n                    \"shadow1D shadow2D shadow1DProj shadow2DProj \" +\n                    \"shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod \" +\n                    \"dFdx dFdy fwidth \" +\n                    \"noise1 noise2 noise3 noise4\"),\n    atoms: words(\"true false \" +\n                \"gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex \" +\n                \"gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 \" +\n                \"gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 \" +\n                \"gl_FogCoord gl_PointCoord \" +\n                \"gl_Position gl_PointSize gl_ClipVertex \" +\n                \"gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor \" +\n                \"gl_TexCoord gl_FogFragCoord \" +\n                \"gl_FragCoord gl_FrontFacing \" +\n                \"gl_FragData gl_FragDepth \" +\n                \"gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix \" +\n                \"gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse \" +\n                \"gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse \" +\n                \"gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose \" +\n                \"gl_ProjectionMatrixInverseTranspose \" +\n                \"gl_ModelViewProjectionMatrixInverseTranspose \" +\n                \"gl_TextureMatrixInverseTranspose \" +\n                \"gl_NormalScale gl_DepthRange gl_ClipPlane \" +\n                \"gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel \" +\n                \"gl_FrontLightModelProduct gl_BackLightModelProduct \" +\n                \"gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ \" +\n                \"gl_FogParameters \" +\n                \"gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords \" +\n                \"gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats \" +\n                \"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits \" +\n                \"gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits \" +\n                \"gl_MaxDrawBuffers\"),\n    indentSwitch: false,\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-nesc\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" as atomic async call command component components configuration event generic \" +\n                    \"implementation includes interface module new norace nx_struct nx_union post provides \" +\n                    \"signal task uses abstract extends\"),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords),\n    atoms: words(\"null true false\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-objectivec\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + objCKeywords),\n    types: objCTypes,\n    builtin: words(objCBuiltins),\n    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized\"),\n    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class\"),\n    dontIndentStatements: /^@.*$/,\n    typeFirstDefinitions: true,\n    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n    },\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-objectivec++\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + objCKeywords + \" \" + cppKeywords),\n    types: objCTypes,\n    builtin: words(objCBuiltins),\n    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch\"),\n    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class class namespace\"),\n    dontIndentStatements: /^@.*$|^template$/,\n    typeFirstDefinitions: true,\n    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-squirrel\", {\n    name: \"clike\",\n    keywords: words(\"base break clone continue const default delete enum extends function in class\" +\n                    \" foreach local resume return this throw typeof yield constructor instanceof static\"),\n    types: cTypes,\n    blockKeywords: words(\"case catch class else for foreach if switch try while\"),\n    defKeywords: words(\"function local class\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  // Ceylon Strings need to deal with interpolation\n  var stringTokenizer = null;\n  function tokenCeylonString(type) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!escaped && stream.match('\"') &&\n              (type == \"single\" || stream.match('\"\"'))) {\n          end = true;\n          break;\n        }\n        if (!escaped && stream.match('``')) {\n          stringTokenizer = tokenCeylonString(type);\n          end = true;\n          break;\n        }\n        next = stream.next();\n        escaped = type == \"single\" && !escaped && next == \"\\\\\";\n      }\n      if (end)\n          state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text/x-ceylon\", {\n    name: \"clike\",\n    keywords: words(\"abstracts alias assembly assert assign break case catch class continue dynamic else\" +\n                    \" exists extends finally for function given if import in interface is let module new\" +\n                    \" nonempty object of out outer package return satisfies super switch then this throw\" +\n                    \" try value void while\"),\n    types: function(word) {\n        // In Ceylon all identifiers that start with an uppercase are types\n        var first = word.charAt(0);\n        return (first === first.toUpperCase() && first !== first.toLowerCase());\n    },\n    blockKeywords: words(\"case catch class dynamic else finally for function if interface module new object switch try while\"),\n    defKeywords: words(\"class dynamic function interface module object package value\"),\n    builtin: words(\"abstract actual aliased annotation by default deprecated doc final formal late license\" +\n                   \" native optional sealed see serializable shared suppressWarnings tagged throws variable\"),\n    isPunctuationChar: /[\\[\\]{}\\(\\),;\\:\\.`]/,\n    isOperatorChar: /[+\\-*&%=<>!?|^~:\\/]/,\n    numberStart: /[\\d#$]/,\n    number: /^(?:#[\\da-fA-F_]+|\\$[01_]+|[\\d_]+[kMGTPmunpf]?|[\\d_]+\\.[\\d_]+(?:[eE][-+]?\\d+|[kMGTPmunpf]|)|)/i,\n    multiLineStrings: true,\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null larger smaller equal empty finished\"),\n    indentSwitch: false,\n    styleDefs: false,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n          state.tokenize = tokenCeylonString(stream.match('\"\"') ? \"triple\" : \"single\");\n          return state.tokenize(stream, state);\n        },\n      '`': function(stream, state) {\n          if (!stringTokenizer || !stream.match('`')) return false;\n          state.tokenize = stringTokenizer;\n          stringTokenizer = null;\n          return state.tokenize(stream, state);\n        },\n      \"'\": function(stream) {\n        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n        return \"atom\";\n      },\n      token: function(_stream, state, style) {\n          if ((style == \"variable\" || style == \"type\") &&\n              state.prevToken == \".\") {\n            return \"variable-2\";\n          }\n        }\n    },\n    modeProps: {\n        fold: [\"brace\", \"import\"],\n        closeBrackets: {triples: '\"'}\n    }\n  });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// This is CodeMirror (https://codemirror.net/5), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\/(\\d+)/.exec(userAgent);\n  var chrome_version = chrome && +chrome[1];\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt(rootNode) {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var doc = rootNode.ownerDocument || rootNode;\n    var activeElement;\n    try {\n      activeElement = rootNode.activeElement;\n    } catch(e) {\n      activeElement = doc.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function doc(cm) { return cm.display.wrapper.ownerDocument }\n\n  function root(cm) {\n    return rootNode(cm.display.wrapper)\n  }\n\n  function rootNode(element) {\n    // Detect modern browsers (2017+).\n    return element.getRootNode ? element.getRootNode() : element.ownerDocument\n  }\n\n  function win(cm) { return doc(cm).defaultView }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n\n  // Add a span to a line.\n  function addMarkedSpan(line, span, op) {\n    var inThisOp = op && window.WeakSet && (op.markedSpans || (op.markedSpans = new WeakSet));\n    if (inThisOp && line.markedSpans && inThisOp.has(line.markedSpans)) {\n      line.markedSpans.push(span);\n    } else {\n      line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n      if (inThisOp) { inThisOp.add(line.markedSpans); }\n    }\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      gutterWrap.setAttribute(\"aria-hidden\", \"true\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    if (lineView.rest) {\n      for (var i = 0; i < lineView.rest.length; i++)\n        { if (lineView.rest[i] == line)\n          { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n      for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n        { if (lineNo(lineView.rest[i$1]) > lineN)\n          { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n    }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX(doc) {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(doc.body.getBoundingClientRect().left - parseInt(getComputedStyle(doc.body).marginLeft)) }\n    return doc.defaultView.pageXOffset || (doc.documentElement || doc.body).scrollLeft\n  }\n  function pageScrollY(doc) {\n    if (chrome && android) { return -(doc.body.getBoundingClientRect().top - parseInt(getComputedStyle(doc.body).marginTop)) }\n    return doc.defaultView.pageYOffset || (doc.documentElement || doc.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var ref = visualLine(lineObj);\n    var widgets = ref.widgets;\n    var height = 0;\n    if (widgets) { for (var i = 0; i < widgets.length; ++i) { if (widgets[i].above)\n      { height += widgetHeight(widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY(doc(cm)));\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX(doc(cm)));\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX(doc(cm));\n      top -= pageScrollY(doc(cm));\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    var customCursor = cm.options.$customCursor;\n    if (customCursor) { primary = true; }\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (customCursor) {\n        var head = customCursor(cm, range);\n        if (head) { drawSelectionCursor(cm, head, curFragment); }\n      } else if (collapsed || cm.options.showCursorWhenSelecting) {\n        drawSelectionCursor(cm, range.head, curFragment);\n      }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (/\\bcm-fat-cursor\\b/.test(cm.getWrapperElement().className)) {\n      var charPos = charCoords(cm, head, \"div\", null, null);\n      var width = charPos.right - charPos.left;\n      cursor.style.width = (width > 0 ? width : cm.defaultCharWidth()) + \"px\";\n    }\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    var viewTop = Math.max(0, display.scroller.getBoundingClientRect().top);\n    var oldHeight = display.lineDiv.getBoundingClientRect().top;\n    var mustScroll = 0;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      oldHeight += cur.line.height;\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        if (oldHeight < viewTop) { mustScroll -= diff; }\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n    if (Math.abs(mustScroll) > 2) { display.scroller.scrollTop += mustScroll; }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    var doc = display.wrapper.ownerDocument;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (doc.defaultView.innerHeight || doc.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.scrollTop = 0;\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.visibility = this.vert.style.visibility = \"hidden\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.visibility = \"\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.visibility = \"hidden\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId,          // Unique ID\n      markArrays: null         // Used by addMarkedSpan\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt(root(cm));\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt(root(cm));\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = win(cm).getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt(rootNode(snapshot.activeElt))) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var doc = snapshot.activeElt.ownerDocument;\n      var sel = doc.defaultView.getSelection(), range = doc.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n    // Send an event to consumers responding to changes in gutter width.\n    signalLater(display, \"gutterChanged\", display);\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n    // See #6982. FIXME remove when this has been fixed for a while in Chrome\n    if (chrome && chrome_version >= 105) { d.wrapper.style.clipPath = \"inset(0px)\"; }\n\n    // This attribute is respected by automatic translation systems such as Google Translate,\n    // and may also be respected by tools used by human translators.\n    d.wrapper.setAttribute('translate', 'no');\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    // On Chrome 102, viewport updates somehow stop wheel-based\n    // scrolling. Turning off pointer events during the scroll seems\n    // to avoid the issue.\n    if (chrome && chrome_version == 102) {\n      if (cm.display.chromeScrollHack == null) { cm.display.sizer.style.pointerEvents = \"none\"; }\n      else { clearTimeout(cm.display.chromeScrollHack); }\n      cm.display.chromeScrollHack = setTimeout(function () {\n        cm.display.chromeScrollHack = null;\n        cm.display.sizer.style.pointerEvents = \"\";\n      }, 100);\n    }\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n    var pixelsPerUnit = wheelPixelsPerUnit;\n    if (e.deltaMode === 0) {\n      dx = e.deltaX;\n      dy = e.deltaY;\n      pixelsPerUnit = 1;\n    }\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && pixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * pixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * pixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && pixelsPerUnit != null) {\n      var pixels = dy * pixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20 && e.deltaMode !== 0) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    cm.options.direction = doc.direction;\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = range.head == range.anchor ? newAnchor : skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null), doc.cm && doc.cm.curOp);\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      if (lineSep === '') { return lines.join('') }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\", \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\", \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt(root(cm));\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    win(cm).focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(root(cm)); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt(root(cm));\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput && cm.hasFocus())\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"on\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"on\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){win(this).focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt(root(this)) },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, win(cm).innerHeight || doc(cm).documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      disableBrowserMagic(te);\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = activeElt(rootNode(div));\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = activeElt(rootNode(this.div)) == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || activeElt(rootNode(this.div)) != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n      var this$1 = this;\n\n    var input = this;\n    if (this.selectionInEditor())\n      { setTimeout(function () { return this$1.pollSelection(); }, 20); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n    this.resetting = false;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n    var opts = this.cm.options;\n    disableBrowserMagic(this.textarea, opts.spellcheck, opts.autocorrect, opts.autocapitalize);\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing && typing) { return }\n    var cm = this.cm;\n    this.resetting = true;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n    this.resetting = false;\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt(rootNode(this.textarea)) != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || this.resetting || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = te.ownerDocument.defaultView.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { te.ownerDocument.defaultView.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt(rootNode(textarea));\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.65.17\";\n\n  return CodeMirror;\n\n})));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../scroll/annotatescrollbar\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./searchcursor\", \"../scroll/annotatescrollbar\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineExtension(\"showMatchesOnScrollbar\", function(query, caseFold, options) {\n    if (typeof options == \"string\") options = {className: options};\n    if (!options) options = {};\n    return new SearchAnnotation(this, query, caseFold, options);\n  });\n\n  function SearchAnnotation(cm, query, caseFold, options) {\n    this.cm = cm;\n    this.options = options;\n    var annotateOptions = {listenForChanges: false};\n    for (var prop in options) annotateOptions[prop] = options[prop];\n    if (!annotateOptions.className) annotateOptions.className = \"CodeMirror-search-match\";\n    this.annotation = cm.annotateScrollbar(annotateOptions);\n    this.query = query;\n    this.caseFold = caseFold;\n    this.gap = {from: cm.firstLine(), to: cm.lastLine() + 1};\n    this.matches = [];\n    this.update = null;\n\n    this.findMatches();\n    this.annotation.update(this.matches);\n\n    var self = this;\n    cm.on(\"change\", this.changeHandler = function(_cm, change) { self.onChange(change); });\n  }\n\n  var MAX_MATCHES = 1000;\n\n  SearchAnnotation.prototype.findMatches = function() {\n    if (!this.gap) return;\n    for (var i = 0; i < this.matches.length; i++) {\n      var match = this.matches[i];\n      if (match.from.line >= this.gap.to) break;\n      if (match.to.line >= this.gap.from) this.matches.splice(i--, 1);\n    }\n    var cursor = this.cm.getSearchCursor(this.query, CodeMirror.Pos(this.gap.from, 0), {caseFold: this.caseFold, multiline: this.options.multiline});\n    var maxMatches = this.options && this.options.maxMatches || MAX_MATCHES;\n    while (cursor.findNext()) {\n      var match = {from: cursor.from(), to: cursor.to()};\n      if (match.from.line >= this.gap.to) break;\n      this.matches.splice(i++, 0, match);\n      if (this.matches.length > maxMatches) break;\n    }\n    this.gap = null;\n  };\n\n  function offsetLine(line, changeStart, sizeChange) {\n    if (line <= changeStart) return line;\n    return Math.max(changeStart, line + sizeChange);\n  }\n\n  SearchAnnotation.prototype.onChange = function(change) {\n    var startLine = change.from.line;\n    var endLine = CodeMirror.changeEnd(change).line;\n    var sizeChange = endLine - change.to.line;\n    if (this.gap) {\n      this.gap.from = Math.min(offsetLine(this.gap.from, startLine, sizeChange), change.from.line);\n      this.gap.to = Math.max(offsetLine(this.gap.to, startLine, sizeChange), change.from.line);\n    } else {\n      this.gap = {from: change.from.line, to: endLine + 1};\n    }\n\n    if (sizeChange) for (var i = 0; i < this.matches.length; i++) {\n      var match = this.matches[i];\n      var newFrom = offsetLine(match.from.line, startLine, sizeChange);\n      if (newFrom != match.from.line) match.from = CodeMirror.Pos(newFrom, match.from.ch);\n      var newTo = offsetLine(match.to.line, startLine, sizeChange);\n      if (newTo != match.to.line) match.to = CodeMirror.Pos(newTo, match.to.ch);\n    }\n    clearTimeout(this.update);\n    var self = this;\n    this.update = setTimeout(function() { self.updateAfterChange(); }, 250);\n  };\n\n  SearchAnnotation.prototype.updateAfterChange = function() {\n    this.findMatches();\n    this.annotation.update(this.matches);\n  };\n\n  SearchAnnotation.prototype.clear = function() {\n    this.cm.off(\"change\", this.changeHandler);\n    this.annotation.clear();\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var noOptions = {};\n  var nonWS = /[^\\s\\u00a0]/;\n  var Pos = CodeMirror.Pos, cmp = CodeMirror.cmpPos;\n\n  function firstNonWS(str) {\n    var found = str.search(nonWS);\n    return found == -1 ? 0 : found;\n  }\n\n  CodeMirror.commands.toggleComment = function(cm) {\n    cm.toggleComment();\n  };\n\n  CodeMirror.defineExtension(\"toggleComment\", function(options) {\n    if (!options) options = noOptions;\n    var cm = this;\n    var minLine = Infinity, ranges = this.listSelections(), mode = null;\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var from = ranges[i].from(), to = ranges[i].to();\n      if (from.line >= minLine) continue;\n      if (to.line >= minLine) to = Pos(minLine, 0);\n      minLine = from.line;\n      if (mode == null) {\n        if (cm.uncomment(from, to, options)) mode = \"un\";\n        else { cm.lineComment(from, to, options); mode = \"line\"; }\n      } else if (mode == \"un\") {\n        cm.uncomment(from, to, options);\n      } else {\n        cm.lineComment(from, to, options);\n      }\n    }\n  });\n\n  // Rough heuristic to try and detect lines that are part of multi-line string\n  function probablyInsideString(cm, pos, line) {\n    return /\\bstring\\b/.test(cm.getTokenTypeAt(Pos(pos.line, 0))) && !/^[\\'\\\"\\`]/.test(line)\n  }\n\n  function getMode(cm, pos) {\n    var mode = cm.getMode()\n    return mode.useInnerComments === false || !mode.innerMode ? mode : cm.getModeAt(pos)\n  }\n\n  CodeMirror.defineExtension(\"lineComment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var firstLine = self.getLine(from.line);\n    if (firstLine == null || probablyInsideString(self, from, firstLine)) return;\n\n    var commentString = options.lineComment || mode.lineComment;\n    if (!commentString) {\n      if (options.blockCommentStart || mode.blockCommentStart) {\n        options.fullLines = true;\n        self.blockComment(from, to, options);\n      }\n      return;\n    }\n\n    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line + 1 : to.line, self.lastLine() + 1);\n    var pad = options.padding == null ? \" \" : options.padding;\n    var blankLines = options.commentBlankLines || from.line == to.line;\n\n    self.operation(function() {\n      if (options.indent) {\n        var baseString = null;\n        for (var i = from.line; i < end; ++i) {\n          var line = self.getLine(i);\n          var whitespace = line.search(nonWS) === -1 ? line : line.slice(0, firstNonWS(line));\n          if (baseString == null || baseString.length > whitespace.length) {\n            baseString = whitespace;\n          }\n        }\n        for (var i = from.line; i < end; ++i) {\n          var line = self.getLine(i), cut = baseString.length;\n          if (!blankLines && !nonWS.test(line)) continue;\n          if (line.slice(0, cut) != baseString) cut = firstNonWS(line);\n          self.replaceRange(baseString + commentString + pad, Pos(i, 0), Pos(i, cut));\n        }\n      } else {\n        for (var i = from.line; i < end; ++i) {\n          if (blankLines || nonWS.test(self.getLine(i)))\n            self.replaceRange(commentString + pad, Pos(i, 0));\n        }\n      }\n    });\n  });\n\n  CodeMirror.defineExtension(\"blockComment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var startString = options.blockCommentStart || mode.blockCommentStart;\n    var endString = options.blockCommentEnd || mode.blockCommentEnd;\n    if (!startString || !endString) {\n      if ((options.lineComment || mode.lineComment) && options.fullLines != false)\n        self.lineComment(from, to, options);\n      return;\n    }\n    if (/\\bcomment\\b/.test(self.getTokenTypeAt(Pos(from.line, 0)))) return\n\n    var end = Math.min(to.line, self.lastLine());\n    if (end != from.line && to.ch == 0 && nonWS.test(self.getLine(end))) --end;\n\n    var pad = options.padding == null ? \" \" : options.padding;\n    if (from.line > end) return;\n\n    self.operation(function() {\n      if (options.fullLines != false) {\n        var lastLineHasText = nonWS.test(self.getLine(end));\n        self.replaceRange(pad + endString, Pos(end));\n        self.replaceRange(startString + pad, Pos(from.line, 0));\n        var lead = options.blockCommentLead || mode.blockCommentLead;\n        if (lead != null) for (var i = from.line + 1; i <= end; ++i)\n          if (i != end || lastLineHasText)\n            self.replaceRange(lead + pad, Pos(i, 0));\n      } else {\n        var atCursor = cmp(self.getCursor(\"to\"), to) == 0, empty = !self.somethingSelected()\n        self.replaceRange(endString, to);\n        if (atCursor) self.setSelection(empty ? to : self.getCursor(\"from\"), to)\n        self.replaceRange(startString, from);\n      }\n    });\n  });\n\n  CodeMirror.defineExtension(\"uncomment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line : to.line - 1, self.lastLine()), start = Math.min(from.line, end);\n\n    // Try finding line comments\n    var lineString = options.lineComment || mode.lineComment, lines = [];\n    var pad = options.padding == null ? \" \" : options.padding, didSomething;\n    lineComment: {\n      if (!lineString) break lineComment;\n      for (var i = start; i <= end; ++i) {\n        var line = self.getLine(i);\n        var found = line.indexOf(lineString);\n        if (found > -1 && !/comment/.test(self.getTokenTypeAt(Pos(i, found + 1)))) found = -1;\n        if (found == -1 && nonWS.test(line)) break lineComment;\n        if (found > -1 && nonWS.test(line.slice(0, found))) break lineComment;\n        lines.push(line);\n      }\n      self.operation(function() {\n        for (var i = start; i <= end; ++i) {\n          var line = lines[i - start];\n          var pos = line.indexOf(lineString), endPos = pos + lineString.length;\n          if (pos < 0) continue;\n          if (line.slice(endPos, endPos + pad.length) == pad) endPos += pad.length;\n          didSomething = true;\n          self.replaceRange(\"\", Pos(i, pos), Pos(i, endPos));\n        }\n      });\n      if (didSomething) return true;\n    }\n\n    // Try block comments\n    var startString = options.blockCommentStart || mode.blockCommentStart;\n    var endString = options.blockCommentEnd || mode.blockCommentEnd;\n    if (!startString || !endString) return false;\n    var lead = options.blockCommentLead || mode.blockCommentLead;\n    var startLine = self.getLine(start), open = startLine.indexOf(startString)\n    if (open == -1) return false\n    var endLine = end == start ? startLine : self.getLine(end)\n    var close = endLine.indexOf(endString, end == start ? open + startString.length : 0);\n    var insideStart = Pos(start, open + 1), insideEnd = Pos(end, close + 1)\n    if (close == -1 ||\n        !/comment/.test(self.getTokenTypeAt(insideStart)) ||\n        !/comment/.test(self.getTokenTypeAt(insideEnd)) ||\n        self.getRange(insideStart, insideEnd, \"\\n\").indexOf(endString) > -1)\n      return false;\n\n    // Avoid killing block comments completely outside the selection.\n    // Positions of the last startString before the start of the selection, and the first endString after it.\n    var lastStart = startLine.lastIndexOf(startString, from.ch);\n    var firstEnd = lastStart == -1 ? -1 : startLine.slice(0, from.ch).indexOf(endString, lastStart + startString.length);\n    if (lastStart != -1 && firstEnd != -1 && firstEnd + endString.length != from.ch) return false;\n    // Positions of the first endString after the end of the selection, and the last startString before it.\n    firstEnd = endLine.indexOf(endString, to.ch);\n    var almostLastStart = endLine.slice(to.ch).lastIndexOf(startString, firstEnd - to.ch);\n    lastStart = (firstEnd == -1 || almostLastStart == -1) ? -1 : to.ch + almostLastStart;\n    if (firstEnd != -1 && lastStart != -1 && lastStart != to.ch) return false;\n\n    self.operation(function() {\n      self.replaceRange(\"\", Pos(end, close - (pad && endLine.slice(close - pad.length, close) == pad ? pad.length : 0)),\n                        Pos(end, close + endString.length));\n      var openEnd = open + startString.length;\n      if (pad && startLine.slice(openEnd, openEnd + pad.length) == pad) openEnd += pad.length;\n      self.replaceRange(\"\", Pos(start, open), Pos(start, openEnd));\n      if (lead) for (var i = start + 1; i <= end; ++i) {\n        var line = self.getLine(i), found = line.indexOf(lead);\n        if (found == -1 || nonWS.test(line.slice(0, found))) continue;\n        var foundEnd = found + lead.length;\n        if (pad && line.slice(foundEnd, foundEnd + pad.length) == pad) foundEnd += pad.length;\n        self.replaceRange(\"\", Pos(i, found), Pos(i, foundEnd));\n      }\n    });\n    return true;\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"css\", function(config, parserConfig) {\n  var inline = parserConfig.inline\n  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode(\"text/css\");\n\n  var indentUnit = config.indentUnit,\n      tokenHooks = parserConfig.tokenHooks,\n      documentTypes = parserConfig.documentTypes || {},\n      mediaTypes = parserConfig.mediaTypes || {},\n      mediaFeatures = parserConfig.mediaFeatures || {},\n      mediaValueKeywords = parserConfig.mediaValueKeywords || {},\n      propertyKeywords = parserConfig.propertyKeywords || {},\n      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},\n      fontProperties = parserConfig.fontProperties || {},\n      counterDescriptors = parserConfig.counterDescriptors || {},\n      colorKeywords = parserConfig.colorKeywords || {},\n      valueKeywords = parserConfig.valueKeywords || {},\n      allowNested = parserConfig.allowNested,\n      lineComment = parserConfig.lineComment,\n      supportsAtComponent = parserConfig.supportsAtComponent === true,\n      highlightNonStandardPropertyKeywords = config.highlightNonStandardPropertyKeywords !== false;\n\n  var type, override;\n  function ret(style, tp) { type = tp; return style; }\n\n  // Tokenizers\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (tokenHooks[ch]) {\n      var result = tokenHooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == \"@\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"def\", stream.current());\n    } else if (ch == \"=\" || (ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) {\n      return ret(null, \"compare\");\n    } else if (ch == \"\\\"\" || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \"#\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"atom\", \"hash\");\n    } else if (ch == \"!\") {\n      stream.match(/^\\s*\\w*/);\n      return ret(\"keyword\", \"important\");\n    } else if (/\\d/.test(ch) || ch == \".\" && stream.eat(/\\d/)) {\n      stream.eatWhile(/[\\w.%]/);\n      return ret(\"number\", \"unit\");\n    } else if (ch === \"-\") {\n      if (/[\\d.]/.test(stream.peek())) {\n        stream.eatWhile(/[\\w.%]/);\n        return ret(\"number\", \"unit\");\n      } else if (stream.match(/^-[\\w\\\\\\-]*/)) {\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return ret(\"variable-2\", \"variable-definition\");\n        return ret(\"variable-2\", \"variable\");\n      } else if (stream.match(/^\\w+-/)) {\n        return ret(\"meta\", \"meta\");\n      }\n    } else if (/[,+>*\\/]/.test(ch)) {\n      return ret(null, \"select-op\");\n    } else if (ch == \".\" && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {\n      return ret(\"qualifier\", \"qualifier\");\n    } else if (/[:;{}\\[\\]\\(\\)]/.test(ch)) {\n      return ret(null, ch);\n    } else if (stream.match(/^[\\w-.]+(?=\\()/)) {\n      if (/^(url(-prefix)?|domain|regexp)$/i.test(stream.current())) {\n        state.tokenize = tokenParenthesized;\n      }\n      return ret(\"variable callee\", \"variable\");\n    } else if (/[\\w\\\\\\-]/.test(ch)) {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"property\", \"word\");\n    } else {\n      return ret(null, null);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          if (quote == \")\") stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenParenthesized(stream, state) {\n    stream.next(); // Must be '('\n    if (!stream.match(/^\\s*[\\\"\\')]/, false))\n      state.tokenize = tokenString(\")\");\n    else\n      state.tokenize = null;\n    return ret(null, \"(\");\n  }\n\n  // Context management\n\n  function Context(type, indent, prev) {\n    this.type = type;\n    this.indent = indent;\n    this.prev = prev;\n  }\n\n  function pushContext(state, stream, type, indent) {\n    state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);\n    return type;\n  }\n\n  function popContext(state) {\n    if (state.context.prev)\n      state.context = state.context.prev;\n    return state.context.type;\n  }\n\n  function pass(type, stream, state) {\n    return states[state.context.type](type, stream, state);\n  }\n  function popAndPass(type, stream, state, n) {\n    for (var i = n || 1; i > 0; i--)\n      state.context = state.context.prev;\n    return pass(type, stream, state);\n  }\n\n  // Parser\n\n  function wordAsValue(stream) {\n    var word = stream.current().toLowerCase();\n    if (valueKeywords.hasOwnProperty(word))\n      override = \"atom\";\n    else if (colorKeywords.hasOwnProperty(word))\n      override = \"keyword\";\n    else\n      override = \"variable\";\n  }\n\n  var states = {};\n\n  states.top = function(type, stream, state) {\n    if (type == \"{\") {\n      return pushContext(state, stream, \"block\");\n    } else if (type == \"}\" && state.context.prev) {\n      return popContext(state);\n    } else if (supportsAtComponent && /@component/i.test(type)) {\n      return pushContext(state, stream, \"atComponentBlock\");\n    } else if (/^@(-moz-)?document$/i.test(type)) {\n      return pushContext(state, stream, \"documentTypes\");\n    } else if (/^@(media|supports|(-moz-)?document|import)$/i.test(type)) {\n      return pushContext(state, stream, \"atBlock\");\n    } else if (/^@(font-face|counter-style)/i.test(type)) {\n      state.stateArg = type;\n      return \"restricted_atBlock_before\";\n    } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type)) {\n      return \"keyframes\";\n    } else if (type && type.charAt(0) == \"@\") {\n      return pushContext(state, stream, \"at\");\n    } else if (type == \"hash\") {\n      override = \"builtin\";\n    } else if (type == \"word\") {\n      override = \"tag\";\n    } else if (type == \"variable-definition\") {\n      return \"maybeprop\";\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    } else if (type == \":\") {\n      return \"pseudo\";\n    } else if (allowNested && type == \"(\") {\n      return pushContext(state, stream, \"parens\");\n    }\n    return state.context.type;\n  };\n\n  states.block = function(type, stream, state) {\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (propertyKeywords.hasOwnProperty(word)) {\n        override = \"property\";\n        return \"maybeprop\";\n      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {\n        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n        return \"maybeprop\";\n      } else if (allowNested) {\n        override = stream.match(/^\\s*:(?:\\s|$)/, false) ? \"property\" : \"tag\";\n        return \"block\";\n      } else {\n        override += \" error\";\n        return \"maybeprop\";\n      }\n    } else if (type == \"meta\") {\n      return \"block\";\n    } else if (!allowNested && (type == \"hash\" || type == \"qualifier\")) {\n      override = \"error\";\n      return \"block\";\n    } else {\n      return states.top(type, stream, state);\n    }\n  };\n\n  states.maybeprop = function(type, stream, state) {\n    if (type == \":\") return pushContext(state, stream, \"prop\");\n    return pass(type, stream, state);\n  };\n\n  states.prop = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" && allowNested) return pushContext(state, stream, \"propBlock\");\n    if (type == \"}\" || type == \"{\") return popAndPass(type, stream, state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\n    if (type == \"hash\" && !/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(stream.current())) {\n      override += \" error\";\n    } else if (type == \"word\") {\n      wordAsValue(stream);\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    }\n    return \"prop\";\n  };\n\n  states.propBlock = function(type, _stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"word\") { override = \"property\"; return \"maybeprop\"; }\n    return state.context.type;\n  };\n\n  states.parens = function(type, stream, state) {\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \")\") return popContext(state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n    if (type == \"word\") wordAsValue(stream);\n    return \"parens\";\n  };\n\n  states.pseudo = function(type, stream, state) {\n    if (type == \"meta\") return \"pseudo\";\n\n    if (type == \"word\") {\n      override = \"variable-3\";\n      return state.context.type;\n    }\n    return pass(type, stream, state);\n  };\n\n  states.documentTypes = function(type, stream, state) {\n    if (type == \"word\" && documentTypes.hasOwnProperty(stream.current())) {\n      override = \"tag\";\n      return state.context.type;\n    } else {\n      return states.atBlock(type, stream, state);\n    }\n  };\n\n  states.atBlock = function(type, stream, state) {\n    if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n    if (type == \"}\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"{\") return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\");\n\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (word == \"only\" || word == \"not\" || word == \"and\" || word == \"or\")\n        override = \"keyword\";\n      else if (mediaTypes.hasOwnProperty(word))\n        override = \"attribute\";\n      else if (mediaFeatures.hasOwnProperty(word))\n        override = \"property\";\n      else if (mediaValueKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else if (propertyKeywords.hasOwnProperty(word))\n        override = \"property\";\n      else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n      else if (valueKeywords.hasOwnProperty(word))\n        override = \"atom\";\n      else if (colorKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else\n        override = \"error\";\n    }\n    return state.context.type;\n  };\n\n  states.atComponentBlock = function(type, stream, state) {\n    if (type == \"}\")\n      return popAndPass(type, stream, state);\n    if (type == \"{\")\n      return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\", false);\n    if (type == \"word\")\n      override = \"error\";\n    return state.context.type;\n  };\n\n  states.atBlock_parens = function(type, stream, state) {\n    if (type == \")\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state, 2);\n    return states.atBlock(type, stream, state);\n  };\n\n  states.restricted_atBlock_before = function(type, stream, state) {\n    if (type == \"{\")\n      return pushContext(state, stream, \"restricted_atBlock\");\n    if (type == \"word\" && state.stateArg == \"@counter-style\") {\n      override = \"variable\";\n      return \"restricted_atBlock_before\";\n    }\n    return pass(type, stream, state);\n  };\n\n  states.restricted_atBlock = function(type, stream, state) {\n    if (type == \"}\") {\n      state.stateArg = null;\n      return popContext(state);\n    }\n    if (type == \"word\") {\n      if ((state.stateArg == \"@font-face\" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||\n          (state.stateArg == \"@counter-style\" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))\n        override = \"error\";\n      else\n        override = \"property\";\n      return \"maybeprop\";\n    }\n    return \"restricted_atBlock\";\n  };\n\n  states.keyframes = function(type, stream, state) {\n    if (type == \"word\") { override = \"variable\"; return \"keyframes\"; }\n    if (type == \"{\") return pushContext(state, stream, \"top\");\n    return pass(type, stream, state);\n  };\n\n  states.at = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"tag\";\n    else if (type == \"hash\") override = \"builtin\";\n    return \"at\";\n  };\n\n  states.interpolation = function(type, stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"{\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"variable\";\n    else if (type != \"variable\" && type != \"(\" && type != \")\") override = \"error\";\n    return \"interpolation\";\n  };\n\n  return {\n    startState: function(base) {\n      return {tokenize: null,\n              state: inline ? \"block\" : \"top\",\n              stateArg: null,\n              context: new Context(inline ? \"block\" : \"top\", base || 0, null)};\n    },\n\n    token: function(stream, state) {\n      if (!state.tokenize && stream.eatSpace()) return null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style && typeof style == \"object\") {\n        type = style[1];\n        style = style[0];\n      }\n      override = style;\n      if (type != \"comment\")\n        state.state = states[state.state](type, stream, state);\n      return override;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context, ch = textAfter && textAfter.charAt(0);\n      var indent = cx.indent;\n      if (cx.type == \"prop\" && (ch == \"}\" || ch == \")\")) cx = cx.prev;\n      if (cx.prev) {\n        if (ch == \"}\" && (cx.type == \"block\" || cx.type == \"top\" ||\n                          cx.type == \"interpolation\" || cx.type == \"restricted_atBlock\")) {\n          // Resume indentation from parent context.\n          cx = cx.prev;\n          indent = cx.indent;\n        } else if (ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n            ch == \"{\" && (cx.type == \"at\" || cx.type == \"atBlock\")) {\n          // Dedent relative to current context.\n          indent = Math.max(0, cx.indent - indentUnit);\n        }\n      }\n      return indent;\n    },\n\n    electricChars: \"}\",\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: lineComment,\n    fold: \"brace\"\n  };\n});\n\n  function keySet(array) {\n    var keys = {};\n    for (var i = 0; i < array.length; ++i) {\n      keys[array[i].toLowerCase()] = true;\n    }\n    return keys;\n  }\n\n  var documentTypes_ = [\n    \"domain\", \"regexp\", \"url\", \"url-prefix\"\n  ], documentTypes = keySet(documentTypes_);\n\n  var mediaTypes_ = [\n    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\n    \"tty\", \"tv\", \"embossed\"\n  ], mediaTypes = keySet(mediaTypes_);\n\n  var mediaFeatures_ = [\n    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\n    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\n    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\n    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\n    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\n    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\n    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\n    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\", \"orientation\",\n    \"device-pixel-ratio\", \"min-device-pixel-ratio\", \"max-device-pixel-ratio\",\n    \"pointer\", \"any-pointer\", \"hover\", \"any-hover\", \"prefers-color-scheme\",\n    \"dynamic-range\", \"video-dynamic-range\"\n  ], mediaFeatures = keySet(mediaFeatures_);\n\n  var mediaValueKeywords_ = [\n    \"landscape\", \"portrait\", \"none\", \"coarse\", \"fine\", \"on-demand\", \"hover\",\n    \"interlace\", \"progressive\",\n    \"dark\", \"light\",\n    \"standard\", \"high\"\n  ], mediaValueKeywords = keySet(mediaValueKeywords_);\n\n  var propertyKeywords_ = [\n    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\n    \"alignment-baseline\", \"all\", \"anchor-point\", \"animation\", \"animation-delay\",\n    \"animation-direction\", \"animation-duration\", \"animation-fill-mode\",\n    \"animation-iteration-count\", \"animation-name\", \"animation-play-state\",\n    \"animation-timing-function\", \"appearance\", \"azimuth\", \"backdrop-filter\",\n    \"backface-visibility\", \"background\", \"background-attachment\",\n    \"background-blend-mode\", \"background-clip\", \"background-color\",\n    \"background-image\", \"background-origin\", \"background-position\",\n    \"background-position-x\", \"background-position-y\", \"background-repeat\",\n    \"background-size\", \"baseline-shift\", \"binding\", \"bleed\", \"block-size\",\n    \"bookmark-label\", \"bookmark-level\", \"bookmark-state\", \"bookmark-target\",\n    \"border\", \"border-bottom\", \"border-bottom-color\", \"border-bottom-left-radius\",\n    \"border-bottom-right-radius\", \"border-bottom-style\", \"border-bottom-width\",\n    \"border-collapse\", \"border-color\", \"border-image\", \"border-image-outset\",\n    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\n    \"border-image-width\", \"border-left\", \"border-left-color\", \"border-left-style\",\n    \"border-left-width\", \"border-radius\", \"border-right\", \"border-right-color\",\n    \"border-right-style\", \"border-right-width\", \"border-spacing\", \"border-style\",\n    \"border-top\", \"border-top-color\", \"border-top-left-radius\",\n    \"border-top-right-radius\", \"border-top-style\", \"border-top-width\",\n    \"border-width\", \"bottom\", \"box-decoration-break\", \"box-shadow\", \"box-sizing\",\n    \"break-after\", \"break-before\", \"break-inside\", \"caption-side\", \"caret-color\",\n    \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\", \"column-fill\",\n    \"column-gap\", \"column-rule\", \"column-rule-color\", \"column-rule-style\",\n    \"column-rule-width\", \"column-span\", \"column-width\", \"columns\", \"contain\",\n    \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\", \"cue-after\",\n    \"cue-before\", \"cursor\", \"direction\", \"display\", \"dominant-baseline\",\n    \"drop-initial-after-adjust\", \"drop-initial-after-align\",\n    \"drop-initial-before-adjust\", \"drop-initial-before-align\", \"drop-initial-size\",\n    \"drop-initial-value\", \"elevation\", \"empty-cells\", \"fit\", \"fit-content\", \"fit-position\",\n    \"flex\", \"flex-basis\", \"flex-direction\", \"flex-flow\", \"flex-grow\",\n    \"flex-shrink\", \"flex-wrap\", \"float\", \"float-offset\", \"flow-from\", \"flow-into\",\n    \"font\", \"font-family\", \"font-feature-settings\", \"font-kerning\",\n    \"font-language-override\", \"font-optical-sizing\", \"font-size\",\n    \"font-size-adjust\", \"font-stretch\", \"font-style\", \"font-synthesis\",\n    \"font-variant\", \"font-variant-alternates\", \"font-variant-caps\",\n    \"font-variant-east-asian\", \"font-variant-ligatures\", \"font-variant-numeric\",\n    \"font-variant-position\", \"font-variation-settings\", \"font-weight\", \"gap\",\n    \"grid\", \"grid-area\", \"grid-auto-columns\", \"grid-auto-flow\", \"grid-auto-rows\",\n    \"grid-column\", \"grid-column-end\", \"grid-column-gap\", \"grid-column-start\",\n    \"grid-gap\", \"grid-row\", \"grid-row-end\", \"grid-row-gap\", \"grid-row-start\",\n    \"grid-template\", \"grid-template-areas\", \"grid-template-columns\",\n    \"grid-template-rows\", \"hanging-punctuation\", \"height\", \"hyphens\", \"icon\",\n    \"image-orientation\", \"image-rendering\", \"image-resolution\", \"inline-box-align\",\n    \"inset\", \"inset-block\", \"inset-block-end\", \"inset-block-start\", \"inset-inline\",\n    \"inset-inline-end\", \"inset-inline-start\", \"isolation\", \"justify-content\",\n    \"justify-items\", \"justify-self\", \"left\", \"letter-spacing\", \"line-break\",\n    \"line-height\", \"line-height-step\", \"line-stacking\", \"line-stacking-ruby\",\n    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\n    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\n    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\", \"marks\",\n    \"marquee-direction\", \"marquee-loop\", \"marquee-play-count\", \"marquee-speed\",\n    \"marquee-style\", \"mask-clip\", \"mask-composite\", \"mask-image\", \"mask-mode\",\n    \"mask-origin\", \"mask-position\", \"mask-repeat\", \"mask-size\",\"mask-type\",\n    \"max-block-size\", \"max-height\", \"max-inline-size\",\n    \"max-width\", \"min-block-size\", \"min-height\", \"min-inline-size\", \"min-width\",\n    \"mix-blend-mode\", \"move-to\", \"nav-down\", \"nav-index\", \"nav-left\", \"nav-right\",\n    \"nav-up\", \"object-fit\", \"object-position\", \"offset\", \"offset-anchor\",\n    \"offset-distance\", \"offset-path\", \"offset-position\", \"offset-rotate\",\n    \"opacity\", \"order\", \"orphans\", \"outline\", \"outline-color\", \"outline-offset\",\n    \"outline-style\", \"outline-width\", \"overflow\", \"overflow-style\",\n    \"overflow-wrap\", \"overflow-x\", \"overflow-y\", \"padding\", \"padding-bottom\",\n    \"padding-left\", \"padding-right\", \"padding-top\", \"page\", \"page-break-after\",\n    \"page-break-before\", \"page-break-inside\", \"page-policy\", \"pause\",\n    \"pause-after\", \"pause-before\", \"perspective\", \"perspective-origin\", \"pitch\",\n    \"pitch-range\", \"place-content\", \"place-items\", \"place-self\", \"play-during\",\n    \"position\", \"presentation-level\", \"punctuation-trim\", \"quotes\",\n    \"region-break-after\", \"region-break-before\", \"region-break-inside\",\n    \"region-fragment\", \"rendering-intent\", \"resize\", \"rest\", \"rest-after\",\n    \"rest-before\", \"richness\", \"right\", \"rotate\", \"rotation\", \"rotation-point\",\n    \"row-gap\", \"ruby-align\", \"ruby-overhang\", \"ruby-position\", \"ruby-span\",\n    \"scale\", \"scroll-behavior\", \"scroll-margin\", \"scroll-margin-block\",\n    \"scroll-margin-block-end\", \"scroll-margin-block-start\", \"scroll-margin-bottom\",\n    \"scroll-margin-inline\", \"scroll-margin-inline-end\",\n    \"scroll-margin-inline-start\", \"scroll-margin-left\", \"scroll-margin-right\",\n    \"scroll-margin-top\", \"scroll-padding\", \"scroll-padding-block\",\n    \"scroll-padding-block-end\", \"scroll-padding-block-start\",\n    \"scroll-padding-bottom\", \"scroll-padding-inline\", \"scroll-padding-inline-end\",\n    \"scroll-padding-inline-start\", \"scroll-padding-left\", \"scroll-padding-right\",\n    \"scroll-padding-top\", \"scroll-snap-align\", \"scroll-snap-type\",\n    \"shape-image-threshold\", \"shape-inside\", \"shape-margin\", \"shape-outside\",\n    \"size\", \"speak\", \"speak-as\", \"speak-header\", \"speak-numeral\",\n    \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\", \"tab-size\",\n    \"table-layout\", \"target\", \"target-name\", \"target-new\", \"target-position\",\n    \"text-align\", \"text-align-last\", \"text-combine-upright\", \"text-decoration\",\n    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\n    \"text-decoration-skip-ink\", \"text-decoration-style\", \"text-emphasis\",\n    \"text-emphasis-color\", \"text-emphasis-position\", \"text-emphasis-style\",\n    \"text-height\", \"text-indent\", \"text-justify\", \"text-orientation\",\n    \"text-outline\", \"text-overflow\", \"text-rendering\", \"text-shadow\",\n    \"text-size-adjust\", \"text-space-collapse\", \"text-transform\",\n    \"text-underline-position\", \"text-wrap\", \"top\", \"touch-action\", \"transform\", \"transform-origin\",\n    \"transform-style\", \"transition\", \"transition-delay\", \"transition-duration\",\n    \"transition-property\", \"transition-timing-function\", \"translate\",\n    \"unicode-bidi\", \"user-select\", \"vertical-align\", \"visibility\", \"voice-balance\",\n    \"voice-duration\", \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\",\n    \"voice-stress\", \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\",\n    \"will-change\", \"word-break\", \"word-spacing\", \"word-wrap\", \"writing-mode\", \"z-index\",\n    // SVG-specific\n    \"clip-path\", \"clip-rule\", \"mask\", \"enable-background\", \"filter\", \"flood-color\",\n    \"flood-opacity\", \"lighting-color\", \"stop-color\", \"stop-opacity\", \"pointer-events\",\n    \"color-interpolation\", \"color-interpolation-filters\",\n    \"color-rendering\", \"fill\", \"fill-opacity\", \"fill-rule\", \"image-rendering\",\n    \"marker\", \"marker-end\", \"marker-mid\", \"marker-start\", \"paint-order\", \"shape-rendering\", \"stroke\",\n    \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\",\n    \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"text-rendering\",\n    \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\",\n    \"glyph-orientation-vertical\", \"text-anchor\", \"writing-mode\",\n  ], propertyKeywords = keySet(propertyKeywords_);\n\n  var nonStandardPropertyKeywords_ = [\n    \"accent-color\", \"aspect-ratio\", \"border-block\", \"border-block-color\", \"border-block-end\",\n    \"border-block-end-color\", \"border-block-end-style\", \"border-block-end-width\",\n    \"border-block-start\", \"border-block-start-color\", \"border-block-start-style\",\n    \"border-block-start-width\", \"border-block-style\", \"border-block-width\",\n    \"border-inline\", \"border-inline-color\", \"border-inline-end\",\n    \"border-inline-end-color\", \"border-inline-end-style\",\n    \"border-inline-end-width\", \"border-inline-start\", \"border-inline-start-color\",\n    \"border-inline-start-style\", \"border-inline-start-width\",\n    \"border-inline-style\", \"border-inline-width\", \"content-visibility\", \"margin-block\",\n    \"margin-block-end\", \"margin-block-start\", \"margin-inline\", \"margin-inline-end\",\n    \"margin-inline-start\", \"overflow-anchor\", \"overscroll-behavior\", \"padding-block\", \"padding-block-end\",\n    \"padding-block-start\", \"padding-inline\", \"padding-inline-end\",\n    \"padding-inline-start\", \"scroll-snap-stop\", \"scrollbar-3d-light-color\",\n    \"scrollbar-arrow-color\", \"scrollbar-base-color\", \"scrollbar-dark-shadow-color\",\n    \"scrollbar-face-color\", \"scrollbar-highlight-color\", \"scrollbar-shadow-color\",\n    \"scrollbar-track-color\", \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"shape-inside\", \"zoom\"\n  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);\n\n  var fontProperties_ = [\n    \"font-display\", \"font-family\", \"src\", \"unicode-range\", \"font-variant\",\n     \"font-feature-settings\", \"font-stretch\", \"font-weight\", \"font-style\"\n  ], fontProperties = keySet(fontProperties_);\n\n  var counterDescriptors_ = [\n    \"additive-symbols\", \"fallback\", \"negative\", \"pad\", \"prefix\", \"range\",\n    \"speak-as\", \"suffix\", \"symbols\", \"system\"\n  ], counterDescriptors = keySet(counterDescriptors_);\n\n  var colorKeywords_ = [\n    \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n    \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n    \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n    \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n    \"darkgray\", \"darkgreen\", \"darkgrey\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n    \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n    \"darkslateblue\", \"darkslategray\", \"darkslategrey\", \"darkturquoise\", \"darkviolet\",\n    \"deeppink\", \"deepskyblue\", \"dimgray\", \"dimgrey\", \"dodgerblue\", \"firebrick\",\n    \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n    \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n    \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n    \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n    \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightgrey\", \"lightpink\",\n    \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\", \"lightslategrey\",\n    \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n    \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n    \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n    \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n    \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n    \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n    \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n    \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n    \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n    \"slateblue\", \"slategray\", \"slategrey\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n    \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n    \"whitesmoke\", \"yellow\", \"yellowgreen\"\n  ], colorKeywords = keySet(colorKeywords_);\n\n  var valueKeywords_ = [\n    \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"afar\",\n    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\",\n    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\n    \"arabic-indic\", \"armenian\", \"asterisks\", \"attr\", \"auto\", \"auto-flow\", \"avoid\", \"avoid-column\", \"avoid-page\",\n    \"avoid-region\", \"axis-pan\", \"background\", \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\",\n    \"bengali\", \"blink\", \"block\", \"block-axis\", \"blur\", \"bold\", \"bolder\", \"border\", \"border-box\",\n    \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"brightness\", \"bullets\", \"button\",\n    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"cambodian\",\n    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\n    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-decimal\", \"cjk-earthly-branch\",\n    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\n    \"col-resize\", \"collapse\", \"color\", \"color-burn\", \"color-dodge\", \"column\", \"column-reverse\",\n    \"compact\", \"condensed\", \"conic-gradient\", \"contain\", \"content\", \"contents\",\n    \"content-box\", \"context-menu\", \"continuous\", \"contrast\", \"copy\", \"counter\", \"counters\", \"cover\", \"crop\",\n    \"cross\", \"crosshair\", \"cubic-bezier\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n    \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\",\n    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\", \"difference\",\n    \"disc\", \"discard\", \"disclosure-closed\", \"disclosure-open\", \"document\",\n    \"dot-dash\", \"dot-dot-dash\",\n    \"dotted\", \"double\", \"down\", \"drop-shadow\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\n    \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\n    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\n    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\n    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\n    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\n    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\n    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\", \"ethiopic-halehame-tig\",\n    \"ethiopic-numeric\", \"ew-resize\", \"exclusion\", \"expanded\", \"extends\", \"extra-condensed\",\n    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fill-box\", \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\",\n    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"grayscale\", \"graytext\", \"grid\", \"groove\",\n    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hard-light\", \"hebrew\",\n    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\n    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"hue-rotate\", \"icon\", \"ignore\",\n    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\n    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\n    \"inline-block\", \"inline-flex\", \"inline-grid\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\n    \"italic\", \"japanese-formal\", \"japanese-informal\", \"justify\", \"kannada\",\n    \"katakana\", \"katakana-iroha\", \"keep-all\", \"khmer\",\n    \"korean-hangul-formal\", \"korean-hanja-formal\", \"korean-hanja-informal\",\n    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\",\n    \"line-through\", \"linear\", \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\n    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\n    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\n    \"lower-roman\", \"lowercase\", \"ltr\", \"luminosity\", \"malayalam\", \"manipulation\", \"match\", \"matrix\", \"matrix3d\",\n    \"media-play-button\", \"media-slider\", \"media-sliderthumb\",\n    \"media-volume-slider\", \"media-volume-sliderthumb\", \"medium\",\n    \"menu\", \"menulist\", \"menulist-button\",\n    \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"multiple_mask_images\", \"multiply\", \"myanmar\", \"n-resize\",\n    \"narrower\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\n    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\n    \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"opacity\", \"open-quote\",\n    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\n    \"outside\", \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\",\n    \"painted\", \"page\", \"paused\", \"persian\", \"perspective\", \"pinch-zoom\", \"plus-darker\", \"plus-lighter\",\n    \"pointer\", \"polygon\", \"portrait\", \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\",\n    \"progress\", \"push-button\", \"radial-gradient\", \"radio\", \"read-only\",\n    \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\",\n    \"relative\", \"repeat\", \"repeating-linear-gradient\", \"repeating-radial-gradient\",\n    \"repeating-conic-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n    \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\",\n    \"rotateZ\", \"round\", \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\",\n    \"s-resize\", \"sans-serif\", \"saturate\", \"saturation\", \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\",\n    \"scroll\", \"scrollbar\", \"scroll-position\", \"se-resize\", \"searchfield\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"self-start\", \"self-end\",\n    \"semi-condensed\", \"semi-expanded\", \"separate\", \"sepia\", \"serif\", \"show\", \"sidama\",\n    \"simp-chinese-formal\", \"simp-chinese-informal\", \"single\",\n    \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\n    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"somali\",\n    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"space-around\", \"space-between\", \"space-evenly\", \"spell-out\", \"square\",\n    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\", \"stroke-box\", \"sub\",\n    \"subpixel-antialiased\", \"svg_masks\", \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"system-ui\", \"table\",\n    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\n    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\n    \"tamil\",\n    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\n    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\n    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\n    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\n    \"trad-chinese-formal\", \"trad-chinese-informal\", \"transform\",\n    \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\",\n    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"unidirectional-pan\", \"unset\", \"up\",\n    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\n    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\n    \"var\", \"vertical\", \"vertical-text\", \"view-box\", \"visible\", \"visibleFill\", \"visiblePainted\",\n    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\",\n    \"window\", \"windowframe\", \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\",\n    \"xx-large\", \"xx-small\"\n  ], valueKeywords = keySet(valueKeywords_);\n\n  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_)\n    .concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_)\n    .concat(valueKeywords_);\n  CodeMirror.registerHelper(\"hintWords\", \"css\", allWords);\n\n  function tokenCComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == \"/\") {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return [\"comment\", \"comment\"];\n  }\n\n  CodeMirror.defineMIME(\"text/css\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-scss\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \":\": function(stream) {\n        if (stream.match(/^\\s*\\{/, false))\n          return [null, null]\n        return false;\n      },\n      \"$\": function(stream) {\n        stream.match(/^[\\w-]+/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"#\": function(stream) {\n        if (!stream.eat(\"{\")) return false;\n        return [null, \"interpolation\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"scss\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-less\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \"@\": function(stream) {\n        if (stream.eat(\"{\")) return [null, \"interpolation\"];\n        if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i, false)) return false;\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"&\": function() {\n        return [\"atom\", \"atom\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"less\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-gss\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    supportsAtComponent: true,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\",\n    helperType: \"gss\"\n  });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\", \"<\": \">>\", \">\": \"<<\"};\n\n  function bracketRegex(config) {\n    return config && config.bracketRegex || /[(){}[\\]]/\n  }\n\n  function findMatchingBracket(cm, where, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var afterCursor = config && config.afterCursor\n    if (afterCursor == null)\n      afterCursor = /(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className)\n    var re = bracketRegex(config)\n\n    // A cursor is defined as between two characters, but in in vim command mode\n    // (i.e. not insert mode), the cursor is visually represented as a\n    // highlighted box on top of the 2nd character. Otherwise, we allow matches\n    // from before or after the cursor.\n    var match = (!afterCursor && pos >= 0 && re.test(line.text.charAt(pos)) && matching[line.text.charAt(pos)]) ||\n        re.test(line.text.charAt(pos + 1)) && matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (config && config.strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  // bracketRegex is used to specify which type of bracket to scan\n  // should be a regexp, e.g. /[[\\]]/\n  //\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  //\n  // Returns false when no bracket was found, null when it reached\n  // maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = bracketRegex(config)\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined ||\n                            (cm.getTokenTypeAt(Pos(lineNo, pos + 1)) || \"\") == (style || \"\"))) {\n          var match = matching[ch];\n          if (match && (match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000,\n      highlightNonMatching = config && config.highlightNonMatching;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, config);\n      if (match && (match.match || highlightNonMatching !== false) && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      // Kludge to work around the IE bug from issue #1193, where text\n      // input stops going to the textarea whenever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n      cm.state.matchBrackets.currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  function clearHighlighted(cm) {\n    if (cm.state.matchBrackets && cm.state.matchBrackets.currentlyHighlighted) {\n      cm.state.matchBrackets.currentlyHighlighted();\n      cm.state.matchBrackets.currentlyHighlighted = null;\n    }\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchBrackets);\n      cm.off(\"focus\", doMatchBrackets)\n      cm.off(\"blur\", clearHighlighted)\n      clearHighlighted(cm);\n    }\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n      cm.on(\"focus\", doMatchBrackets)\n      cm.on(\"blur\", clearHighlighted)\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, config, oldConfig){\n    // Backwards-compatibility kludge\n    if (oldConfig || typeof config == \"boolean\") {\n      if (!oldConfig) {\n        config = config ? {strict: true} : null\n      } else {\n        oldConfig.strict = config\n        config = oldConfig\n      }\n    }\n    return findMatchingBracket(this, pos, config)\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction lineIndent(cm, lineNo) {\n  var text = cm.getLine(lineNo)\n  var spaceTo = text.search(/\\S/)\n  if (spaceTo == -1 || /\\bcomment\\b/.test(cm.getTokenTypeAt(CodeMirror.Pos(lineNo, spaceTo + 1))))\n    return -1\n  return CodeMirror.countColumn(text, null, cm.getOption(\"tabSize\"))\n}\n\nCodeMirror.registerHelper(\"fold\", \"indent\", function(cm, start) {\n  var myIndent = lineIndent(cm, start.line)\n  if (myIndent < 0) return\n  var lastLineInFold = null\n\n  // Go through lines until we find a line that definitely doesn't belong in\n  // the block we're folding, or to the end.\n  for (var i = start.line + 1, end = cm.lastLine(); i <= end; ++i) {\n    var indent = lineIndent(cm, i)\n    if (indent == -1) {\n    } else if (indent > myIndent) {\n      // Lines with a greater indent are considered part of the block.\n      lastLineInFold = i;\n    } else {\n      // If this line has non-space, non-comment content, and is\n      // indented less or equal to the start line, it is the start of\n      // another block.\n      break;\n    }\n  }\n  if (lastLineInFold) return {\n    from: CodeMirror.Pos(start.line, cm.getLine(start.line).length),\n    to: CodeMirror.Pos(lastLineInFold, cm.getLine(lastLineInFold).length)\n  };\n});\n\n});\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"codemirror\")):\"function\"==typeof define&&define.amd?define([\"codemirror\"],t):\"object\"==typeof exports?exports.VueCodemirror=t(require(\"codemirror\")):e.VueCodemirror=t(e.codemirror)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"/\",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=window.CodeMirror||o.default;\"function\"!=typeof Object.assign&&Object.defineProperty(Object,\"assign\",{value:function(e,t){if(null==e)throw new TypeError(\"Cannot convert undefined or null to object\");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0}),t.default={name:\"codemirror\",data:function(){return{content:\"\",codemirror:null,cminstance:null}},props:{code:String,value:String,marker:Function,unseenLines:Array,name:{type:String,default:\"codemirror\"},placeholder:{type:String,default:\"\"},merge:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{}}},globalEvents:{type:Array,default:function(){return[]}}},watch:{options:{deep:!0,handler:function(e){for(var t in e)this.cminstance.setOption(t,e[t])}},merge:function(){this.$nextTick(this.switchMerge)},code:function(e){this.handerCodeChange(e)},value:function(e){this.handerCodeChange(e)}},methods:{initialize:function(){var e=this,t=Object.assign({},this.globalOptions,this.options);this.merge?(this.codemirror=i.MergeView(this.$refs.mergeview,t),this.cminstance=this.codemirror.edit):(this.codemirror=i.fromTextArea(this.$refs.textarea,t),this.cminstance=this.codemirror,this.cminstance.setValue(this.code||this.value||this.content)),this.cminstance.on(\"change\",function(t){e.content=t.getValue(),e.$emit&&e.$emit(\"input\",e.content)});var n={};[\"scroll\",\"changes\",\"beforeChange\",\"cursorActivity\",\"keyHandled\",\"inputRead\",\"electricInput\",\"beforeSelectionChange\",\"viewportChange\",\"swapDoc\",\"gutterClick\",\"gutterContextMenu\",\"focus\",\"blur\",\"refresh\",\"optionChange\",\"scrollCursorIntoView\",\"update\"].concat(this.events).concat(this.globalEvents).filter(function(e){return!n[e]&&(n[e]=!0)}).forEach(function(t){e.cminstance.on(t,function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];e.$emit.apply(e,[t].concat(r));var i=t.replace(/([A-Z])/g,\"-$1\").toLowerCase();i!==t&&e.$emit.apply(e,[i].concat(r))})});this.$emit(\"ready\",this.codemirror),this.unseenLineMarkers(),this.refresh()},refresh:function(){var e=this;this.$nextTick(function(){e.cminstance.refresh()})},destroy:function(){var e=this.cminstance.doc.cm.getWrapperElement();e&&e.remove&&e.remove()},handerCodeChange:function(e){if(e!==this.cminstance.getValue()){var t=this.cminstance.getScrollInfo();this.cminstance.setValue(e),this.content=e,this.cminstance.scrollTo(t.left,t.top)}this.unseenLineMarkers()},unseenLineMarkers:function(){var e=this;void 0!==this.unseenLines&&void 0!==this.marker&&this.unseenLines.forEach(function(t){var n=e.cminstance.lineInfo(t);e.cminstance.setGutterMarker(t,\"breakpoints\",n.gutterMarkers?null:e.marker())})},switchMerge:function(){var e=this.cminstance.doc.history,t=this.cminstance.doc.cleanGeneration;this.options.value=this.cminstance.getValue(),this.destroy(),this.initialize(),this.cminstance.doc.history=e,this.cminstance.doc.cleanGeneration=t}},mounted:function(){this.initialize()},beforeDestroy:function(){this.destroy()}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(1),o=n.n(r);for(var i in r)[\"default\",\"default\"].indexOf(i)<0&&function(e){n.d(t,e,function(){return r[e]})}(i);var s=n(5),c=n(4),a=c(o.a,s.a,!1,null,null,null);t.default=a.exports},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.install=t.codemirror=t.CodeMirror=void 0;var o=n(0),i=r(o),s=n(2),c=r(s),a=window.CodeMirror||i.default,u=function(e,t){t&&(t.options&&(c.default.props.globalOptions.default=function(){return t.options}),t.events&&(c.default.props.globalEvents.default=function(){return t.events})),e.component(c.default.name,c.default)},l={CodeMirror:a,codemirror:c.default,install:u};t.default=l,t.CodeMirror=a,t.codemirror=c.default,t.install=u},function(e,t){e.exports=function(e,t,n,r,o,i){var s,c=e=e||{},a=typeof e.default;\"object\"!==a&&\"function\"!==a||(s=e,c=e.default);var u=\"function\"==typeof c?c.options:c;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId=o);var l;if(i?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=l):r&&(l=r),l){var f=u.functional,d=f?u.render:u.beforeCreate;f?(u._injectStyles=l,u.render=function(e,t){return l.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,l):[l]}return{esModule:s,exports:c,options:u}}},function(e,t,n){\"use strict\";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"vue-codemirror\",class:{merge:e.merge}},[e.merge?n(\"div\",{ref:\"mergeview\"}):n(\"textarea\",{ref:\"textarea\",attrs:{name:e.name,placeholder:e.placeholder}})])},o=[],i={render:r,staticRenderFns:o};t.a=i}])});","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// Because sometimes you need to mark the selected *text*.\n//\n// Adds an option 'styleSelectedText' which, when enabled, gives\n// selected text the CSS class given as option value, or\n// \"CodeMirror-selectedtext\" when the value is not a string.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"styleSelectedText\", false, function(cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n    if (val && !prev) {\n      cm.state.markedSelection = [];\n      cm.state.markedSelectionStyle = typeof val == \"string\" ? val : \"CodeMirror-selectedtext\";\n      reset(cm);\n      cm.on(\"cursorActivity\", onCursorActivity);\n      cm.on(\"change\", onChange);\n    } else if (!val && prev) {\n      cm.off(\"cursorActivity\", onCursorActivity);\n      cm.off(\"change\", onChange);\n      clear(cm);\n      cm.state.markedSelection = cm.state.markedSelectionStyle = null;\n    }\n  });\n\n  function onCursorActivity(cm) {\n    if (cm.state.markedSelection)\n      cm.operation(function() { update(cm); });\n  }\n\n  function onChange(cm) {\n    if (cm.state.markedSelection && cm.state.markedSelection.length)\n      cm.operation(function() { clear(cm); });\n  }\n\n  var CHUNK_SIZE = 8;\n  var Pos = CodeMirror.Pos;\n  var cmp = CodeMirror.cmpPos;\n\n  function coverRange(cm, from, to, addAt) {\n    if (cmp(from, to) == 0) return;\n    var array = cm.state.markedSelection;\n    var cls = cm.state.markedSelectionStyle;\n    for (var line = from.line;;) {\n      var start = line == from.line ? from : Pos(line, 0);\n      var endLine = line + CHUNK_SIZE, atEnd = endLine >= to.line;\n      var end = atEnd ? to : Pos(endLine, 0);\n      var mark = cm.markText(start, end, {className: cls});\n      if (addAt == null) array.push(mark);\n      else array.splice(addAt++, 0, mark);\n      if (atEnd) break;\n      line = endLine;\n    }\n  }\n\n  function clear(cm) {\n    var array = cm.state.markedSelection;\n    for (var i = 0; i < array.length; ++i) array[i].clear();\n    array.length = 0;\n  }\n\n  function reset(cm) {\n    clear(cm);\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++)\n      coverRange(cm, ranges[i].from(), ranges[i].to());\n  }\n\n  function update(cm) {\n    if (!cm.somethingSelected()) return clear(cm);\n    if (cm.listSelections().length > 1) return reset(cm);\n\n    var from = cm.getCursor(\"start\"), to = cm.getCursor(\"end\");\n\n    var array = cm.state.markedSelection;\n    if (!array.length) return coverRange(cm, from, to);\n\n    var coverStart = array[0].find(), coverEnd = array[array.length - 1].find();\n    if (!coverStart || !coverEnd || to.line - from.line <= CHUNK_SIZE ||\n        cmp(from, coverEnd.to) >= 0 || cmp(to, coverStart.from) <= 0)\n      return reset(cm);\n\n    while (cmp(from, coverStart.from) > 0) {\n      array.shift().clear();\n      coverStart = array[0].find();\n    }\n    if (cmp(from, coverStart.from) < 0) {\n      if (coverStart.to.line - from.line < CHUNK_SIZE) {\n        array.shift().clear();\n        coverRange(cm, from, coverStart.to, 0);\n      } else {\n        coverRange(cm, from, coverStart.from, 0);\n      }\n    }\n\n    while (cmp(to, coverEnd.to) < 0) {\n      array.pop().clear();\n      coverEnd = array[array.length - 1].find();\n    }\n    if (cmp(to, coverEnd.to) > 0) {\n      if (to.line - coverEnd.from.line < CHUNK_SIZE) {\n        array.pop().clear();\n        coverRange(cm, coverEnd.from, to);\n      } else {\n        coverRange(cm, coverEnd.to, to);\n      }\n    }\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// A rough approximation of Sublime Text's keybindings\n// Depends on addon/search/searchcursor.js and optionally addon/dialog/dialogs.js\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"), require(\"../addon/search/searchcursor\"), require(\"../addon/edit/matchbrackets\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\", \"../addon/search/searchcursor\", \"../addon/edit/matchbrackets\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var cmds = CodeMirror.commands;\n  var Pos = CodeMirror.Pos;\n\n  // This is not exactly Sublime's algorithm. I couldn't make heads or tails of that.\n  function findPosSubword(doc, start, dir) {\n    if (dir < 0 && start.ch == 0) return doc.clipPos(Pos(start.line - 1));\n    var line = doc.getLine(start.line);\n    if (dir > 0 && start.ch >= line.length) return doc.clipPos(Pos(start.line + 1, 0));\n    var state = \"start\", type, startPos = start.ch;\n    for (var pos = startPos, e = dir < 0 ? 0 : line.length, i = 0; pos != e; pos += dir, i++) {\n      var next = line.charAt(dir < 0 ? pos - 1 : pos);\n      var cat = next != \"_\" && CodeMirror.isWordChar(next) ? \"w\" : \"o\";\n      if (cat == \"w\" && next.toUpperCase() == next) cat = \"W\";\n      if (state == \"start\") {\n        if (cat != \"o\") { state = \"in\"; type = cat; }\n        else startPos = pos + dir\n      } else if (state == \"in\") {\n        if (type != cat) {\n          if (type == \"w\" && cat == \"W\" && dir < 0) pos--;\n          if (type == \"W\" && cat == \"w\" && dir > 0) { // From uppercase to lowercase\n            if (pos == startPos + 1) { type = \"w\"; continue; }\n            else pos--;\n          }\n          break;\n        }\n      }\n    }\n    return Pos(start.line, pos);\n  }\n\n  function moveSubword(cm, dir) {\n    cm.extendSelectionsBy(function(range) {\n      if (cm.display.shift || cm.doc.extend || range.empty())\n        return findPosSubword(cm.doc, range.head, dir);\n      else\n        return dir < 0 ? range.from() : range.to();\n    });\n  }\n\n  cmds.goSubwordLeft = function(cm) { moveSubword(cm, -1); };\n  cmds.goSubwordRight = function(cm) { moveSubword(cm, 1); };\n\n  cmds.scrollLineUp = function(cm) {\n    var info = cm.getScrollInfo();\n    if (!cm.somethingSelected()) {\n      var visibleBottomLine = cm.lineAtHeight(info.top + info.clientHeight, \"local\");\n      if (cm.getCursor().line >= visibleBottomLine)\n        cm.execCommand(\"goLineUp\");\n    }\n    cm.scrollTo(null, info.top - cm.defaultTextHeight());\n  };\n  cmds.scrollLineDown = function(cm) {\n    var info = cm.getScrollInfo();\n    if (!cm.somethingSelected()) {\n      var visibleTopLine = cm.lineAtHeight(info.top, \"local\")+1;\n      if (cm.getCursor().line <= visibleTopLine)\n        cm.execCommand(\"goLineDown\");\n    }\n    cm.scrollTo(null, info.top + cm.defaultTextHeight());\n  };\n\n  cmds.splitSelectionByLine = function(cm) {\n    var ranges = cm.listSelections(), lineRanges = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var from = ranges[i].from(), to = ranges[i].to();\n      for (var line = from.line; line <= to.line; ++line)\n        if (!(to.line > from.line && line == to.line && to.ch == 0))\n          lineRanges.push({anchor: line == from.line ? from : Pos(line, 0),\n                           head: line == to.line ? to : Pos(line)});\n    }\n    cm.setSelections(lineRanges, 0);\n  };\n\n  cmds.singleSelectionTop = function(cm) {\n    var range = cm.listSelections()[0];\n    cm.setSelection(range.anchor, range.head, {scroll: false});\n  };\n\n  cmds.selectLine = function(cm) {\n    var ranges = cm.listSelections(), extended = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      extended.push({anchor: Pos(range.from().line, 0),\n                     head: Pos(range.to().line + 1, 0)});\n    }\n    cm.setSelections(extended);\n  };\n\n  function insertLine(cm, above) {\n    if (cm.isReadOnly()) return CodeMirror.Pass\n    cm.operation(function() {\n      var len = cm.listSelections().length, newSelection = [], last = -1;\n      for (var i = 0; i < len; i++) {\n        var head = cm.listSelections()[i].head;\n        if (head.line <= last) continue;\n        var at = Pos(head.line + (above ? 0 : 1), 0);\n        cm.replaceRange(\"\\n\", at, null, \"+insertLine\");\n        cm.indentLine(at.line, null, true);\n        newSelection.push({head: at, anchor: at});\n        last = head.line + 1;\n      }\n      cm.setSelections(newSelection);\n    });\n    cm.execCommand(\"indentAuto\");\n  }\n\n  cmds.insertLineAfter = function(cm) { return insertLine(cm, false); };\n\n  cmds.insertLineBefore = function(cm) { return insertLine(cm, true); };\n\n  function wordAt(cm, pos) {\n    var start = pos.ch, end = start, line = cm.getLine(pos.line);\n    while (start && CodeMirror.isWordChar(line.charAt(start - 1))) --start;\n    while (end < line.length && CodeMirror.isWordChar(line.charAt(end))) ++end;\n    return {from: Pos(pos.line, start), to: Pos(pos.line, end), word: line.slice(start, end)};\n  }\n\n  cmds.selectNextOccurrence = function(cm) {\n    var from = cm.getCursor(\"from\"), to = cm.getCursor(\"to\");\n    var fullWord = cm.state.sublimeFindFullWord == cm.doc.sel;\n    if (CodeMirror.cmpPos(from, to) == 0) {\n      var word = wordAt(cm, from);\n      if (!word.word) return;\n      cm.setSelection(word.from, word.to);\n      fullWord = true;\n    } else {\n      var text = cm.getRange(from, to);\n      var query = fullWord ? new RegExp(\"\\\\b\" + text + \"\\\\b\") : text;\n      var cur = cm.getSearchCursor(query, to);\n      var found = cur.findNext();\n      if (!found) {\n        cur = cm.getSearchCursor(query, Pos(cm.firstLine(), 0));\n        found = cur.findNext();\n      }\n      if (!found || isSelectedRange(cm.listSelections(), cur.from(), cur.to())) return\n      cm.addSelection(cur.from(), cur.to());\n    }\n    if (fullWord)\n      cm.state.sublimeFindFullWord = cm.doc.sel;\n  };\n\n  cmds.skipAndSelectNextOccurrence = function(cm) {\n    var prevAnchor = cm.getCursor(\"anchor\"), prevHead = cm.getCursor(\"head\");\n    cmds.selectNextOccurrence(cm);\n    if (CodeMirror.cmpPos(prevAnchor, prevHead) != 0) {\n      cm.doc.setSelections(cm.doc.listSelections()\n          .filter(function (sel) {\n            return sel.anchor != prevAnchor || sel.head != prevHead;\n          }));\n    }\n  }\n\n  function addCursorToSelection(cm, dir) {\n    var ranges = cm.listSelections(), newRanges = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      var newAnchor = cm.findPosV(\n          range.anchor, dir, \"line\", range.anchor.goalColumn);\n      var newHead = cm.findPosV(\n          range.head, dir, \"line\", range.head.goalColumn);\n      newAnchor.goalColumn = range.anchor.goalColumn != null ?\n          range.anchor.goalColumn : cm.cursorCoords(range.anchor, \"div\").left;\n      newHead.goalColumn = range.head.goalColumn != null ?\n          range.head.goalColumn : cm.cursorCoords(range.head, \"div\").left;\n      var newRange = {anchor: newAnchor, head: newHead};\n      newRanges.push(range);\n      newRanges.push(newRange);\n    }\n    cm.setSelections(newRanges);\n  }\n  cmds.addCursorToPrevLine = function(cm) { addCursorToSelection(cm, -1); };\n  cmds.addCursorToNextLine = function(cm) { addCursorToSelection(cm, 1); };\n\n  function isSelectedRange(ranges, from, to) {\n    for (var i = 0; i < ranges.length; i++)\n      if (CodeMirror.cmpPos(ranges[i].from(), from) == 0 &&\n          CodeMirror.cmpPos(ranges[i].to(), to) == 0) return true\n    return false\n  }\n\n  var mirror = \"(){}[]\";\n  function selectBetweenBrackets(cm) {\n    var ranges = cm.listSelections(), newRanges = []\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], pos = range.head, opening = cm.scanForBracket(pos, -1);\n      if (!opening) return false;\n      for (;;) {\n        var closing = cm.scanForBracket(pos, 1);\n        if (!closing) return false;\n        if (closing.ch == mirror.charAt(mirror.indexOf(opening.ch) + 1)) {\n          var startPos = Pos(opening.pos.line, opening.pos.ch + 1);\n          if (CodeMirror.cmpPos(startPos, range.from()) == 0 &&\n              CodeMirror.cmpPos(closing.pos, range.to()) == 0) {\n            opening = cm.scanForBracket(opening.pos, -1);\n            if (!opening) return false;\n          } else {\n            newRanges.push({anchor: startPos, head: closing.pos});\n            break;\n          }\n        }\n        pos = Pos(closing.pos.line, closing.pos.ch + 1);\n      }\n    }\n    cm.setSelections(newRanges);\n    return true;\n  }\n\n  cmds.selectScope = function(cm) {\n    selectBetweenBrackets(cm) || cm.execCommand(\"selectAll\");\n  };\n  cmds.selectBetweenBrackets = function(cm) {\n    if (!selectBetweenBrackets(cm)) return CodeMirror.Pass;\n  };\n\n  function puncType(type) {\n    return !type ? null : /\\bpunctuation\\b/.test(type) ? type : undefined\n  }\n\n  cmds.goToBracket = function(cm) {\n    cm.extendSelectionsBy(function(range) {\n      var next = cm.scanForBracket(range.head, 1, puncType(cm.getTokenTypeAt(range.head)));\n      if (next && CodeMirror.cmpPos(next.pos, range.head) != 0) return next.pos;\n      var prev = cm.scanForBracket(range.head, -1, puncType(cm.getTokenTypeAt(Pos(range.head.line, range.head.ch + 1))));\n      return prev && Pos(prev.pos.line, prev.pos.ch + 1) || range.head;\n    });\n  };\n\n  cmds.swapLineUp = function(cm) {\n    if (cm.isReadOnly()) return CodeMirror.Pass\n    var ranges = cm.listSelections(), linesToMove = [], at = cm.firstLine() - 1, newSels = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], from = range.from().line - 1, to = range.to().line;\n      newSels.push({anchor: Pos(range.anchor.line - 1, range.anchor.ch),\n                    head: Pos(range.head.line - 1, range.head.ch)});\n      if (range.to().ch == 0 && !range.empty()) --to;\n      if (from > at) linesToMove.push(from, to);\n      else if (linesToMove.length) linesToMove[linesToMove.length - 1] = to;\n      at = to;\n    }\n    cm.operation(function() {\n      for (var i = 0; i < linesToMove.length; i += 2) {\n        var from = linesToMove[i], to = linesToMove[i + 1];\n        var line = cm.getLine(from);\n        cm.replaceRange(\"\", Pos(from, 0), Pos(from + 1, 0), \"+swapLine\");\n        if (to > cm.lastLine())\n          cm.replaceRange(\"\\n\" + line, Pos(cm.lastLine()), null, \"+swapLine\");\n        else\n          cm.replaceRange(line + \"\\n\", Pos(to, 0), null, \"+swapLine\");\n      }\n      cm.setSelections(newSels);\n      cm.scrollIntoView();\n    });\n  };\n\n  cmds.swapLineDown = function(cm) {\n    if (cm.isReadOnly()) return CodeMirror.Pass\n    var ranges = cm.listSelections(), linesToMove = [], at = cm.lastLine() + 1;\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var range = ranges[i], from = range.to().line + 1, to = range.from().line;\n      if (range.to().ch == 0 && !range.empty()) from--;\n      if (from < at) linesToMove.push(from, to);\n      else if (linesToMove.length) linesToMove[linesToMove.length - 1] = to;\n      at = to;\n    }\n    cm.operation(function() {\n      for (var i = linesToMove.length - 2; i >= 0; i -= 2) {\n        var from = linesToMove[i], to = linesToMove[i + 1];\n        var line = cm.getLine(from);\n        if (from == cm.lastLine())\n          cm.replaceRange(\"\", Pos(from - 1), Pos(from), \"+swapLine\");\n        else\n          cm.replaceRange(\"\", Pos(from, 0), Pos(from + 1, 0), \"+swapLine\");\n        cm.replaceRange(line + \"\\n\", Pos(to, 0), null, \"+swapLine\");\n      }\n      cm.scrollIntoView();\n    });\n  };\n\n  cmds.toggleCommentIndented = function(cm) {\n    cm.toggleComment({ indent: true });\n  }\n\n  cmds.joinLines = function(cm) {\n    var ranges = cm.listSelections(), joined = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], from = range.from();\n      var start = from.line, end = range.to().line;\n      while (i < ranges.length - 1 && ranges[i + 1].from().line == end)\n        end = ranges[++i].to().line;\n      joined.push({start: start, end: end, anchor: !range.empty() && from});\n    }\n    cm.operation(function() {\n      var offset = 0, ranges = [];\n      for (var i = 0; i < joined.length; i++) {\n        var obj = joined[i];\n        var anchor = obj.anchor && Pos(obj.anchor.line - offset, obj.anchor.ch), head;\n        for (var line = obj.start; line <= obj.end; line++) {\n          var actual = line - offset;\n          if (line == obj.end) head = Pos(actual, cm.getLine(actual).length + 1);\n          if (actual < cm.lastLine()) {\n            cm.replaceRange(\" \", Pos(actual), Pos(actual + 1, /^\\s*/.exec(cm.getLine(actual + 1))[0].length));\n            ++offset;\n          }\n        }\n        ranges.push({anchor: anchor || head, head: head});\n      }\n      cm.setSelections(ranges, 0);\n    });\n  };\n\n  cmds.duplicateLine = function(cm) {\n    cm.operation(function() {\n      var rangeCount = cm.listSelections().length;\n      for (var i = 0; i < rangeCount; i++) {\n        var range = cm.listSelections()[i];\n        if (range.empty())\n          cm.replaceRange(cm.getLine(range.head.line) + \"\\n\", Pos(range.head.line, 0));\n        else\n          cm.replaceRange(cm.getRange(range.from(), range.to()), range.from());\n      }\n      cm.scrollIntoView();\n    });\n  };\n\n\n  function sortLines(cm, caseSensitive, direction) {\n    if (cm.isReadOnly()) return CodeMirror.Pass\n    var ranges = cm.listSelections(), toSort = [], selected;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      if (range.empty()) continue;\n      var from = range.from().line, to = range.to().line;\n      while (i < ranges.length - 1 && ranges[i + 1].from().line == to)\n        to = ranges[++i].to().line;\n      if (!ranges[i].to().ch) to--;\n      toSort.push(from, to);\n    }\n    if (toSort.length) selected = true;\n    else toSort.push(cm.firstLine(), cm.lastLine());\n\n    cm.operation(function() {\n      var ranges = [];\n      for (var i = 0; i < toSort.length; i += 2) {\n        var from = toSort[i], to = toSort[i + 1];\n        var start = Pos(from, 0), end = Pos(to);\n        var lines = cm.getRange(start, end, false);\n        if (caseSensitive)\n          lines.sort(function(a, b) { return a < b ? -direction : a == b ? 0 : direction; });\n        else\n          lines.sort(function(a, b) {\n            var au = a.toUpperCase(), bu = b.toUpperCase();\n            if (au != bu) { a = au; b = bu; }\n            return a < b ? -direction : a == b ? 0 : direction;\n          });\n        cm.replaceRange(lines, start, end);\n        if (selected) ranges.push({anchor: start, head: Pos(to + 1, 0)});\n      }\n      if (selected) cm.setSelections(ranges, 0);\n    });\n  }\n\n  cmds.sortLines = function(cm) { sortLines(cm, true, 1); };\n  cmds.reverseSortLines = function(cm) { sortLines(cm, true, -1); };\n  cmds.sortLinesInsensitive = function(cm) { sortLines(cm, false, 1); };\n  cmds.reverseSortLinesInsensitive = function(cm) { sortLines(cm, false, -1); };\n\n  cmds.nextBookmark = function(cm) {\n    var marks = cm.state.sublimeBookmarks;\n    if (marks) while (marks.length) {\n      var current = marks.shift();\n      var found = current.find();\n      if (found) {\n        marks.push(current);\n        return cm.setSelection(found.from, found.to);\n      }\n    }\n  };\n\n  cmds.prevBookmark = function(cm) {\n    var marks = cm.state.sublimeBookmarks;\n    if (marks) while (marks.length) {\n      marks.unshift(marks.pop());\n      var found = marks[marks.length - 1].find();\n      if (!found)\n        marks.pop();\n      else\n        return cm.setSelection(found.from, found.to);\n    }\n  };\n\n  cmds.toggleBookmark = function(cm) {\n    var ranges = cm.listSelections();\n    var marks = cm.state.sublimeBookmarks || (cm.state.sublimeBookmarks = []);\n    for (var i = 0; i < ranges.length; i++) {\n      var from = ranges[i].from(), to = ranges[i].to();\n      var found = ranges[i].empty() ? cm.findMarksAt(from) : cm.findMarks(from, to);\n      for (var j = 0; j < found.length; j++) {\n        if (found[j].sublimeBookmark) {\n          found[j].clear();\n          for (var k = 0; k < marks.length; k++)\n            if (marks[k] == found[j])\n              marks.splice(k--, 1);\n          break;\n        }\n      }\n      if (j == found.length)\n        marks.push(cm.markText(from, to, {sublimeBookmark: true, clearWhenEmpty: false}));\n    }\n  };\n\n  cmds.clearBookmarks = function(cm) {\n    var marks = cm.state.sublimeBookmarks;\n    if (marks) for (var i = 0; i < marks.length; i++) marks[i].clear();\n    marks.length = 0;\n  };\n\n  cmds.selectBookmarks = function(cm) {\n    var marks = cm.state.sublimeBookmarks, ranges = [];\n    if (marks) for (var i = 0; i < marks.length; i++) {\n      var found = marks[i].find();\n      if (!found)\n        marks.splice(i--, 0);\n      else\n        ranges.push({anchor: found.from, head: found.to});\n    }\n    if (ranges.length)\n      cm.setSelections(ranges, 0);\n  };\n\n  function modifyWordOrSelection(cm, mod) {\n    cm.operation(function() {\n      var ranges = cm.listSelections(), indices = [], replacements = [];\n      for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i];\n        if (range.empty()) { indices.push(i); replacements.push(\"\"); }\n        else replacements.push(mod(cm.getRange(range.from(), range.to())));\n      }\n      cm.replaceSelections(replacements, \"around\", \"case\");\n      for (var i = indices.length - 1, at; i >= 0; i--) {\n        var range = ranges[indices[i]];\n        if (at && CodeMirror.cmpPos(range.head, at) > 0) continue;\n        var word = wordAt(cm, range.head);\n        at = word.from;\n        cm.replaceRange(mod(word.word), word.from, word.to);\n      }\n    });\n  }\n\n  cmds.smartBackspace = function(cm) {\n    if (cm.somethingSelected()) return CodeMirror.Pass;\n\n    cm.operation(function() {\n      var cursors = cm.listSelections();\n      var indentUnit = cm.getOption(\"indentUnit\");\n\n      for (var i = cursors.length - 1; i >= 0; i--) {\n        var cursor = cursors[i].head;\n        var toStartOfLine = cm.getRange({line: cursor.line, ch: 0}, cursor);\n        var column = CodeMirror.countColumn(toStartOfLine, null, cm.getOption(\"tabSize\"));\n\n        // Delete by one character by default\n        var deletePos = cm.findPosH(cursor, -1, \"char\", false);\n\n        if (toStartOfLine && !/\\S/.test(toStartOfLine) && column % indentUnit == 0) {\n          var prevIndent = new Pos(cursor.line,\n            CodeMirror.findColumn(toStartOfLine, column - indentUnit, indentUnit));\n\n          // Smart delete only if we found a valid prevIndent location\n          if (prevIndent.ch != cursor.ch) deletePos = prevIndent;\n        }\n\n        cm.replaceRange(\"\", deletePos, cursor, \"+delete\");\n      }\n    });\n  };\n\n  cmds.delLineRight = function(cm) {\n    cm.operation(function() {\n      var ranges = cm.listSelections();\n      for (var i = ranges.length - 1; i >= 0; i--)\n        cm.replaceRange(\"\", ranges[i].anchor, Pos(ranges[i].to().line), \"+delete\");\n      cm.scrollIntoView();\n    });\n  };\n\n  cmds.upcaseAtCursor = function(cm) {\n    modifyWordOrSelection(cm, function(str) { return str.toUpperCase(); });\n  };\n  cmds.downcaseAtCursor = function(cm) {\n    modifyWordOrSelection(cm, function(str) { return str.toLowerCase(); });\n  };\n\n  cmds.setSublimeMark = function(cm) {\n    if (cm.state.sublimeMark) cm.state.sublimeMark.clear();\n    cm.state.sublimeMark = cm.setBookmark(cm.getCursor());\n  };\n  cmds.selectToSublimeMark = function(cm) {\n    var found = cm.state.sublimeMark && cm.state.sublimeMark.find();\n    if (found) cm.setSelection(cm.getCursor(), found);\n  };\n  cmds.deleteToSublimeMark = function(cm) {\n    var found = cm.state.sublimeMark && cm.state.sublimeMark.find();\n    if (found) {\n      var from = cm.getCursor(), to = found;\n      if (CodeMirror.cmpPos(from, to) > 0) { var tmp = to; to = from; from = tmp; }\n      cm.state.sublimeKilled = cm.getRange(from, to);\n      cm.replaceRange(\"\", from, to);\n    }\n  };\n  cmds.swapWithSublimeMark = function(cm) {\n    var found = cm.state.sublimeMark && cm.state.sublimeMark.find();\n    if (found) {\n      cm.state.sublimeMark.clear();\n      cm.state.sublimeMark = cm.setBookmark(cm.getCursor());\n      cm.setCursor(found);\n    }\n  };\n  cmds.sublimeYank = function(cm) {\n    if (cm.state.sublimeKilled != null)\n      cm.replaceSelection(cm.state.sublimeKilled, null, \"paste\");\n  };\n\n  cmds.showInCenter = function(cm) {\n    var pos = cm.cursorCoords(null, \"local\");\n    cm.scrollTo(null, (pos.top + pos.bottom) / 2 - cm.getScrollInfo().clientHeight / 2);\n  };\n\n  function getTarget(cm) {\n    var from = cm.getCursor(\"from\"), to = cm.getCursor(\"to\");\n    if (CodeMirror.cmpPos(from, to) == 0) {\n      var word = wordAt(cm, from);\n      if (!word.word) return;\n      from = word.from;\n      to = word.to;\n    }\n    return {from: from, to: to, query: cm.getRange(from, to), word: word};\n  }\n\n  function findAndGoTo(cm, forward) {\n    var target = getTarget(cm);\n    if (!target) return;\n    var query = target.query;\n    var cur = cm.getSearchCursor(query, forward ? target.to : target.from);\n\n    if (forward ? cur.findNext() : cur.findPrevious()) {\n      cm.setSelection(cur.from(), cur.to());\n    } else {\n      cur = cm.getSearchCursor(query, forward ? Pos(cm.firstLine(), 0)\n                                              : cm.clipPos(Pos(cm.lastLine())));\n      if (forward ? cur.findNext() : cur.findPrevious())\n        cm.setSelection(cur.from(), cur.to());\n      else if (target.word)\n        cm.setSelection(target.from, target.to);\n    }\n  };\n  cmds.findUnder = function(cm) { findAndGoTo(cm, true); };\n  cmds.findUnderPrevious = function(cm) { findAndGoTo(cm,false); };\n  cmds.findAllUnder = function(cm) {\n    var target = getTarget(cm);\n    if (!target) return;\n    var cur = cm.getSearchCursor(target.query);\n    var matches = [];\n    var primaryIndex = -1;\n    while (cur.findNext()) {\n      matches.push({anchor: cur.from(), head: cur.to()});\n      if (cur.from().line <= target.from.line && cur.from().ch <= target.from.ch)\n        primaryIndex++;\n    }\n    cm.setSelections(matches, primaryIndex);\n  };\n\n\n  var keyMap = CodeMirror.keyMap;\n  keyMap.macSublime = {\n    \"Cmd-Left\": \"goLineStartSmart\",\n    \"Shift-Tab\": \"indentLess\",\n    \"Shift-Ctrl-K\": \"deleteLine\",\n    \"Alt-Q\": \"wrapLines\",\n    \"Ctrl-Left\": \"goSubwordLeft\",\n    \"Ctrl-Right\": \"goSubwordRight\",\n    \"Ctrl-Alt-Up\": \"scrollLineUp\",\n    \"Ctrl-Alt-Down\": \"scrollLineDown\",\n    \"Cmd-L\": \"selectLine\",\n    \"Shift-Cmd-L\": \"splitSelectionByLine\",\n    \"Esc\": \"singleSelectionTop\",\n    \"Cmd-Enter\": \"insertLineAfter\",\n    \"Shift-Cmd-Enter\": \"insertLineBefore\",\n    \"Cmd-D\": \"selectNextOccurrence\",\n    \"Shift-Cmd-Space\": \"selectScope\",\n    \"Shift-Cmd-M\": \"selectBetweenBrackets\",\n    \"Cmd-M\": \"goToBracket\",\n    \"Cmd-Ctrl-Up\": \"swapLineUp\",\n    \"Cmd-Ctrl-Down\": \"swapLineDown\",\n    \"Cmd-/\": \"toggleCommentIndented\",\n    \"Cmd-J\": \"joinLines\",\n    \"Shift-Cmd-D\": \"duplicateLine\",\n    \"F5\": \"sortLines\",\n    \"Shift-F5\": \"reverseSortLines\",\n    \"Cmd-F5\": \"sortLinesInsensitive\",\n    \"Shift-Cmd-F5\": \"reverseSortLinesInsensitive\",\n    \"F2\": \"nextBookmark\",\n    \"Shift-F2\": \"prevBookmark\",\n    \"Cmd-F2\": \"toggleBookmark\",\n    \"Shift-Cmd-F2\": \"clearBookmarks\",\n    \"Alt-F2\": \"selectBookmarks\",\n    \"Backspace\": \"smartBackspace\",\n    \"Cmd-K Cmd-D\": \"skipAndSelectNextOccurrence\",\n    \"Cmd-K Cmd-K\": \"delLineRight\",\n    \"Cmd-K Cmd-U\": \"upcaseAtCursor\",\n    \"Cmd-K Cmd-L\": \"downcaseAtCursor\",\n    \"Cmd-K Cmd-Space\": \"setSublimeMark\",\n    \"Cmd-K Cmd-A\": \"selectToSublimeMark\",\n    \"Cmd-K Cmd-W\": \"deleteToSublimeMark\",\n    \"Cmd-K Cmd-X\": \"swapWithSublimeMark\",\n    \"Cmd-K Cmd-Y\": \"sublimeYank\",\n    \"Cmd-K Cmd-C\": \"showInCenter\",\n    \"Cmd-K Cmd-G\": \"clearBookmarks\",\n    \"Cmd-K Cmd-Backspace\": \"delLineLeft\",\n    \"Cmd-K Cmd-1\": \"foldAll\",\n    \"Cmd-K Cmd-0\": \"unfoldAll\",\n    \"Cmd-K Cmd-J\": \"unfoldAll\",\n    \"Ctrl-Shift-Up\": \"addCursorToPrevLine\",\n    \"Ctrl-Shift-Down\": \"addCursorToNextLine\",\n    \"Cmd-F3\": \"findUnder\",\n    \"Shift-Cmd-F3\": \"findUnderPrevious\",\n    \"Alt-F3\": \"findAllUnder\",\n    \"Shift-Cmd-[\": \"fold\",\n    \"Shift-Cmd-]\": \"unfold\",\n    \"Cmd-I\": \"findIncremental\",\n    \"Shift-Cmd-I\": \"findIncrementalReverse\",\n    \"Cmd-H\": \"replace\",\n    \"F3\": \"findNext\",\n    \"Shift-F3\": \"findPrev\",\n    \"fallthrough\": \"macDefault\"\n  };\n  CodeMirror.normalizeKeyMap(keyMap.macSublime);\n\n  keyMap.pcSublime = {\n    \"Shift-Tab\": \"indentLess\",\n    \"Shift-Ctrl-K\": \"deleteLine\",\n    \"Alt-Q\": \"wrapLines\",\n    \"Ctrl-T\": \"transposeChars\",\n    \"Alt-Left\": \"goSubwordLeft\",\n    \"Alt-Right\": \"goSubwordRight\",\n    \"Ctrl-Up\": \"scrollLineUp\",\n    \"Ctrl-Down\": \"scrollLineDown\",\n    \"Ctrl-L\": \"selectLine\",\n    \"Shift-Ctrl-L\": \"splitSelectionByLine\",\n    \"Esc\": \"singleSelectionTop\",\n    \"Ctrl-Enter\": \"insertLineAfter\",\n    \"Shift-Ctrl-Enter\": \"insertLineBefore\",\n    \"Ctrl-D\": \"selectNextOccurrence\",\n    \"Shift-Ctrl-Space\": \"selectScope\",\n    \"Shift-Ctrl-M\": \"selectBetweenBrackets\",\n    \"Ctrl-M\": \"goToBracket\",\n    \"Shift-Ctrl-Up\": \"swapLineUp\",\n    \"Shift-Ctrl-Down\": \"swapLineDown\",\n    \"Ctrl-/\": \"toggleCommentIndented\",\n    \"Ctrl-J\": \"joinLines\",\n    \"Shift-Ctrl-D\": \"duplicateLine\",\n    \"F9\": \"sortLines\",\n    \"Shift-F9\": \"reverseSortLines\",\n    \"Ctrl-F9\": \"sortLinesInsensitive\",\n    \"Shift-Ctrl-F9\": \"reverseSortLinesInsensitive\",\n    \"F2\": \"nextBookmark\",\n    \"Shift-F2\": \"prevBookmark\",\n    \"Ctrl-F2\": \"toggleBookmark\",\n    \"Shift-Ctrl-F2\": \"clearBookmarks\",\n    \"Alt-F2\": \"selectBookmarks\",\n    \"Backspace\": \"smartBackspace\",\n    \"Ctrl-K Ctrl-D\": \"skipAndSelectNextOccurrence\",\n    \"Ctrl-K Ctrl-K\": \"delLineRight\",\n    \"Ctrl-K Ctrl-U\": \"upcaseAtCursor\",\n    \"Ctrl-K Ctrl-L\": \"downcaseAtCursor\",\n    \"Ctrl-K Ctrl-Space\": \"setSublimeMark\",\n    \"Ctrl-K Ctrl-A\": \"selectToSublimeMark\",\n    \"Ctrl-K Ctrl-W\": \"deleteToSublimeMark\",\n    \"Ctrl-K Ctrl-X\": \"swapWithSublimeMark\",\n    \"Ctrl-K Ctrl-Y\": \"sublimeYank\",\n    \"Ctrl-K Ctrl-C\": \"showInCenter\",\n    \"Ctrl-K Ctrl-G\": \"clearBookmarks\",\n    \"Ctrl-K Ctrl-Backspace\": \"delLineLeft\",\n    \"Ctrl-K Ctrl-1\": \"foldAll\",\n    \"Ctrl-K Ctrl-0\": \"unfoldAll\",\n    \"Ctrl-K Ctrl-J\": \"unfoldAll\",\n    \"Ctrl-Alt-Up\": \"addCursorToPrevLine\",\n    \"Ctrl-Alt-Down\": \"addCursorToNextLine\",\n    \"Ctrl-F3\": \"findUnder\",\n    \"Shift-Ctrl-F3\": \"findUnderPrevious\",\n    \"Alt-F3\": \"findAllUnder\",\n    \"Shift-Ctrl-[\": \"fold\",\n    \"Shift-Ctrl-]\": \"unfold\",\n    \"Ctrl-I\": \"findIncremental\",\n    \"Shift-Ctrl-I\": \"findIncrementalReverse\",\n    \"Ctrl-H\": \"replace\",\n    \"F3\": \"findNext\",\n    \"Shift-F3\": \"findPrev\",\n    \"fallthrough\": \"pcDefault\"\n  };\n  CodeMirror.normalizeKeyMap(keyMap.pcSublime);\n\n  var mac = keyMap.default == keyMap.macDefault;\n  keyMap.sublime = mac ? keyMap.macSublime : keyMap.pcSublime;\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// declare global: DOMRect\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var HINT_ELEMENT_CLASS        = \"CodeMirror-hint\";\n  var ACTIVE_HINT_ELEMENT_CLASS = \"CodeMirror-hint-active\";\n\n  // This is the old interface, kept around for now to stay\n  // backwards-compatible.\n  CodeMirror.showHint = function(cm, getHints, options) {\n    if (!getHints) return cm.showHint(options);\n    if (options && options.async) getHints.async = true;\n    var newOpts = {hint: getHints};\n    if (options) for (var prop in options) newOpts[prop] = options[prop];\n    return cm.showHint(newOpts);\n  };\n\n  CodeMirror.defineExtension(\"showHint\", function(options) {\n    options = parseOptions(this, this.getCursor(\"start\"), options);\n    var selections = this.listSelections()\n    if (selections.length > 1) return;\n    // By default, don't allow completion when something is selected.\n    // A hint function can have a `supportsSelection` property to\n    // indicate that it can handle selections.\n    if (this.somethingSelected()) {\n      if (!options.hint.supportsSelection) return;\n      // Don't try with cross-line selections\n      for (var i = 0; i < selections.length; i++)\n        if (selections[i].head.line != selections[i].anchor.line) return;\n    }\n\n    if (this.state.completionActive) this.state.completionActive.close();\n    var completion = this.state.completionActive = new Completion(this, options);\n    if (!completion.options.hint) return;\n\n    CodeMirror.signal(this, \"startCompletion\", this);\n    completion.update(true);\n  });\n\n  CodeMirror.defineExtension(\"closeHint\", function() {\n    if (this.state.completionActive) this.state.completionActive.close()\n  })\n\n  function Completion(cm, options) {\n    this.cm = cm;\n    this.options = options;\n    this.widget = null;\n    this.debounce = 0;\n    this.tick = 0;\n    this.startPos = this.cm.getCursor(\"start\");\n    this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\n\n    if (this.options.updateOnCursorActivity) {\n      var self = this;\n      cm.on(\"cursorActivity\", this.activityFunc = function() { self.cursorActivity(); });\n    }\n  }\n\n  var requestAnimationFrame = window.requestAnimationFrame || function(fn) {\n    return setTimeout(fn, 1000/60);\n  };\n  var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\n  Completion.prototype = {\n    close: function() {\n      if (!this.active()) return;\n      this.cm.state.completionActive = null;\n      this.tick = null;\n      if (this.options.updateOnCursorActivity) {\n        this.cm.off(\"cursorActivity\", this.activityFunc);\n      }\n\n      if (this.widget && this.data) CodeMirror.signal(this.data, \"close\");\n      if (this.widget) this.widget.close();\n      CodeMirror.signal(this.cm, \"endCompletion\", this.cm);\n    },\n\n    active: function() {\n      return this.cm.state.completionActive == this;\n    },\n\n    pick: function(data, i) {\n      var completion = data.list[i], self = this;\n      this.cm.operation(function() {\n        if (completion.hint)\n          completion.hint(self.cm, data, completion);\n        else\n          self.cm.replaceRange(getText(completion), completion.from || data.from,\n                               completion.to || data.to, \"complete\");\n        CodeMirror.signal(data, \"pick\", completion);\n        self.cm.scrollIntoView();\n      });\n      if (this.options.closeOnPick) {\n        this.close();\n      }\n    },\n\n    cursorActivity: function() {\n      if (this.debounce) {\n        cancelAnimationFrame(this.debounce);\n        this.debounce = 0;\n      }\n\n      var identStart = this.startPos;\n      if(this.data) {\n        identStart = this.data.from;\n      }\n\n      var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);\n      if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch ||\n          pos.ch < identStart.ch || this.cm.somethingSelected() ||\n          (!pos.ch || this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {\n        this.close();\n      } else {\n        var self = this;\n        this.debounce = requestAnimationFrame(function() {self.update();});\n        if (this.widget) this.widget.disable();\n      }\n    },\n\n    update: function(first) {\n      if (this.tick == null) return\n      var self = this, myTick = ++this.tick\n      fetchHints(this.options.hint, this.cm, this.options, function(data) {\n        if (self.tick == myTick) self.finishUpdate(data, first)\n      })\n    },\n\n    finishUpdate: function(data, first) {\n      if (this.data) CodeMirror.signal(this.data, \"update\");\n\n      var picked = (this.widget && this.widget.picked) || (first && this.options.completeSingle);\n      if (this.widget) this.widget.close();\n\n      this.data = data;\n\n      if (data && data.list.length) {\n        if (picked && data.list.length == 1) {\n          this.pick(data, 0);\n        } else {\n          this.widget = new Widget(this, data);\n          CodeMirror.signal(data, \"shown\");\n        }\n      }\n    }\n  };\n\n  function parseOptions(cm, pos, options) {\n    var editor = cm.options.hintOptions;\n    var out = {};\n    for (var prop in defaultOptions) out[prop] = defaultOptions[prop];\n    if (editor) for (var prop in editor)\n      if (editor[prop] !== undefined) out[prop] = editor[prop];\n    if (options) for (var prop in options)\n      if (options[prop] !== undefined) out[prop] = options[prop];\n    if (out.hint.resolve) out.hint = out.hint.resolve(cm, pos)\n    return out;\n  }\n\n  function getText(completion) {\n    if (typeof completion == \"string\") return completion;\n    else return completion.text;\n  }\n\n  function buildKeyMap(completion, handle) {\n    var baseMap = {\n      Up: function() {handle.moveFocus(-1);},\n      Down: function() {handle.moveFocus(1);},\n      PageUp: function() {handle.moveFocus(-handle.menuSize() + 1, true);},\n      PageDown: function() {handle.moveFocus(handle.menuSize() - 1, true);},\n      Home: function() {handle.setFocus(0);},\n      End: function() {handle.setFocus(handle.length - 1);},\n      Enter: handle.pick,\n      Tab: handle.pick,\n      Esc: handle.close\n    };\n\n    var mac = /Mac/.test(navigator.platform);\n\n    if (mac) {\n      baseMap[\"Ctrl-P\"] = function() {handle.moveFocus(-1);};\n      baseMap[\"Ctrl-N\"] = function() {handle.moveFocus(1);};\n    }\n\n    var custom = completion.options.customKeys;\n    var ourMap = custom ? {} : baseMap;\n    function addBinding(key, val) {\n      var bound;\n      if (typeof val != \"string\")\n        bound = function(cm) { return val(cm, handle); };\n      // This mechanism is deprecated\n      else if (baseMap.hasOwnProperty(val))\n        bound = baseMap[val];\n      else\n        bound = val;\n      ourMap[key] = bound;\n    }\n    if (custom)\n      for (var key in custom) if (custom.hasOwnProperty(key))\n        addBinding(key, custom[key]);\n    var extra = completion.options.extraKeys;\n    if (extra)\n      for (var key in extra) if (extra.hasOwnProperty(key))\n        addBinding(key, extra[key]);\n    return ourMap;\n  }\n\n  function getHintElement(hintsElement, el) {\n    while (el && el != hintsElement) {\n      if (el.nodeName.toUpperCase() === \"LI\" && el.parentNode == hintsElement) return el;\n      el = el.parentNode;\n    }\n  }\n\n  function Widget(completion, data) {\n    this.id = \"cm-complete-\" + Math.floor(Math.random(1e6))\n    this.completion = completion;\n    this.data = data;\n    this.picked = false;\n    var widget = this, cm = completion.cm;\n    var ownerDocument = cm.getInputField().ownerDocument;\n    var parentWindow = ownerDocument.defaultView || ownerDocument.parentWindow;\n\n    var hints = this.hints = ownerDocument.createElement(\"ul\");\n    hints.setAttribute(\"role\", \"listbox\")\n    hints.setAttribute(\"aria-expanded\", \"true\")\n    hints.id = this.id\n    var theme = completion.cm.options.theme;\n    hints.className = \"CodeMirror-hints \" + theme;\n    this.selectedHint = data.selectedHint || 0;\n\n    var completions = data.list;\n    for (var i = 0; i < completions.length; ++i) {\n      var elt = hints.appendChild(ownerDocument.createElement(\"li\")), cur = completions[i];\n      var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? \"\" : \" \" + ACTIVE_HINT_ELEMENT_CLASS);\n      if (cur.className != null) className = cur.className + \" \" + className;\n      elt.className = className;\n      if (i == this.selectedHint) elt.setAttribute(\"aria-selected\", \"true\")\n      elt.id = this.id + \"-\" + i\n      elt.setAttribute(\"role\", \"option\")\n      if (cur.render) cur.render(elt, data, cur);\n      else elt.appendChild(ownerDocument.createTextNode(cur.displayText || getText(cur)));\n      elt.hintId = i;\n    }\n\n    var container = completion.options.container || ownerDocument.body;\n    var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);\n    var left = pos.left, top = pos.bottom, below = true;\n    var offsetLeft = 0, offsetTop = 0;\n    if (container !== ownerDocument.body) {\n      // We offset the cursor position because left and top are relative to the offsetParent's top left corner.\n      var isContainerPositioned = ['absolute', 'relative', 'fixed'].indexOf(parentWindow.getComputedStyle(container).position) !== -1;\n      var offsetParent = isContainerPositioned ? container : container.offsetParent;\n      var offsetParentPosition = offsetParent.getBoundingClientRect();\n      var bodyPosition = ownerDocument.body.getBoundingClientRect();\n      offsetLeft = (offsetParentPosition.left - bodyPosition.left - offsetParent.scrollLeft);\n      offsetTop = (offsetParentPosition.top - bodyPosition.top - offsetParent.scrollTop);\n    }\n    hints.style.left = (left - offsetLeft) + \"px\";\n    hints.style.top = (top - offsetTop) + \"px\";\n\n    // If we're at the edge of the screen, then we want the menu to appear on the left of the cursor.\n    var winW = parentWindow.innerWidth || Math.max(ownerDocument.body.offsetWidth, ownerDocument.documentElement.offsetWidth);\n    var winH = parentWindow.innerHeight || Math.max(ownerDocument.body.offsetHeight, ownerDocument.documentElement.offsetHeight);\n    container.appendChild(hints);\n    cm.getInputField().setAttribute(\"aria-autocomplete\", \"list\")\n    cm.getInputField().setAttribute(\"aria-owns\", this.id)\n    cm.getInputField().setAttribute(\"aria-activedescendant\", this.id + \"-\" + this.selectedHint)\n\n    var box = completion.options.moveOnOverlap ? hints.getBoundingClientRect() : new DOMRect();\n    var scrolls = completion.options.paddingForScrollbar ? hints.scrollHeight > hints.clientHeight + 1 : false;\n\n    // Compute in the timeout to avoid reflow on init\n    var startScroll;\n    setTimeout(function() { startScroll = cm.getScrollInfo(); });\n\n    var overlapY = box.bottom - winH;\n    if (overlapY > 0) { // Does not fit below\n      var height = box.bottom - box.top, spaceAbove = box.top - (pos.bottom - pos.top) - 2\n      if (winH - box.top < spaceAbove) { // More room at the top\n        if (height > spaceAbove) hints.style.height = (height = spaceAbove) + \"px\";\n        hints.style.top = ((top = pos.top - height) + offsetTop) + \"px\";\n        below = false;\n      } else {\n        hints.style.height = (winH - box.top - 2) + \"px\";\n      }\n    }\n    var overlapX = box.right - winW;\n    if (scrolls) overlapX += cm.display.nativeBarWidth;\n    if (overlapX > 0) {\n      if (box.right - box.left > winW) {\n        hints.style.width = (winW - 5) + \"px\";\n        overlapX -= (box.right - box.left) - winW;\n      }\n      hints.style.left = (left = Math.max(pos.left - overlapX - offsetLeft, 0)) + \"px\";\n    }\n    if (scrolls) for (var node = hints.firstChild; node; node = node.nextSibling)\n      node.style.paddingRight = cm.display.nativeBarWidth + \"px\"\n\n    cm.addKeyMap(this.keyMap = buildKeyMap(completion, {\n      moveFocus: function(n, avoidWrap) { widget.changeActive(widget.selectedHint + n, avoidWrap); },\n      setFocus: function(n) { widget.changeActive(n); },\n      menuSize: function() { return widget.screenAmount(); },\n      length: completions.length,\n      close: function() { completion.close(); },\n      pick: function() { widget.pick(); },\n      data: data\n    }));\n\n    if (completion.options.closeOnUnfocus) {\n      var closingOnBlur;\n      cm.on(\"blur\", this.onBlur = function() { closingOnBlur = setTimeout(function() { completion.close(); }, 100); });\n      cm.on(\"focus\", this.onFocus = function() { clearTimeout(closingOnBlur); });\n    }\n\n    cm.on(\"scroll\", this.onScroll = function() {\n      var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();\n      if (!startScroll) startScroll = cm.getScrollInfo();\n      var newTop = top + startScroll.top - curScroll.top;\n      var point = newTop - (parentWindow.pageYOffset || (ownerDocument.documentElement || ownerDocument.body).scrollTop);\n      if (!below) point += hints.offsetHeight;\n      if (point <= editor.top || point >= editor.bottom) return completion.close();\n      hints.style.top = newTop + \"px\";\n      hints.style.left = (left + startScroll.left - curScroll.left) + \"px\";\n    });\n\n    CodeMirror.on(hints, \"dblclick\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {widget.changeActive(t.hintId); widget.pick();}\n    });\n\n    CodeMirror.on(hints, \"click\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {\n        widget.changeActive(t.hintId);\n        if (completion.options.completeOnSingleClick) widget.pick();\n      }\n    });\n\n    CodeMirror.on(hints, \"mousedown\", function() {\n      setTimeout(function(){cm.focus();}, 20);\n    });\n\n    // The first hint doesn't need to be scrolled to on init\n    var selectedHintRange = this.getSelectedHintRange();\n    if (selectedHintRange.from !== 0 || selectedHintRange.to !== 0) {\n      this.scrollToActive();\n    }\n\n    CodeMirror.signal(data, \"select\", completions[this.selectedHint], hints.childNodes[this.selectedHint]);\n    return true;\n  }\n\n  Widget.prototype = {\n    close: function() {\n      if (this.completion.widget != this) return;\n      this.completion.widget = null;\n      if (this.hints.parentNode) this.hints.parentNode.removeChild(this.hints);\n      this.completion.cm.removeKeyMap(this.keyMap);\n      var input = this.completion.cm.getInputField()\n      input.removeAttribute(\"aria-activedescendant\")\n      input.removeAttribute(\"aria-owns\")\n\n      var cm = this.completion.cm;\n      if (this.completion.options.closeOnUnfocus) {\n        cm.off(\"blur\", this.onBlur);\n        cm.off(\"focus\", this.onFocus);\n      }\n      cm.off(\"scroll\", this.onScroll);\n    },\n\n    disable: function() {\n      this.completion.cm.removeKeyMap(this.keyMap);\n      var widget = this;\n      this.keyMap = {Enter: function() { widget.picked = true; }};\n      this.completion.cm.addKeyMap(this.keyMap);\n    },\n\n    pick: function() {\n      this.completion.pick(this.data, this.selectedHint);\n    },\n\n    changeActive: function(i, avoidWrap) {\n      if (i >= this.data.list.length)\n        i = avoidWrap ? this.data.list.length - 1 : 0;\n      else if (i < 0)\n        i = avoidWrap ? 0  : this.data.list.length - 1;\n      if (this.selectedHint == i) return;\n      var node = this.hints.childNodes[this.selectedHint];\n      if (node) {\n        node.className = node.className.replace(\" \" + ACTIVE_HINT_ELEMENT_CLASS, \"\");\n        node.removeAttribute(\"aria-selected\")\n      }\n      node = this.hints.childNodes[this.selectedHint = i];\n      node.className += \" \" + ACTIVE_HINT_ELEMENT_CLASS;\n      node.setAttribute(\"aria-selected\", \"true\")\n      this.completion.cm.getInputField().setAttribute(\"aria-activedescendant\", node.id)\n      this.scrollToActive()\n      CodeMirror.signal(this.data, \"select\", this.data.list[this.selectedHint], node);\n    },\n\n    scrollToActive: function() {\n      var selectedHintRange = this.getSelectedHintRange();\n      var node1 = this.hints.childNodes[selectedHintRange.from];\n      var node2 = this.hints.childNodes[selectedHintRange.to];\n      var firstNode = this.hints.firstChild;\n      if (node1.offsetTop < this.hints.scrollTop)\n        this.hints.scrollTop = node1.offsetTop - firstNode.offsetTop;\n      else if (node2.offsetTop + node2.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)\n        this.hints.scrollTop = node2.offsetTop + node2.offsetHeight - this.hints.clientHeight + firstNode.offsetTop;\n    },\n\n    screenAmount: function() {\n      return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;\n    },\n\n    getSelectedHintRange: function() {\n      var margin = this.completion.options.scrollMargin || 0;\n      return {\n        from: Math.max(0, this.selectedHint - margin),\n        to: Math.min(this.data.list.length - 1, this.selectedHint + margin),\n      };\n    }\n  };\n\n  function applicableHelpers(cm, helpers) {\n    if (!cm.somethingSelected()) return helpers\n    var result = []\n    for (var i = 0; i < helpers.length; i++)\n      if (helpers[i].supportsSelection) result.push(helpers[i])\n    return result\n  }\n\n  function fetchHints(hint, cm, options, callback) {\n    if (hint.async) {\n      hint(cm, callback, options)\n    } else {\n      var result = hint(cm, options)\n      if (result && result.then) result.then(callback)\n      else callback(result)\n    }\n  }\n\n  function resolveAutoHints(cm, pos) {\n    var helpers = cm.getHelpers(pos, \"hint\"), words\n    if (helpers.length) {\n      var resolved = function(cm, callback, options) {\n        var app = applicableHelpers(cm, helpers);\n        function run(i) {\n          if (i == app.length) return callback(null)\n          fetchHints(app[i], cm, options, function(result) {\n            if (result && result.list.length > 0) callback(result)\n            else run(i + 1)\n          })\n        }\n        run(0)\n      }\n      resolved.async = true\n      resolved.supportsSelection = true\n      return resolved\n    } else if (words = cm.getHelper(cm.getCursor(), \"hintWords\")) {\n      return function(cm) { return CodeMirror.hint.fromList(cm, {words: words}) }\n    } else if (CodeMirror.hint.anyword) {\n      return function(cm, options) { return CodeMirror.hint.anyword(cm, options) }\n    } else {\n      return function() {}\n    }\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"auto\", {\n    resolve: resolveAutoHints\n  });\n\n  CodeMirror.registerHelper(\"hint\", \"fromList\", function(cm, options) {\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur)\n    var term, from = CodeMirror.Pos(cur.line, token.start), to = cur\n    if (token.start < cur.ch && /\\w/.test(token.string.charAt(cur.ch - token.start - 1))) {\n      term = token.string.substr(0, cur.ch - token.start)\n    } else {\n      term = \"\"\n      from = cur\n    }\n    var found = [];\n    for (var i = 0; i < options.words.length; i++) {\n      var word = options.words[i];\n      if (word.slice(0, term.length) == term)\n        found.push(word);\n    }\n\n    if (found.length) return {list: found, from: from, to: to};\n  });\n\n  CodeMirror.commands.autocomplete = CodeMirror.showHint;\n\n  var defaultOptions = {\n    hint: CodeMirror.hint.auto,\n    completeSingle: true,\n    alignWithWord: true,\n    closeCharacters: /[\\s()\\[\\]{};:>,]/,\n    closeOnPick: true,\n    closeOnUnfocus: true,\n    updateOnCursorActivity: true,\n    completeOnSingleClick: true,\n    container: null,\n    customKeys: null,\n    extraKeys: null,\n    paddingForScrollbar: true,\n    moveOnOverlap: true,\n  };\n\n  CodeMirror.defineOption(\"hintOptions\", null);\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineExtension(\"annotateScrollbar\", function(options) {\n    if (typeof options == \"string\") options = {className: options};\n    return new Annotation(this, options);\n  });\n\n  CodeMirror.defineOption(\"scrollButtonHeight\", 0);\n\n  function Annotation(cm, options) {\n    this.cm = cm;\n    this.options = options;\n    this.buttonHeight = options.scrollButtonHeight || cm.getOption(\"scrollButtonHeight\");\n    this.annotations = [];\n    this.doRedraw = this.doUpdate = null;\n    this.div = cm.getWrapperElement().appendChild(document.createElement(\"div\"));\n    this.div.style.cssText = \"position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none\";\n    this.computeScale();\n\n    function scheduleRedraw(delay) {\n      clearTimeout(self.doRedraw);\n      self.doRedraw = setTimeout(function() { self.redraw(); }, delay);\n    }\n\n    var self = this;\n    cm.on(\"refresh\", this.resizeHandler = function() {\n      clearTimeout(self.doUpdate);\n      self.doUpdate = setTimeout(function() {\n        if (self.computeScale()) scheduleRedraw(20);\n      }, 100);\n    });\n    cm.on(\"markerAdded\", this.resizeHandler);\n    cm.on(\"markerCleared\", this.resizeHandler);\n    if (options.listenForChanges !== false)\n      cm.on(\"changes\", this.changeHandler = function() {\n        scheduleRedraw(250);\n      });\n  }\n\n  Annotation.prototype.computeScale = function() {\n    var cm = this.cm;\n    var hScale = (cm.getWrapperElement().clientHeight - cm.display.barHeight - this.buttonHeight * 2) /\n      cm.getScrollerElement().scrollHeight\n    if (hScale != this.hScale) {\n      this.hScale = hScale;\n      return true;\n    }\n  };\n\n  Annotation.prototype.update = function(annotations) {\n    this.annotations = annotations;\n    this.redraw();\n  };\n\n  Annotation.prototype.redraw = function(compute) {\n    if (compute !== false) this.computeScale();\n    var cm = this.cm, hScale = this.hScale;\n\n    var frag = document.createDocumentFragment(), anns = this.annotations;\n\n    var wrapping = cm.getOption(\"lineWrapping\");\n    var singleLineH = wrapping && cm.defaultTextHeight() * 1.5;\n    var curLine = null, curLineObj = null;\n\n    function getY(pos, top) {\n      if (curLine != pos.line) {\n        curLine = pos.line\n        curLineObj = cm.getLineHandle(pos.line)\n        var visual = cm.getLineHandleVisualStart(curLineObj)\n        if (visual != curLineObj) {\n          curLine = cm.getLineNumber(visual)\n          curLineObj = visual\n        }\n      }\n      if ((curLineObj.widgets && curLineObj.widgets.length) ||\n          (wrapping && curLineObj.height > singleLineH))\n        return cm.charCoords(pos, \"local\")[top ? \"top\" : \"bottom\"];\n      var topY = cm.heightAtLine(curLineObj, \"local\");\n      return topY + (top ? 0 : curLineObj.height);\n    }\n\n    var lastLine = cm.lastLine()\n    if (cm.display.barWidth) for (var i = 0, nextTop; i < anns.length; i++) {\n      var ann = anns[i];\n      if (ann.to.line > lastLine) continue;\n      var top = nextTop || getY(ann.from, true) * hScale;\n      var bottom = getY(ann.to, false) * hScale;\n      while (i < anns.length - 1) {\n        if (anns[i + 1].to.line > lastLine) break;\n        nextTop = getY(anns[i + 1].from, true) * hScale;\n        if (nextTop > bottom + .9) break;\n        ann = anns[++i];\n        bottom = getY(ann.to, false) * hScale;\n      }\n      if (bottom == top) continue;\n      var height = Math.max(bottom - top, 3);\n\n      var elt = frag.appendChild(document.createElement(\"div\"));\n      elt.style.cssText = \"position: absolute; right: 0px; width: \" + Math.max(cm.display.barWidth - 1, 2) + \"px; top: \"\n        + (top + this.buttonHeight) + \"px; height: \" + height + \"px\";\n      elt.className = this.options.className;\n      if (ann.id) {\n        elt.setAttribute(\"annotation-id\", ann.id);\n      }\n    }\n    this.div.textContent = \"\";\n    this.div.appendChild(frag);\n  };\n\n  Annotation.prototype.clear = function() {\n    this.cm.off(\"refresh\", this.resizeHandler);\n    this.cm.off(\"markerAdded\", this.resizeHandler);\n    this.cm.off(\"markerCleared\", this.resizeHandler);\n    if (this.changeHandler) this.cm.off(\"changes\", this.changeHandler);\n    this.div.parentNode.removeChild(this.div);\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerHelper(\"fold\", \"markdown\", function(cm, start) {\n  var maxDepth = 100;\n\n  function isHeader(lineNo) {\n    var tokentype = cm.getTokenTypeAt(CodeMirror.Pos(lineNo, 0));\n    return tokentype && /\\bheader\\b/.test(tokentype);\n  }\n\n  function headerLevel(lineNo, line, nextLine) {\n    var match = line && line.match(/^#+/);\n    if (match && isHeader(lineNo)) return match[0].length;\n    match = nextLine && nextLine.match(/^[=\\-]+\\s*$/);\n    if (match && isHeader(lineNo + 1)) return nextLine[0] == \"=\" ? 1 : 2;\n    return maxDepth;\n  }\n\n  var firstLine = cm.getLine(start.line), nextLine = cm.getLine(start.line + 1);\n  var level = headerLevel(start.line, firstLine, nextLine);\n  if (level === maxDepth) return undefined;\n\n  var lastLineNo = cm.lastLine();\n  var end = start.line, nextNextLine = cm.getLine(end + 2);\n  while (end < lastLineNo) {\n    if (headerLevel(end + 1, nextLine, nextNextLine) <= level) break;\n    ++end;\n    nextLine = nextNextLine;\n    nextNextLine = cm.getLine(end + 2);\n  }\n\n  return {\n    from: CodeMirror.Pos(start.line, firstLine.length),\n    to: CodeMirror.Pos(end, cm.getLine(end).length)\n  };\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch; }\n\n  var nameStartChar = \"A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\";\n  var nameChar = nameStartChar + \"\\-\\:\\.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\";\n  var xmlTagStart = new RegExp(\"<(/?)([\" + nameStartChar + \"][\" + nameChar + \"]*)\", \"g\");\n\n  function Iter(cm, line, ch, range) {\n    this.line = line; this.ch = ch;\n    this.cm = cm; this.text = cm.getLine(line);\n    this.min = range ? Math.max(range.from, cm.firstLine()) : cm.firstLine();\n    this.max = range ? Math.min(range.to - 1, cm.lastLine()) : cm.lastLine();\n  }\n\n  function tagAt(iter, ch) {\n    var type = iter.cm.getTokenTypeAt(Pos(iter.line, ch));\n    return type && /\\btag\\b/.test(type);\n  }\n\n  function nextLine(iter) {\n    if (iter.line >= iter.max) return;\n    iter.ch = 0;\n    iter.text = iter.cm.getLine(++iter.line);\n    return true;\n  }\n  function prevLine(iter) {\n    if (iter.line <= iter.min) return;\n    iter.text = iter.cm.getLine(--iter.line);\n    iter.ch = iter.text.length;\n    return true;\n  }\n\n  function toTagEnd(iter) {\n    for (;;) {\n      var gt = iter.text.indexOf(\">\", iter.ch);\n      if (gt == -1) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt + 1; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n  function toTagStart(iter) {\n    for (;;) {\n      var lt = iter.ch ? iter.text.lastIndexOf(\"<\", iter.ch - 1) : -1;\n      if (lt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, lt + 1)) { iter.ch = lt; continue; }\n      xmlTagStart.lastIndex = lt;\n      iter.ch = lt;\n      var match = xmlTagStart.exec(iter.text);\n      if (match && match.index == lt) return match;\n    }\n  }\n\n  function toNextTag(iter) {\n    for (;;) {\n      xmlTagStart.lastIndex = iter.ch;\n      var found = xmlTagStart.exec(iter.text);\n      if (!found) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, found.index + 1)) { iter.ch = found.index + 1; continue; }\n      iter.ch = found.index + found[0].length;\n      return found;\n    }\n  }\n  function toPrevTag(iter) {\n    for (;;) {\n      var gt = iter.ch ? iter.text.lastIndexOf(\">\", iter.ch - 1) : -1;\n      if (gt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n\n  function findMatchingClose(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var next = toNextTag(iter), end, startLine = iter.line, startCh = iter.ch - (next ? next[0].length : 0);\n      if (!next || !(end = toTagEnd(iter))) return;\n      if (end == \"selfClose\") continue;\n      if (next[1]) { // closing tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == next[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == next[2])) return {\n          tag: next[2],\n          from: Pos(startLine, startCh),\n          to: Pos(iter.line, iter.ch)\n        };\n      } else { // opening tag\n        stack.push(next[2]);\n      }\n    }\n  }\n  function findMatchingOpen(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var prev = toPrevTag(iter);\n      if (!prev) return;\n      if (prev == \"selfClose\") { toTagStart(iter); continue; }\n      var endLine = iter.line, endCh = iter.ch;\n      var start = toTagStart(iter);\n      if (!start) return;\n      if (start[1]) { // closing tag\n        stack.push(start[2]);\n      } else { // opening tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == start[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == start[2])) return {\n          tag: start[2],\n          from: Pos(iter.line, iter.ch),\n          to: Pos(endLine, endCh)\n        };\n      }\n    }\n  }\n\n  CodeMirror.registerHelper(\"fold\", \"xml\", function(cm, start) {\n    var iter = new Iter(cm, start.line, 0);\n    for (;;) {\n      var openTag = toNextTag(iter)\n      if (!openTag || iter.line != start.line) return\n      var end = toTagEnd(iter)\n      if (!end) return\n      if (!openTag[1] && end != \"selfClose\") {\n        var startPos = Pos(iter.line, iter.ch);\n        var endPos = findMatchingClose(iter, openTag[2]);\n        return endPos && cmp(endPos.from, startPos) > 0 ? {from: startPos, to: endPos.from} : null\n      }\n    }\n  });\n  CodeMirror.findMatchingTag = function(cm, pos, range) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    if (iter.text.indexOf(\">\") == -1 && iter.text.indexOf(\"<\") == -1) return;\n    var end = toTagEnd(iter), to = end && Pos(iter.line, iter.ch);\n    var start = end && toTagStart(iter);\n    if (!end || !start || cmp(iter, pos) > 0) return;\n    var here = {from: Pos(iter.line, iter.ch), to: to, tag: start[2]};\n    if (end == \"selfClose\") return {open: here, close: null, at: \"open\"};\n\n    if (start[1]) { // closing tag\n      return {open: findMatchingOpen(iter, start[2]), close: here, at: \"close\"};\n    } else { // opening tag\n      iter = new Iter(cm, to.line, to.ch, range);\n      return {open: here, close: findMatchingClose(iter, start[2]), at: \"open\"};\n    }\n  };\n\n  CodeMirror.findEnclosingTag = function(cm, pos, range, tag) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    for (;;) {\n      var open = findMatchingOpen(iter, tag);\n      if (!open) break;\n      var forward = new Iter(cm, pos.line, pos.ch, range);\n      var close = findMatchingClose(forward, open.tag);\n      if (close) return {open: open, close: close};\n    }\n  };\n\n  // Used by addon/edit/closetag.js\n  CodeMirror.scanForClosingTag = function(cm, pos, name, end) {\n    var iter = new Iter(cm, pos.line, pos.ch, end ? {from: 0, to: end} : null);\n    return findMatchingClose(iter, name);\n  };\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=9d36a568&prod&lang=less&scope=true\"","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction bracketFolding(pairs) {\n  return function(cm, start) {\n    var line = start.line, lineText = cm.getLine(line);\n\n    function findOpening(pair) {\n      var tokenType;\n      for (var at = start.ch, pass = 0;;) {\n        var found = at <= 0 ? -1 : lineText.lastIndexOf(pair[0], at - 1);\n        if (found == -1) {\n          if (pass == 1) break;\n          pass = 1;\n          at = lineText.length;\n          continue;\n        }\n        if (pass == 1 && found < start.ch) break;\n        tokenType = cm.getTokenTypeAt(CodeMirror.Pos(line, found + 1));\n        if (!/^(comment|string)/.test(tokenType)) return {ch: found + 1, tokenType: tokenType, pair: pair};\n        at = found - 1;\n      }\n    }\n\n    function findRange(found) {\n      var count = 1, lastLine = cm.lastLine(), end, startCh = found.ch, endCh\n      outer: for (var i = line; i <= lastLine; ++i) {\n        var text = cm.getLine(i), pos = i == line ? startCh : 0;\n        for (;;) {\n          var nextOpen = text.indexOf(found.pair[0], pos), nextClose = text.indexOf(found.pair[1], pos);\n          if (nextOpen < 0) nextOpen = text.length;\n          if (nextClose < 0) nextClose = text.length;\n          pos = Math.min(nextOpen, nextClose);\n          if (pos == text.length) break;\n          if (cm.getTokenTypeAt(CodeMirror.Pos(i, pos + 1)) == found.tokenType) {\n            if (pos == nextOpen) ++count;\n            else if (!--count) { end = i; endCh = pos; break outer; }\n          }\n          ++pos;\n        }\n      }\n\n      if (end == null || line == end) return null\n      return {from: CodeMirror.Pos(line, startCh),\n              to: CodeMirror.Pos(end, endCh)};\n    }\n\n    var found = []\n    for (var i = 0; i < pairs.length; i++) {\n      var open = findOpening(pairs[i])\n      if (open) found.push(open)\n    }\n    found.sort(function(a, b) { return a.ch - b.ch })\n    for (var i = 0; i < found.length; i++) {\n      var range = findRange(found[i])\n      if (range) return range\n    }\n    return null\n  }\n}\n\nCodeMirror.registerHelper(\"fold\", \"brace\", bracketFolding([[\"{\", \"}\"], [\"[\", \"]\"]]));\n\nCodeMirror.registerHelper(\"fold\", \"brace-paren\", bracketFolding([[\"{\", \"}\"], [\"[\", \"]\"], [\"(\", \")\"]]));\n\nCodeMirror.registerHelper(\"fold\", \"import\", function(cm, start) {\n  function hasImport(line) {\n    if (line < cm.firstLine() || line > cm.lastLine()) return null;\n    var start = cm.getTokenAt(CodeMirror.Pos(line, 1));\n    if (!/\\S/.test(start.string)) start = cm.getTokenAt(CodeMirror.Pos(line, start.end + 1));\n    if (start.type != \"keyword\" || start.string != \"import\") return null;\n    // Now find closing semicolon, return its position\n    for (var i = line, e = Math.min(cm.lastLine(), line + 10); i <= e; ++i) {\n      var text = cm.getLine(i), semi = text.indexOf(\";\");\n      if (semi != -1) return {startCh: start.end, end: CodeMirror.Pos(i, semi)};\n    }\n  }\n\n  var startLine = start.line, has = hasImport(startLine), prev;\n  if (!has || hasImport(startLine - 1) || ((prev = hasImport(startLine - 2)) && prev.end.line == startLine - 1))\n    return null;\n  for (var end = has.end;;) {\n    var next = hasImport(end.line + 1);\n    if (next == null) break;\n    end = next.end;\n  }\n  return {from: cm.clipPos(CodeMirror.Pos(startLine, has.startCh + 1)), to: end};\n});\n\nCodeMirror.registerHelper(\"fold\", \"include\", function(cm, start) {\n  function hasInclude(line) {\n    if (line < cm.firstLine() || line > cm.lastLine()) return null;\n    var start = cm.getTokenAt(CodeMirror.Pos(line, 1));\n    if (!/\\S/.test(start.string)) start = cm.getTokenAt(CodeMirror.Pos(line, start.end + 1));\n    if (start.type == \"meta\" && start.string.slice(0, 8) == \"#include\") return start.start + 8;\n  }\n\n  var startLine = start.line, has = hasInclude(startLine);\n  if (has == null || hasInclude(startLine - 1) != null) return null;\n  for (var end = startLine;;) {\n    var next = hasInclude(end + 1);\n    if (next == null) break;\n    ++end;\n  }\n  return {from: CodeMirror.Pos(startLine, has + 1),\n          to: cm.clipPos(CodeMirror.Pos(end))};\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"))\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod)\n  else // Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n  var Pos = CodeMirror.Pos\n\n  function regexpFlags(regexp) {\n    var flags = regexp.flags\n    return flags != null ? flags : (regexp.ignoreCase ? \"i\" : \"\")\n      + (regexp.global ? \"g\" : \"\")\n      + (regexp.multiline ? \"m\" : \"\")\n  }\n\n  function ensureFlags(regexp, flags) {\n    var current = regexpFlags(regexp), target = current\n    for (var i = 0; i < flags.length; i++) if (target.indexOf(flags.charAt(i)) == -1)\n      target += flags.charAt(i)\n    return current == target ? regexp : new RegExp(regexp.source, target)\n  }\n\n  function maybeMultiline(regexp) {\n    return /\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source)\n  }\n\n  function searchRegexpForward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, last = doc.lastLine(); line <= last; line++, ch = 0) {\n      regexp.lastIndex = ch\n      var string = doc.getLine(line), match = regexp.exec(string)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpForwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpForward(doc, regexp, start)\n\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunk = 1\n    for (var line = start.line, last = doc.lastLine(); line <= last;) {\n      // This grows the search buffer in exponentially-sized chunks\n      // between matches, so that nearby matches are fast and don't\n      // require concatenating the whole document (in case we're\n      // searching for something that has tons of matches), but at the\n      // same time, the amount of retries is limited.\n      for (var i = 0; i < chunk; i++) {\n        if (line > last) break\n        var curLine = doc.getLine(line++)\n        string = string == null ? curLine : string + \"\\n\" + curLine\n      }\n      chunk = chunk * 2\n      regexp.lastIndex = start.ch\n      var match = regexp.exec(string)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = start.line + before.length - 1, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  function lastMatchIn(string, regexp, endMargin) {\n    var match, from = 0\n    while (from <= string.length) {\n      regexp.lastIndex = from\n      var newMatch = regexp.exec(string)\n      if (!newMatch) break\n      var end = newMatch.index + newMatch[0].length\n      if (end > string.length - endMargin) break\n      if (!match || end > match.index + match[0].length)\n        match = newMatch\n      from = newMatch.index + 1\n    }\n    return match\n  }\n\n  function searchRegexpBackward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, first = doc.firstLine(); line >= first; line--, ch = -1) {\n      var string = doc.getLine(line)\n      var match = lastMatchIn(string, regexp, ch < 0 ? 0 : string.length - ch)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpBackwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpBackward(doc, regexp, start)\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunkSize = 1, endMargin = doc.getLine(start.line).length - start.ch\n    for (var line = start.line, first = doc.firstLine(); line >= first;) {\n      for (var i = 0; i < chunkSize && line >= first; i++) {\n        var curLine = doc.getLine(line--)\n        string = string == null ? curLine : curLine + \"\\n\" + string\n      }\n      chunkSize *= 2\n\n      var match = lastMatchIn(string, regexp, endMargin)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = line + before.length, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  var doFold, noFold\n  if (String.prototype.normalize) {\n    doFold = function(str) { return str.normalize(\"NFD\").toLowerCase() }\n    noFold = function(str) { return str.normalize(\"NFD\") }\n  } else {\n    doFold = function(str) { return str.toLowerCase() }\n    noFold = function(str) { return str }\n  }\n\n  // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n  function adjustPos(orig, folded, pos, foldFunc) {\n    if (orig.length == folded.length) return pos\n    for (var min = 0, max = pos + Math.max(0, orig.length - folded.length);;) {\n      if (min == max) return min\n      var mid = (min + max) >> 1\n      var len = foldFunc(orig.slice(0, mid)).length\n      if (len == pos) return mid\n      else if (len > pos) max = mid\n      else min = mid + 1\n    }\n  }\n\n  function searchStringForward(doc, query, start, caseFold) {\n    // Empty string would match anything and never progress, so we\n    // define it to match nothing instead.\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, last = doc.lastLine() + 1 - lines.length; line <= last; line++, ch = 0) {\n      var orig = doc.getLine(line).slice(ch), string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.indexOf(lines[0])\n        if (found == -1) continue search\n        var start = adjustPos(orig, string, found, fold) + ch\n        return {from: Pos(line, adjustPos(orig, string, found, fold) + ch),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold) + ch)}\n      } else {\n        var cutFrom = string.length - lines[0].length\n        if (string.slice(cutFrom) != lines[0]) continue search\n        for (var i = 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(line + i)) != lines[i]) continue search\n        var end = doc.getLine(line + lines.length - 1), endString = fold(end), lastLine = lines[lines.length - 1]\n        if (endString.slice(0, lastLine.length) != lastLine) continue search\n        return {from: Pos(line, adjustPos(orig, string, cutFrom, fold) + ch),\n                to: Pos(line + lines.length - 1, adjustPos(end, endString, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function searchStringBackward(doc, query, start, caseFold) {\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, first = doc.firstLine() - 1 + lines.length; line >= first; line--, ch = -1) {\n      var orig = doc.getLine(line)\n      if (ch > -1) orig = orig.slice(0, ch)\n      var string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.lastIndexOf(lines[0])\n        if (found == -1) continue search\n        return {from: Pos(line, adjustPos(orig, string, found, fold)),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold))}\n      } else {\n        var lastLine = lines[lines.length - 1]\n        if (string.slice(0, lastLine.length) != lastLine) continue search\n        for (var i = 1, start = line - lines.length + 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(start + i)) != lines[i]) continue search\n        var top = doc.getLine(line + 1 - lines.length), topString = fold(top)\n        if (topString.slice(topString.length - lines[0].length) != lines[0]) continue search\n        return {from: Pos(line + 1 - lines.length, adjustPos(top, topString, top.length - lines[0].length, fold)),\n                to: Pos(line, adjustPos(orig, string, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function SearchCursor(doc, query, pos, options) {\n    this.atOccurrence = false\n    this.afterEmptyMatch = false\n    this.doc = doc\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0)\n    this.pos = {from: pos, to: pos}\n\n    var caseFold\n    if (typeof options == \"object\") {\n      caseFold = options.caseFold\n    } else { // Backwards compat for when caseFold was the 4th argument\n      caseFold = options\n      options = null\n    }\n\n    if (typeof query == \"string\") {\n      if (caseFold == null) caseFold = false\n      this.matches = function(reverse, pos) {\n        return (reverse ? searchStringBackward : searchStringForward)(doc, query, pos, caseFold)\n      }\n    } else {\n      query = ensureFlags(query, \"gm\")\n      if (!options || options.multiline !== false)\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackwardMultiline : searchRegexpForwardMultiline)(doc, query, pos)\n        }\n      else\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackward : searchRegexpForward)(doc, query, pos)\n        }\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function() {return this.find(false)},\n    findPrevious: function() {return this.find(true)},\n\n    find: function(reverse) {\n      var head = this.doc.clipPos(reverse ? this.pos.from : this.pos.to);\n      if (this.afterEmptyMatch && this.atOccurrence) {\n        // do not return the same 0 width match twice\n        head = Pos(head.line, head.ch)\n        if (reverse) {\n          head.ch--;\n          if (head.ch < 0) {\n            head.line--;\n            head.ch = (this.doc.getLine(head.line) || \"\").length;\n          }\n        } else {\n          head.ch++;\n          if (head.ch > (this.doc.getLine(head.line) || \"\").length) {\n            head.ch = 0;\n            head.line++;\n          }\n        }\n        if (CodeMirror.cmpPos(head, this.doc.clipPos(head)) != 0) {\n           return this.atOccurrence = false\n        }\n      }\n      var result = this.matches(reverse, head)\n      this.afterEmptyMatch = result && CodeMirror.cmpPos(result.from, result.to) == 0\n\n      if (result) {\n        this.pos = result\n        this.atOccurrence = true\n        return this.pos.match || true\n      } else {\n        var end = Pos(reverse ? this.doc.firstLine() : this.doc.lastLine() + 1, 0)\n        this.pos = {from: end, to: end}\n        return this.atOccurrence = false\n      }\n    },\n\n    from: function() {if (this.atOccurrence) return this.pos.from},\n    to: function() {if (this.atOccurrence) return this.pos.to},\n\n    replace: function(newText, origin) {\n      if (!this.atOccurrence) return\n      var lines = CodeMirror.splitLines(newText)\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin)\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1,\n                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0))\n    }\n  }\n\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold)\n  })\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold)\n  })\n\n  CodeMirror.defineExtension(\"selectMatches\", function(query, caseFold) {\n    var ranges = []\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold)\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break\n      ranges.push({anchor: cur.from(), head: cur.to()})\n    }\n    if (ranges.length)\n      this.setSelections(ranges, 0)\n  })\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./foldcode\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./foldcode\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"foldGutter\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.clearGutter(cm.state.foldGutter.options.gutter);\n      cm.state.foldGutter = null;\n      cm.off(\"gutterClick\", onGutterClick);\n      cm.off(\"changes\", onChange);\n      cm.off(\"viewportChange\", onViewportChange);\n      cm.off(\"fold\", onFold);\n      cm.off(\"unfold\", onFold);\n      cm.off(\"swapDoc\", onChange);\n      cm.off(\"optionChange\", optionChange);\n    }\n    if (val) {\n      cm.state.foldGutter = new State(parseOptions(val));\n      updateInViewport(cm);\n      cm.on(\"gutterClick\", onGutterClick);\n      cm.on(\"changes\", onChange);\n      cm.on(\"viewportChange\", onViewportChange);\n      cm.on(\"fold\", onFold);\n      cm.on(\"unfold\", onFold);\n      cm.on(\"swapDoc\", onChange);\n      cm.on(\"optionChange\", optionChange);\n    }\n  });\n\n  var Pos = CodeMirror.Pos;\n\n  function State(options) {\n    this.options = options;\n    this.from = this.to = 0;\n  }\n\n  function parseOptions(opts) {\n    if (opts === true) opts = {};\n    if (opts.gutter == null) opts.gutter = \"CodeMirror-foldgutter\";\n    if (opts.indicatorOpen == null) opts.indicatorOpen = \"CodeMirror-foldgutter-open\";\n    if (opts.indicatorFolded == null) opts.indicatorFolded = \"CodeMirror-foldgutter-folded\";\n    return opts;\n  }\n\n  function isFolded(cm, line) {\n    var marks = cm.findMarks(Pos(line, 0), Pos(line + 1, 0));\n    for (var i = 0; i < marks.length; ++i) {\n      if (marks[i].__isFold) {\n        var fromPos = marks[i].find(-1);\n        if (fromPos && fromPos.line === line)\n          return marks[i];\n      }\n    }\n  }\n\n  function marker(spec) {\n    if (typeof spec == \"string\") {\n      var elt = document.createElement(\"div\");\n      elt.className = spec + \" CodeMirror-guttermarker-subtle\";\n      return elt;\n    } else {\n      return spec.cloneNode(true);\n    }\n  }\n\n  function updateFoldInfo(cm, from, to) {\n    var opts = cm.state.foldGutter.options, cur = from - 1;\n    var minSize = cm.foldOption(opts, \"minFoldSize\");\n    var func = cm.foldOption(opts, \"rangeFinder\");\n    // we can reuse the built-in indicator element if its className matches the new state\n    var clsFolded = typeof opts.indicatorFolded == \"string\" && classTest(opts.indicatorFolded);\n    var clsOpen = typeof opts.indicatorOpen == \"string\" && classTest(opts.indicatorOpen);\n    cm.eachLine(from, to, function(line) {\n      ++cur;\n      var mark = null;\n      var old = line.gutterMarkers;\n      if (old) old = old[opts.gutter];\n      if (isFolded(cm, cur)) {\n        if (clsFolded && old && clsFolded.test(old.className)) return;\n        mark = marker(opts.indicatorFolded);\n      } else {\n        var pos = Pos(cur, 0);\n        var range = func && func(cm, pos);\n        if (range && range.to.line - range.from.line >= minSize) {\n          if (clsOpen && old && clsOpen.test(old.className)) return;\n          mark = marker(opts.indicatorOpen);\n        }\n      }\n      if (!mark && !old) return;\n      cm.setGutterMarker(line, opts.gutter, mark);\n    });\n  }\n\n  // copied from CodeMirror/src/util/dom.js\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  function updateInViewport(cm) {\n    var vp = cm.getViewport(), state = cm.state.foldGutter;\n    if (!state) return;\n    cm.operation(function() {\n      updateFoldInfo(cm, vp.from, vp.to);\n    });\n    state.from = vp.from; state.to = vp.to;\n  }\n\n  function onGutterClick(cm, line, gutter) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    if (gutter != opts.gutter) return;\n    var folded = isFolded(cm, line);\n    if (folded) folded.clear();\n    else cm.foldCode(Pos(line, 0), opts);\n  }\n\n  function optionChange(cm, option) {\n    if (option == \"mode\") onChange(cm)\n  }\n\n  function onChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    state.from = state.to = 0;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() { updateInViewport(cm); }, opts.foldOnChangeTimeSpan || 600);\n  }\n\n  function onViewportChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() {\n      var vp = cm.getViewport();\n      if (state.from == state.to || vp.from - state.to > 20 || state.from - vp.to > 20) {\n        updateInViewport(cm);\n      } else {\n        cm.operation(function() {\n          if (vp.from < state.from) {\n            updateFoldInfo(cm, vp.from, state.from);\n            state.from = vp.from;\n          }\n          if (vp.to > state.to) {\n            updateFoldInfo(cm, state.to, vp.to);\n            state.to = vp.to;\n          }\n        });\n      }\n    }, opts.updateViewportTimeSpan || 400);\n  }\n\n  function onFold(cm, from) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var line = from.line;\n    if (line >= state.from && line < state.to)\n      updateFoldInfo(cm, line, line + 1);\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function lower(tagName) {\n    return tagName && tagName.toLowerCase();\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(lower(parentTagName)) ||\n          !config.contextGrabbers[lower(parentTagName)].hasOwnProperty(lower(nextTagName))) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(lower(state.context.tagName)))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(lower(tagName))) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(lower(context.tagName))) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[lower(context.tagName)];\n          if (grabbers && grabbers.hasOwnProperty(lower(tagAfter[2])))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../javascript/javascript\"), require(\"../css/css\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../javascript/javascript\", \"../css/css\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var defaultTags = {\n    script: [\n      [\"lang\", /(javascript|babel)/i, \"javascript\"],\n      [\"type\", /^(?:text|application)\\/(?:x-)?(?:java|ecma)script$|^module$|^$/i, \"javascript\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"javascript\"]\n    ],\n    style:  [\n      [\"lang\", /^css$/i, \"css\"],\n      [\"type\", /^(text\\/)?(x-)?(stylesheet|css)$/i, \"css\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"css\"]\n    ]\n  };\n\n  function maybeBackup(stream, pat, style) {\n    var cur = stream.current(), close = cur.search(pat);\n    if (close > -1) {\n      stream.backUp(cur.length - close);\n    } else if (cur.match(/<\\/?$/)) {\n      stream.backUp(cur.length);\n      if (!stream.match(pat, false)) stream.match(cur);\n    }\n    return style;\n  }\n\n  var attrRegexpCache = {};\n  function getAttrRegexp(attr) {\n    var regexp = attrRegexpCache[attr];\n    if (regexp) return regexp;\n    return attrRegexpCache[attr] = new RegExp(\"\\\\s+\" + attr + \"\\\\s*=\\\\s*('|\\\")?([^'\\\"]+)('|\\\")?\\\\s*\");\n  }\n\n  function getAttrValue(text, attr) {\n    var match = text.match(getAttrRegexp(attr))\n    return match ? /^\\s*(.*?)\\s*$/.exec(match[2])[1] : \"\"\n  }\n\n  function getTagRegexp(tagName, anchored) {\n    return new RegExp((anchored ? \"^\" : \"\") + \"<\\/\\\\s*\" + tagName + \"\\\\s*>\", \"i\");\n  }\n\n  function addTags(from, to) {\n    for (var tag in from) {\n      var dest = to[tag] || (to[tag] = []);\n      var source = from[tag];\n      for (var i = source.length - 1; i >= 0; i--)\n        dest.unshift(source[i])\n    }\n  }\n\n  function findMatchingMode(tagInfo, tagText) {\n    for (var i = 0; i < tagInfo.length; i++) {\n      var spec = tagInfo[i];\n      if (!spec[0] || spec[1].test(getAttrValue(tagText, spec[0]))) return spec[2];\n    }\n  }\n\n  CodeMirror.defineMode(\"htmlmixed\", function (config, parserConfig) {\n    var htmlMode = CodeMirror.getMode(config, {\n      name: \"xml\",\n      htmlMode: true,\n      multilineTagIndentFactor: parserConfig.multilineTagIndentFactor,\n      multilineTagIndentPastTag: parserConfig.multilineTagIndentPastTag,\n      allowMissingTagName: parserConfig.allowMissingTagName,\n    });\n\n    var tags = {};\n    var configTags = parserConfig && parserConfig.tags, configScript = parserConfig && parserConfig.scriptTypes;\n    addTags(defaultTags, tags);\n    if (configTags) addTags(configTags, tags);\n    if (configScript) for (var i = configScript.length - 1; i >= 0; i--)\n      tags.script.unshift([\"type\", configScript[i].matches, configScript[i].mode])\n\n    function html(stream, state) {\n      var style = htmlMode.token(stream, state.htmlState), tag = /\\btag\\b/.test(style), tagName\n      if (tag && !/[<>\\s\\/]/.test(stream.current()) &&\n          (tagName = state.htmlState.tagName && state.htmlState.tagName.toLowerCase()) &&\n          tags.hasOwnProperty(tagName)) {\n        state.inTag = tagName + \" \"\n      } else if (state.inTag && tag && />$/.test(stream.current())) {\n        var inTag = /^([\\S]+) (.*)/.exec(state.inTag)\n        state.inTag = null\n        var modeSpec = stream.current() == \">\" && findMatchingMode(tags[inTag[1]], inTag[2])\n        var mode = CodeMirror.getMode(config, modeSpec)\n        var endTagA = getTagRegexp(inTag[1], true), endTag = getTagRegexp(inTag[1], false);\n        state.token = function (stream, state) {\n          if (stream.match(endTagA, false)) {\n            state.token = html;\n            state.localState = state.localMode = null;\n            return null;\n          }\n          return maybeBackup(stream, endTag, state.localMode.token(stream, state.localState));\n        };\n        state.localMode = mode;\n        state.localState = CodeMirror.startState(mode, htmlMode.indent(state.htmlState, \"\", \"\"));\n      } else if (state.inTag) {\n        state.inTag += stream.current()\n        if (stream.eol()) state.inTag += \" \"\n      }\n      return style;\n    };\n\n    return {\n      startState: function () {\n        var state = CodeMirror.startState(htmlMode);\n        return {token: html, inTag: null, localMode: null, localState: null, htmlState: state};\n      },\n\n      copyState: function (state) {\n        var local;\n        if (state.localState) {\n          local = CodeMirror.copyState(state.localMode, state.localState);\n        }\n        return {token: state.token, inTag: state.inTag,\n                localMode: state.localMode, localState: local,\n                htmlState: CodeMirror.copyState(htmlMode, state.htmlState)};\n      },\n\n      token: function (stream, state) {\n        return state.token(stream, state);\n      },\n\n      indent: function (state, textAfter, line) {\n        if (!state.localMode || /^\\s*<\\//.test(textAfter))\n          return htmlMode.indent(state.htmlState, textAfter, line);\n        else if (state.localMode.indent)\n          return state.localMode.indent(state.localState, textAfter, line);\n        else\n          return CodeMirror.Pass;\n      },\n\n      innerMode: function (state) {\n        return {state: state.localState || state.htmlState, mode: state.localMode || htmlMode};\n      }\n    };\n  }, \"xml\", \"javascript\", \"css\");\n\n  CodeMirror.defineMIME(\"text/html\", \"htmlmixed\");\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var trackScope = parserConfig.trackScope !== false\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)) {\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\" && stream.peek() == \"!\") {\n      stream.skipToEnd();\n      return ret(\"meta\", \"meta\");\n    } else if (ch == \"#\" && stream.eatWhile(wordRE)) {\n      return ret(\"variable\", \"property\")\n    } else if (ch == \"<\" && stream.match(\"!--\") ||\n               (ch == \"-\" && stream.match(\"->\") && !/\\S/.test(stream.string.slice(0, stream.start)))) {\n      stream.skipToEnd()\n      return ret(\"comment\", \"comment\")\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (/[<>*+\\-|&?]/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      if (ch == \"?\" && stream.eat(\".\")) return ret(\".\")\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/`]/.test(ch)) {\n        for (;; --pos) {\n          if (pos == 0) return\n          var next = stream.string.charAt(pos - 1)\n          if (next == ch && stream.string.charAt(pos - 2) != \"\\\\\") { pos--; break }\n        }\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true,\n                     \"regexp\": true, \"this\": true, \"import\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    if (!trackScope) return false\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function inList(name, list) {\n    for (var v = list; v; v = v.next) if (v.name == name) return true\n    return false;\n  }\n  function register(varname) {\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (!trackScope) return\n    if (state.context) {\n      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n        // FIXME function decls are also not block scoped\n        var newContext = registerVarScoped(varname, state.context)\n        if (newContext != null) {\n          state.context = newContext\n          return\n        }\n      } else if (!inList(varname, state.localVars)) {\n        state.localVars = new Var(varname, state.localVars)\n        return\n      }\n    }\n    // Fall through means this is global\n    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n      state.globalVars = new Var(varname, state.globalVars)\n  }\n  function registerVarScoped(varname, context) {\n    if (!context) {\n      return null\n    } else if (context.block) {\n      var inner = registerVarScoped(varname, context.prev)\n      if (!inner) return null\n      if (inner == context.prev) return context\n      return new Context(inner, context.vars, true)\n    } else if (inList(varname, context.vars)) {\n      return context\n    } else {\n      return new Context(context.prev, new Var(varname, context.vars), false)\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  // Combinators\n\n  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block }\n  function Var(name, next) { this.name = name; this.next = next }\n\n  var defaultVars = new Var(\"this\", new Var(\"arguments\", null))\n  function pushcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, false)\n    cx.state.localVars = defaultVars\n  }\n  function pushblockcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, true)\n    cx.state.localVars = null\n  }\n  pushcontext.lex = pushblockcontext.lex = true\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars\n    cx.state.context = cx.state.context.prev\n  }\n  popcontext.lex = true\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\" || type == \"}\" || type == \")\" || type == \"]\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), pushblockcontext, forspec, statement, popcontext, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) {\n      cx.marked = \"keyword\"\n      return cont(pushlex(\"form\", type == \"class\" ? type : value), className, poplex)\n    }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(/^\\s*\\w/, false)) {\n        cx.marked = \"keyword\"\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typename, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), expression, statement, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n                                      block, poplex, poplex, popcontext);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function maybeCatchBinding(type) {\n    if (type == \"(\") return cont(funarg, expect(\")\"))\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(maybeexpression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(maybeexpression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\"\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      if (sep && sep.indexOf(\";\") > -1) return pass(what)\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function maybetypeOrIn(type, value) {\n    if (isTS && (type == \":\" || value == \"in\")) return cont(typeexpr)\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\" || value == \"infer\" || value == \"readonly\") {\n      cx.marked = \"keyword\"\n      return cont(value == \"typeof\" ? expressionNoComma : typeexpr)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\"\n      return cont(afterType)\n    }\n    if (value == \"|\" || value == \"&\") return cont(typeexpr)\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), typeprops, poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType, afterType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n    if (type == \"quasi\") { return pass(quasiType, afterType); }\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprops(type) {\n    if (type.match(/[\\}\\)\\]]/)) return cont()\n    if (type == \",\" || type == \";\") return cont(typeprops)\n    return pass(typeprop, typeprops)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\" || type == \"number\" || type == \"string\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expect(\"variable\"), maybetypeOrIn, expect(\"]\"), typeprop)\n    } else if (type == \"(\") {\n      return pass(functiondecl, typeprop)\n    } else if (!type.match(/[;\\}\\)\\],]/)) {\n      return cont()\n    }\n  }\n  function quasiType(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasiType);\n    return cont(typeexpr, continueQuasiType);\n  }\n  function continueQuasiType(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasiType);\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(/^\\s*[?:]/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    if (type == \"spread\") return cont(typearg)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(typeexpr, expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n    if (value == \"?\") return cont(typeexpr, expect(\":\"), typeexpr)\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(eltpattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    if (type == \"[\") return cont(expression, expect(']'), expect(':'), proppattern);\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function eltpattern() {\n    return pass(pattern, maybeAssign)\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, forspec2);\n    if (type == \"variable\") return cont(forspec2);\n    return pass(forspec2)\n  }\n  function forspec2(type, value) {\n    if (type == \")\") return cont()\n    if (type == \";\") return cont(forspec2)\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression, forspec2) }\n    return pass(expression, forspec2)\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function functiondecl(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondecl);}\n    if (type == \"variable\") {register(value); return cont(functiondecl);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondecl)\n  }\n  function typename(type, value) {\n    if (type == \"keyword\" || type == \"variable\") {\n      cx.marked = \"type\"\n      return cont(typename)\n    } else if (value == \"<\") {\n      return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex)\n    }\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    if (isTS && type == \"this\") return cont(maybetype, maybeAssign)\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(/^\\s+#?[\\w$\\xa1-\\uffff]/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(classfield, classBody);\n    }\n    if (type == \"number\" || type == \"string\") return cont(classfield, classBody);\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), classfield, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (isTS && type == \"(\") return pass(functiondecl, classBody)\n    if (type == \";\" || type == \",\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"!\") return cont(classfield)\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    var context = cx.state.lexical.prev, isInterface = context && context.info == \"interface\"\n    return pass(isInterface ? functiondecl : functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    if (type == \".\") return pass(maybeoperatorComma);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && new Context(null, null, false),\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment || state.tokenize == tokenQuasi) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse && c != popcontext) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      parseJS(state, \"atom\", \"atom\", \"true\", new CodeMirror.StringStream(\"\", 2, null))\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application/x-json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application/manifest+json\", { name: \"javascript\", json: true })\nCodeMirror.defineMIME(\"application/ld+json\", { name: \"javascript\", jsonld: true });\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n"],"sourceRoot":""}